{"version":3,"sources":["store/actions/changeRoute.js","../../../../../libs/belt/src/compact.js","../../../../../libs/belt/src/get.js","../../../../../libs/belt/src/has.js","../../../../../libs/belt/src/last.js","../../../../../libs/belt/src/omit.js","../../../../../libs/belt/src/pick.js","../../../../../libs/belt/src/random.js","../../../../../libs/belt/src/range.js","../../../../../libs/belt/src/sample.js","../../../../../libs/belt/src/uid.js","../../../../../libs/belt/src/uniq.js","../../../../../libs/belt/src/index.js","store/actions/signupEmail.js","store/actions/signupPassword.js","store/actions/signupToken.js","store/actions/signinEmail.js","store/actions/signinPassword.js","store/actions/forgotEmail.js","store/actions/forgotPassword.js","store/actions/forgotToken.js","store/actions/index.js","store/checks/name.js","store/checks/email.js","store/checks/password.js","store/checks/index.js","store/alerts/index.js","store/index.js","lib/constants/Assets.js","lib/constants/Colors.js","lib/constants/IconsSVGs.js","lib/constants/Sizes.js","lib/control/SigninControl.js","lib/control/SignupControl.js","lib/control/ForgotControl.js","lib/index.js","ui/components/Button.js","ui/components/Carrousel.js","ui/components/Icons.js","ui/components/Input.js","ui/components/Modal.js","ui/components/Navigation.js","ui/components/NumKeyboard.js","ui/components/Progress.js","ui/components/Token.js","ui/components/index.js","ui/fragments/Header.js","ui/fragments/Tabs.js","ui/fragments/PasswordOptions.js","ui/fragments/index.js","ui/pages/<SignIn>/<>/Email.js","ui/pages/<SignIn>/<>/Password.js","ui/pages/<SignIn>/SignIn.js","ui/pages/<SignUp>/<>/Name.js","ui/pages/<SignUp>/<>/Email.js","ui/pages/<SignUp>/<>/Password.js","ui/pages/<SignUp>/<>/Token.js","ui/pages/<SignUp>/SignUp.js","ui/pages/<Welcome>/Welcome.js","ui/pages/<Forgot>/<>/Email.js","ui/pages/<Forgot>/<>/Password.js","ui/pages/<Forgot>/<>/Token.js","ui/pages/<Forgot>/Forgot.js","ui/Root.js","../config.js","../../../../../libs/client/src/store/methods/get.js","../../../../../libs/client/src/store/methods/subscribe.js","../../../../../libs/client/src/store/methods/set.js","../../../../../libs/client/src/store/methods/setItem.js","../../../../../libs/client/src/store/methods/toggle.js","../../../../../libs/client/src/store/methods/notify.js","../../../../../libs/client/src/store/methods/compute.js","../../../../../libs/client/src/store/methods/computeAll.js","../../../../../libs/client/src/store/methods/emit.js","../../../../../libs/client/src/store/methods/registerComponent.js","../../../../../libs/client/src/store/methods/on.js","../../../../../libs/client/src/store/methods/once.js","../../../../../libs/client/src/store/methods/render.js","../../../../../libs/client/src/store/methods/check.js","../../../../../libs/client/src/store/methods/alertOn.js","../../../../../libs/client/src/store/methods/alertOff.js","../../../../../libs/client/src/store/methods/callServerMethod.js","../../../../../libs/client/src/globals.js","../../../../../libs/client/src/store/db/getDataFromServer.js","../../../../../libs/client/src/store/db/syncDataToDB.js","../../../../../libs/client/src/store/db/getDBMetadata.js","../../../../../libs/client/src/store/db/updateDBControl.js","../../../../../libs/client/src/store/db/getModelData.js","../../../../../libs/client/src/store/db/start.js","../../../../../libs/client/src/store/db/hydrate.js","../../../../../libs/client/src/store/db/query.js","../../../../../libs/client/src/store/db/index.js","../../../../../libs/client/src/store/sockets/initSocket.js","../../../../../libs/client/src/store/sockets/onMessage.js","../../../../../libs/client/src/store/sockets/index.js","../../../../../../../../.npm-packages/lib/node_modules/parcel-bundler/node_modules/process/browser.js","../../../../../libs/client/src/store/lifecycle/connectStoreToServer.js","../../../../../libs/client/src/store/methods/startApp.js","../../../../../libs/client/src/store/methods/index.js","../../../../../libs/client/src/store/queue/addToQueue.js","../../../../../libs/client/src/store/queue/createProcesses.js","../../../../../libs/client/src/store/queue/processOptimistic.js","../../../../../libs/client/src/store/queue/processStep.js","../../../../../libs/client/src/store/queue/processor.js","../../../../../libs/client/src/store/queue/runTask.js","../../../../../libs/client/src/store/queue/index.js","../../../../../libs/client/src/store/lifecycle/createStore.js","../../../../../libs/client/src/store/index.js","../../../../../libs/client/src/ui/styles/registerStyles.js","../../../../../libs/client/node_modules/stylis/stylis.js","../../../../../libs/client/src/ui/styles/processStyle.js","../../../../../libs/client/src/ui/styles/getClasses.js","../../../../../libs/client/src/ui/styles/getStyles.js","../../../../../libs/client/src/ui/styles/index.js","../../../../../libs/client/src/ui/hoc/custom/getFinalProps.js","../../../../../libs/client/src/ui/hoc/custom/getStore.js","../../../../../libs/client/src/ui/hoc/custom/create.js","../../../../../libs/client/src/ui/hoc/createHoc.js","../src/lib/directive.ts","../src/lib/dom.ts","../src/lib/part.ts","../src/lib/template.ts","../src/lib/template-instance.ts","../src/lib/template-result.ts","../src/lib/parts.ts","../src/lib/default-template-processor.ts","../src/lib/template-factory.ts","../src/lib/render.ts","src/lit-html.ts","../src/directives/guard.ts","../src/directives/repeat.ts","../src/directives/unsafe-html.ts","../../../../../libs/client/src/ui/index.js","../../../../../libs/client/src/createClient.js","../../../../../libs/client/src/index.js","app.js"],"names":["args","page","action","steps","domain","method","currentPage","sideEffect","window","history","replaceState","pushState","back","compact","array","filter","Boolean","get","obj","key","defaultValue","Object","keys","length","undefined","splittedKeys","split","exit","reduce","acum","value","has","hasKey","last","slice","omit","includes","pick","random","low","high","Math","floor","range","Array","map","elem","sample","rand","uid","strLength","now","String","Date","middlePos","ceil","availableChars","availableCharsLength","str","i","randChar","charAt","substr","uniq","pos","arr","indexOf","Store","name","observables","email","toLowerCase","_id","_","optimistic","res","error","timeout","user_id","data","password","language","tokenDigits","token","join","isPasswordOK","location","replace","MIN_LENGTH","result","trim","message","en","es","REGEX","test","noSpaces","EMAIL_ALREADY_REGISTERED","INVALID_SIGNUP_TOKEN","INVALID_FORGOT_TOKEN","EMAIL_IS_NOT_REGISTERED","PASSWORD_IS_NOT_CORRECT","actions","checks","alerts","IMAGES_BASE_PATH","Assets","COMPANY_LOGO","Colors","GREEN_WELCOME","GREEN_SIGNUP","BLUE_SIGNIN","RED_WARNING","backspace","eyeOn","eyeOff","close","chevronLeft","chevronRight","linkedin","google","facebook","IconsSVGs","Sizes","HEADER_HEIGHT","TABS_HEIGHT","SigninControl","store","currentStep","currentCheck","check","checkResult","alert","find","item","isVisible","state","leftEnabled","rightEnabled","checkText","alertText","onClickLeft","set","onClickRight","call","SignupControl","ForgotControl","Button","client","hoc","classes","div","a","styles","color","bgColor","height","render","props","text","href","onClick","html","unsafeHTML","Carrousel","container","inner","screen","screens","Icons","lib","size","enabled","inStyle","icon","className","Input","input","onKeyDown","e","keyCode","preventDefault","type","placeholder","onInput","label","breakpoint","Modal","subcomponent","isSelected","modal","pages","component","Navigation","IconsComp","NumKeyboard","digitspan","digit","isSvg","onPressNum","onPressDel","ranges","Progress","numSteps","Token","Header","ui","components","onNavigateBack","image","src","Tabs","onSelectSignUp","onSelectSignIn","tab","isSignupSelected","PasswordOptions","onClickEye","toggle","onClickForgot","isPasswordVisible","isIconVisible","forgot","target","wrapper","title","subtitle","fragments","sections","Email","require","default","Password","concat","Name","button","SignIn","SignUp","Welcome","Forgot","signin","signup","welcome","rootComponent","env","development","httpPort","socketPort","baseUrl","baseFolder","useServiceWorker","useManifest","production","registerNumber","field","methods","subscribe","objects","observable","findListener","listeners","console","log","currentListeners","isSubscribed","push","isPlainValue","v","wasChanged","v1","v2","object","forEach","previousValue","previousValueClone","isArray","nextValue","warn","shouldNotify","notify","setItem","findIndex","x","id","cb","currentValue","computed","take","compute","flags","IS_MOUNTED","calc","values","computeAll","emit","eventStr","cbProps","reactions","keepAlive","done","reaction","callback","currentRegisterNumber","registerComponent","componentDef","definition","instances","on","once","renderer","Comp","node","defaultComponent","isString","parentNode","document","getElementById","Component","alertOn","rand1000","timestamp","setTimeout","alertOff","findAlert","callServerMethod","siteUrl","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","statusCode","status","responseReturned","responseText","JSON","parse","payloadString","stringify","send","SYSTEM_DB_USER_ID","WINDOW_APP_DATA","GET_MODEL_DATA_METHOD","getDataFromServer","instance","lastTimestamp","localEntitiesIds","requestArgs","globals","then","items","newTimestamp","catch","syncDataToDB","counter","modelStore","transaction","objectStore","requestPrevRecords","getAll","onsuccess","previousRecords","attrs","findRecord","rec","putRequest","put","getDBMetadata","controlStore","requestControlRecords","controlRecords","requestModelKeys","getAllKeys","onerror","updateDBControl","getModelData","requestRecords","start","version","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","request","onupgradeneeded","model","createObjectStore","keyPath","control","getCurrentAttrs","dbValue","hydrate","db","query","initSocket","socketUrl","onMessage","wsSupport","ws","WebSocket","sendJSON","onopen","isInitial","onclose","onmessage","payload","findEntity","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","len","run","nextTick","arguments","Item","prototype","apply","browser","argv","versions","noop","addListener","off","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","isBrowser","connectStoreToServer","sockets","startApp","appData","isProduction","navigator","serviceWorker","register","scope","registration","user","addToQueue","onError","objToQueue","splice","runTask","createProcesses","processes","singleAction","processOptimistic","isOK","entity","processStep","step","previousArgs","resolveOptimistic","response","err","processor","promises","proceed","p","fn","task","createStore","utils","registerStyles","styledRules","alreadyRegistered","innerHTML","processStyle","rules","out","getClasses","componentDefClasses","classKeys","mapping","newClassName","getStyles","componentStyles","styleKeys","isFunction","getFinalProps","classesMapping","processedStyles","getStore","measure","processedClasses","solveProps","renderComponent","children","finalProps","rendered","createHoc","htmlFn","guard","repeat","createClient","init","_client","onload","jmaguirrei_client","config"],"mappings":"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A5B,KAAgD,CAAC,CAA3E;AACA,MAAI,CAAC+O,iBAAL,EAAwBrL,IAAI,CAACsL,SAAL,IAAkBF,WAAlB;AAEzB;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9pDA;;;;AACA;AAEO,SAASG,YAAT,CAAsB3d,GAAtB,EAA2B4d,KAA3B,EAAkC;AAEvC,MAAI5d,GAAJ,EAAS,OAAO,gCAAWA,GAAX,GAAkB4d,KAAlB,CAAP,CAF8B,CAIvC;;AACA,MAAMC,GAAG,GAAG,qBAAO,EAAP,EAAWD,KAAX,CAAZ;AACA,SAAOC,GAAG,CAAClb,MAAJ,CAAW,CAAX,EAAckb,GAAG,CAACzd,MAAJ,GAAa,CAA3B,CAAP;AAGD;;;;;;;;;ACbD;;AAEO,SAAS0d,UAAT,CAAoBpP,cAApB,EAA8D;AAAA,MAA1BqP,mBAA0B,uEAAJ,EAAI;AAEnE,MAAMC,SAAS,GAAG9d,MAAM,CAACC,IAAP,CAAY4d,mBAAZ,CAAlB;AACA,MAAME,OAAO,GAAG,EAAhB;AAEA,MAAML,KAAK,GAAGI,SAAS,CAACvd,MAAV,CAAiB,UAACC,IAAD,EAAOV,GAAP,EAAe;AAC5C,QAAMke,YAAY,aAAMle,GAAN,eAAc0O,cAAd,CAAlB;AACAuP,IAAAA,OAAO,CAACje,GAAD,CAAP,GAAeke,YAAf;AACA,qBAAUxd,IAAV,SAAiB,gCAAawd,YAAb,EAA2BH,mBAAmB,CAAC/d,GAAD,CAA9C,CAAjB;AACD,GAJa,EAIX,EAJW,CAAd;AAOA,SAAO;AACL4d,IAAAA,KAAK,EAALA,KADK;AAELK,IAAAA,OAAO,EAAPA;AAFK,GAAP;AAKD;;;;;;;;;ACnBD;;;;;;AAEO,SAASE,SAAT,GAAyC;AAAA,MAAtBC,eAAsB,uEAAJ,EAAI;AAE9C,MAAMC,SAAS,GAAGne,MAAM,CAACC,IAAP,CAAYie,eAAZ,CAAlB,CAF8C,CAI9C;;AACA,SAAOC,SAAS,CAAC5d,MAAV,CAAiB,UAACC,IAAD,EAAOV,GAAP,EAAe;AACrC,QAAMse,UAAU,GAAG,OAAOF,eAAe,CAACpe,GAAD,CAAtB,KAAgC,UAAnD;AACA,6BACKU,IADL,sBAEGV,GAFH,EAESse,UAAU,GACb;AAAA,aAAa,gCAAa,IAAb,EAAmBF,eAAe,CAACpe,GAAD,CAAf,OAAAoe,eAAe,YAAlC,CAAb;AAAA,KADa,GAEb,gCAAa,IAAb,EAAmBA,eAAe,CAACpe,GAAD,CAAlC,CAJN;AAMD,GARM,EAQJ,EARI,CAAP;AAUD;;;;;;;;;AChBD;;AACA;;AACA;;eAGe;AAEbud,EAAAA,cAAc,EAAdA,8BAFa;AAGbO,EAAAA,UAAU,EAAVA,sBAHa;AAIbK,EAAAA,SAAS,EAATA;AAJa;;;;;;;;;;;;;;ACLR,SAASI,aAAT,CAAuB1f,IAAvB,EAA6B;AAAA,MAGhCoJ,MAHgC,GAQ9BpJ,IAR8B,CAGhCoJ,MAHgC;AAAA,MAIhCrB,KAJgC,GAQ9B/H,IAR8B,CAIhC+H,KAJgC;AAAA,MAKhCiL,YALgC,GAQ9BhT,IAR8B,CAKhCgT,YALgC;AAAA,MAMhC2M,cANgC,GAQ9B3f,IAR8B,CAMhC2f,cANgC;AAAA,MAOhCC,eAPgC,GAQ9B5f,IAR8B,CAOhC4f,eAPgC;AAAA,4BAa9B5M,YAb8B,CAWhCxK,KAXgC;AAAA,MAWhCA,KAXgC,oCAWxB;AAAA,WAAO,EAAP;AAAA,GAXwB;AAAA,8BAa9BwK,YAb8B,CAYhC1M,OAZgC;AAAA,MAYhCA,OAZgC,sCAYtB;AAAA,WAAO,EAAP;AAAA,GAZsB;;AAelC,MAAMgD,OAAO,qBACRjI,MAAM,CAACC,IAAP,CAAYqe,cAAZ,EAA4B/d,MAA5B,CAAmC,UAACC,IAAD,EAAOV,GAAP,EAAe;AACnD,6BAAYU,IAAZ,sBAAmBV,GAAnB,EAAyBwe,cAAc,CAACxe,GAAD,CAAvC;AACD,GAFE,EAEA,EAFA,CADQ,CAAb;;AAMA,MAAMiN,QAAQ,qBACT/M,MAAM,CAACC,IAAP,CAAY0R,YAAY,CAAC5E,QAAb,IAAyB,EAArC,EAAyCxM,MAAzC,CAAgD,UAACC,IAAD,EAAOV,GAAP,EAAe;AAChE,6BACKU,IADL,sBAEGV,GAFH,EAES6R,YAAY,CAAC5E,QAAb,CAAsBjN,GAAtB,EAA2BiI,MAA3B,CAFT;AAID,GALE,EAKA,EALA,CADS,CAAd;;AASA,SAAO,YAAgB;AAAA,QAAfU,KAAe,uEAAP,EAAO;AAErB,WAAO;AACLA,MAAAA,KAAK,EAALA,KADK;AAELtB,MAAAA,KAAK,EAAEA,KAAK,CAACsB,KAAD,EAAQ/B,KAAR,CAFP;AAGLzB,MAAAA,OAAO,EAAEA,OAAO,CAACwD,KAAD,EAAQ/B,KAAR,CAHX;AAIL0B,MAAAA,MAAM,EAAEmW,eAJH;AAKLtW,MAAAA,OAAO,EAAPA,OALK;AAML8E,MAAAA,QAAQ,EAARA;AANK,KAAP;AASD,GAXD;AAaD;;;;;;;;;AC3CM,SAASyR,QAAT,CAAkB1b,KAAlB,EAAyB0L,cAAzB,EAAyC;AAE9C,SAAO;AACLrJ,IAAAA,MAAM,EAAErC,KAAK,CAAC8L,OAAN,CAAczJ,MADjB;AAEL0B,IAAAA,KAAK,EAAE/D,KAAK,CAAC4L,OAAN,CAAc7H,KAFhB;AAGLwF,IAAAA,MAAM,EAAEvJ,KAAK,CAAC4L,OAAN,CAAcrC,MAHjB;AAILoS,IAAAA,OAAO,EAAE3b,KAAK,CAACsa,KAAN,CAAYqB,OAJhB;AAKLhX,IAAAA,GAAG,EAAE3E,KAAK,CAAC4L,OAAN,CAAcjH,GALd;AAML0I,IAAAA,OAAO,EAAErN,KAAK,CAAC4L,OAAN,CAAcyB,OANlB;AAOLxI,IAAAA,IAAI,EAAE7E,KAAK,CAACyV,OAAN,CAAc5Q,IAPf;AAQL/H,IAAAA,GAAG,EAAEkD,KAAK,CAAC4L,OAAN,CAAc9O,GAAd,CAAkB4O,cAAlB,CARA;AASLgJ,IAAAA,EAAE,EAAE1U,KAAK,CAAC0U,EAAN,GAAW1U,KAAK,CAAC0U,EAAN,CAASC,KAApB,GAA4B;AAAA,aAAMtX,SAAN;AAAA;AAT3B,GAAP;AAYD;;;;;;;;;ACfD;;AAEA;;AACA;;;;eAEe,kBAAC2C,KAAD,EAAQiF,MAAR;AAAA,SAAmB,UAAA4J,YAAY,EAAI;AAEhD,QAAMnD,cAAc,GAAG1L,KAAK,CAAC4L,OAAN,CAAcgD,iBAAd,CAAgCC,YAAhC,CAAvB;;AACA,QAAM+M,gBAAgB,GAAGtW,gBAAOwV,UAAP,CAAkBpP,cAAlB,EAAkCmD,YAAY,CAAC1J,OAA/C,CAAzB,CAHgD,CAIhD;;;AACAG,oBAAOiV,cAAP,CAAsB7O,cAAtB,EAAsCkQ,gBAAgB,CAAChB,KAAvD;;AAEA,QAAMhX,KAAK,GAAG,wBAAS5D,KAAT,EAAgB0L,cAAhB,CAAd;;AACA,QAAM+P,eAAe,GAAGnW,gBAAO6V,SAAP,CAAiBtM,YAAY,CAACvJ,MAA9B,CAAxB;;AAEA,QAAMuW,UAAU,GAAG,kCAAc;AAC/B5W,MAAAA,MAAM,EAANA,MAD+B;AAE/BrB,MAAAA,KAAK,EAALA,KAF+B;AAG/BiL,MAAAA,YAAY,EAAZA,YAH+B;AAI/B2M,MAAAA,cAAc,EAAEI,gBAAgB,CAACX,OAAjB,IAA4B,EAJb;AAK/BQ,MAAAA,eAAe,EAAfA;AAL+B,KAAd,CAAnB;AASA,WAAO,SAASK,eAAT,CAAyBnW,KAAzB,EAAgCoW,QAAhC,EAA0C;AAG/C;AACA,UAAMrW,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,YAAMsW,UAAU,GAAGH,UAAU,CAAClW,KAAD,CAA7B;AACA,YAAMsW,QAAQ,GAAGpN,YAAY,CAACnJ,MAAb,CAAoBsW,UAApB,EAAgCD,QAAhC,CAAjB;AACA,eAAOE,QAAP;AACD,OAJD,CAJ+C,CAU/C;;;AACA,UAAMA,QAAQ,GAAGvW,MAAM,EAAvB;AAEA,aAAOuW,QAAP;AAED,KAfD;AAiBD,GApCc;AAAA;;;;;;;;;;;ACJf;;;;AAEO,SAASC,SAAT,CAAmBlc,KAAnB,EAA0BiF,MAA1B,EAAkC;AAEvC,SAAO,qBAAgBjF,KAAhB,EAAuBiF,MAAvB,CAAP;AAED;;;;;;;;;ACRD;;;;;;;;;;;;;AAoBA,MAAM,UAAU,GAAG,IAAI,OAAJ,EAAnB;AAIA;;;;;;;;;;;;;;;;;;;;;AAoBO,MAAM,SAAS,GAAwB,CAArB,IACpB,CAAC,GAAG,IAAJ,KAAmB;AAClB,QAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAJ,CAAX;AACA,EAAA,UAAU,CAAC,GAAX,CAAe,CAAf,EAAkB,IAAlB;AACA,SAAO,CAAP;AACD,CALE;;;;AAOA,MAAM,WAAW,GAAI,CAAD,IACvB,OAAO,CAAP,KAAa,UAAb,IAA2B,UAAU,CAAC,GAAX,CAAe,CAAf,CADxB;;;;;;;;;;;ACnDP;;;;;;;;;;;;;;AAcA;;;;AAIA;;;AAGO,MAAM,YAAY,GAAG,MAAM,CAAC,cAAP,KAA0B,SAA1B,IACvB,MAAM,CAAC,cAAP,CAA8B,yBAA9B,KAA4D,SAD1D;AAGP;;;;;;;;;AAMO,MAAM,aAAa,GACtB,CAAC,SAAD,EACC,KADD,EAEC,GAAA,GAAiB,IAFlB,EAGC,MAAA,GAAoB,IAHrB,KAGmC;AACjC,MAAI,IAAI,GAAG,KAAX;;AACA,SAAO,IAAI,KAAK,GAAhB,EAAqB;AACnB,UAAM,CAAC,GAAG,IAAK,CAAC,WAAhB;AACA,IAAA,SAAS,CAAC,YAAV,CAAuB,IAAvB,EAA8B,MAA9B;AACA,IAAA,IAAI,GAAG,CAAP;AACD;AACF,CAXE;AAaP;;;;;;;;AAIO,MAAM,WAAW,GACpB,CAAC,SAAD,EAAkB,SAAlB,EAAwC,OAAA,GAAqB,IAA7D,KACW;AACL,MAAI,IAAI,GAAG,SAAX;;AACA,SAAO,IAAI,KAAK,OAAhB,EAAyB;AACvB,UAAM,CAAC,GAAG,IAAK,CAAC,WAAhB;AACA,IAAA,SAAS,CAAC,WAAV,CAAsB,IAAtB;AACA,IAAA,IAAI,GAAG,CAAP;AACD;AACF,CATF;;;;;;;;;;;AC/CP;;;;;;;;;;;;;;AAqCA;;;;AAIO,MAAM,QAAQ,GAAG,EAAjB;AAEP;;;;;AAGO,MAAM,OAAO,GAAG,EAAhB;;;;;;;;;;AC9CP;;;;;;;;;;;;;;AAoBA;;;;AAIO,MAAM,MAAM,GAAG,SAAS,MAAM,CAAC,IAAI,CAAC,MAAL,EAAD,CAAN,CAAsB,KAAtB,CAA4B,CAA5B,CAA8B,IAAtD;AAEP;;;;;;AAIO,MAAM,UAAU,GAAG,OAAO,MAAM,KAAhC;;AAEA,MAAM,WAAW,GAAG,IAAI,MAAJ,CAAW,GAAG,MAAM,IAAI,UAAU,EAAlC,CAApB;AAEP;;;;;AAGO,MAAM,oBAAoB,GAAG,OAA7B;AAEP;;;;;;AAGM,MAAO,QAAP,CAAe;AAInB,EAAA,WAAA,CAAY,MAAZ,EAAoC,OAApC,EAAgE;AAHhE,SAAA,KAAA,GAAwB,EAAxB;AAIE,SAAK,OAAL,GAAe,OAAf;AACA,QAAI,KAAK,GAAG,CAAC,CAAb;AACA,QAAI,SAAS,GAAG,CAAhB;AACA,UAAM,aAAa,GAAW,EAA9B;;AACA,UAAM,gBAAgB,GAAI,QAAD,IAAkC;AACzD,YAAM,OAAO,GAAG,QAAQ,CAAC,OAAzB,CADyD,CAEzD;AACA;;AACA,YAAM,MAAM,GAAG,QAAQ,CAAC,gBAAT,CACX,OADW,EAEX;AAAI;AAFO,QAGX,IAHW,EAIX,KAJW,CAAf,CAJyD,CASzD;AACA;AACA;;AACA,UAAI,aAAa,GAAG,CAApB;;AACA,aAAO,MAAM,CAAC,QAAP,EAAP,EAA0B;AACxB,QAAA,KAAK;AACL,cAAM,IAAI,GAAG,MAAM,CAAC,WAApB;;AACA,YAAI,IAAI,CAAC,QAAL,KAAkB;AAAE;AAAxB,UAAiD;AAC/C,gBAAK,IAAgB,CAAC,aAAjB,EAAL,EAAuC;AACrC,oBAAM,UAAU,GAAI,IAAgB,CAAC,UAArC,CADqC,CAErC;AACA;AACA;AACA;AACA;;AACA,kBAAI,KAAK,GAAG,CAAZ;;AACA,mBAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,UAAU,CAAC,MAA/B,EAAuC,CAAC,EAAxC,EAA4C;AAC1C,oBAAI,UAAU,CAAC,CAAD,CAAV,CAAc,KAAd,CAAoB,OAApB,CAA4B,MAA5B,KAAuC,CAA3C,EAA8C;AAC5C,kBAAA,KAAK;AACN;AACF;;AACD,qBAAO,KAAK,KAAK,CAAjB,EAAoB;AAClB;AACA;AACA,sBAAM,aAAa,GAAG,MAAM,CAAC,OAAP,CAAe,SAAf,CAAtB,CAHkB,CAIlB;;AACA,sBAAM,IAAI,GAAG,sBAAsB,CAAC,IAAvB,CAA4B,aAA5B,EAA4C,CAA5C,CAAb,CALkB,CAMlB;AACA;AACA;AACA;AACA;;AACA,sBAAM,mBAAmB,GACrB,IAAI,CAAC,WAAL,KAAqB,oBADzB;AAEA,sBAAM,cAAc,GACf,IAAgB,CAAC,YAAjB,CAA8B,mBAA9B,CADL;AAEA,sBAAM,OAAO,GAAG,cAAc,CAAC,KAAf,CAAqB,WAArB,CAAhB;AACA,qBAAK,KAAL,CAAW,IAAX,CAAgB;AAAC,kBAAA,IAAI,EAAE,WAAP;AAAoB,kBAAA,KAApB;AAA2B,kBAAA,IAA3B;AAAiC,kBAAA;AAAjC,iBAAhB;AACC,gBAAA,IAAgB,CAAC,eAAjB,CAAiC,mBAAjC;AACD,gBAAA,SAAS,IAAI,OAAO,CAAC,MAAR,GAAiB,CAA9B;AACD;AACF;;AACD,gBAAK,IAAgB,CAAC,OAAjB,KAA6B,UAAlC,EAA8C;AAC5C,cAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,WAtCD,MAsCO,IAAI,IAAI,CAAC,QAAL,KAAkB;AAAE;AAAxB,UAA8C;AACnD,kBAAM,IAAI,GAAI,IAAa,CAAC,IAA5B;;AACA,gBAAI,IAAI,CAAC,OAAL,CAAa,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,oBAAM,MAAM,GAAG,IAAI,CAAC,UAApB;AACA,oBAAM,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,WAAX,CAAhB;AACA,oBAAM,SAAS,GAAG,OAAO,CAAC,MAAR,GAAiB,CAAnC,CAH6B,CAI7B;AACA;;AACA,mBAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,SAApB,EAA+B,CAAC,EAAhC,EAAoC;AAClC,gBAAA,MAAM,CAAC,YAAP,CACK,OAAO,CAAC,CAAD,CAAP,KAAe,EAAhB,GAAsB,YAAY,EAAlC,GACsB,QAAQ,CAAC,cAAT,CAAwB,OAAO,CAAC,CAAD,CAA/B,CAF1B,EAGI,IAHJ;AAIA,qBAAK,KAAL,CAAW,IAAX,CAAgB;AAAC,kBAAA,IAAI,EAAE,MAAP;AAAe,kBAAA,KAAK,EAAE,EAAE;AAAxB,iBAAhB;AACD,eAZ4B,CAa7B;AACA;;;AACA,kBAAI,OAAO,CAAC,SAAD,CAAP,KAAuB,EAA3B,EAA+B;AAC7B,gBAAA,MAAM,CAAC,YAAP,CAAoB,YAAY,EAAhC,EAAoC,IAApC;AACA,gBAAA,aAAa,CAAC,IAAd,CAAmB,IAAnB;AACD,eAHD,MAGO;AACJ,gBAAA,IAAa,CAAC,IAAd,GAAqB,OAAO,CAAC,SAAD,CAA5B;AACF,eApB4B,CAqB7B;;;AACA,cAAA,SAAS,IAAI,SAAb;AACD;AACF,WA1BM,MA0BA,IAAI,IAAI,CAAC,QAAL,KAAkB;AAAE;AAAxB,UAAiD;AACtD,gBAAK,IAAgB,CAAC,IAAjB,KAA0B,MAA/B,EAAuC;AACrC,oBAAM,MAAM,GAAG,IAAI,CAAC,UAApB,CADqC,CAErC;AACA;AACA;AACA;;AACA,kBAAI,IAAI,CAAC,eAAL,KAAyB,IAAzB,IAAiC,KAAK,KAAK,aAA/C,EAA8D;AAC5D,gBAAA,KAAK;AACL,gBAAA,MAAM,CAAC,YAAP,CAAoB,YAAY,EAAhC,EAAoC,IAApC;AACD;;AACD,cAAA,aAAa,GAAG,KAAhB;AACA,mBAAK,KAAL,CAAW,IAAX,CAAgB;AAAC,gBAAA,IAAI,EAAE,MAAP;AAAe,gBAAA;AAAf,eAAhB,EAXqC,CAYrC;AACA;;AACA,kBAAI,IAAI,CAAC,WAAL,KAAqB,IAAzB,EAA+B;AAC5B,gBAAA,IAAgB,CAAC,IAAjB,GAAwB,EAAxB;AACF,eAFD,MAEO;AACL,gBAAA,aAAa,CAAC,IAAd,CAAmB,IAAnB;AACA,gBAAA,KAAK;AACN;;AACD,cAAA,SAAS;AACV,aArBD,MAqBO;AACL,kBAAI,CAAC,GAAG,CAAC,CAAT;;AACA,qBAAO,CAAC,CAAC,GAAI,IAAgB,CAAC,IAAjB,CAAuB,OAAvB,CAA+B,MAA/B,EAAuC,CAAC,GAAG,CAA3C,CAAN,MACA,CAAC,CADR,EACW;AACT;AACA;AACA;AACA;AACA,qBAAK,KAAL,CAAW,IAAX,CAAgB;AAAC,kBAAA,IAAI,EAAE,MAAP;AAAe,kBAAA,KAAK,EAAE,CAAC;AAAvB,iBAAhB;AACD;AACF;AACF;AACF;AACF,KAnHD;;AAoHA,IAAA,gBAAgB,CAAC,OAAD,CAAhB,CAzH8D,CA0H9D;;;AACA,SAAK,MAAM,CAAX,IAAgB,aAAhB,EAA+B;AAC7B,MAAA,CAAC,CAAC,UAAF,CAAc,WAAd,CAA0B,CAA1B;AACD;AACF;;AAlIkB;;;;AA0Jd,MAAM,oBAAoB,GAAI,IAAD,IAAwB,IAAI,CAAC,KAAL,KAAe,CAAC,CAArE,EAEP;AACA;;;;;AACO,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,aAAT,CAAuB,EAAvB,CAA3B;AAEP;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBO,MAAM,sBAAsB,GAC/B,4JADG;;;;;;;;;;ACjNP;;AAIA;;AAtBA;;;;;;;;;;;;;;AAcA;;;;AAUA;;;;AAIM,MAAO,gBAAP,CAAuB;AAM3B,EAAA,WAAA,CACI,QADJ,EACwB,SADxB,EAEI,OAFJ,EAE0B;AAP1B,SAAA,MAAA,GAAgC,EAAhC;AAQE,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,SAAL,GAAiB,SAAjB;AACA,SAAK,OAAL,GAAe,OAAf;AACD;;AAED,EAAA,MAAM,CAAC,MAAD,EAAc;AAClB,QAAI,CAAC,GAAG,CAAR;;AACA,SAAK,MAAM,IAAX,IAAmB,KAAK,MAAxB,EAAgC;AAC9B,UAAI,IAAI,KAAK,SAAb,EAAwB;AACtB,QAAA,IAAI,CAAC,QAAL,CAAc,MAAM,CAAC,CAAD,CAApB;AACD;;AACD,MAAA,CAAC;AACF;;AACD,SAAK,MAAM,IAAX,IAAmB,KAAK,MAAxB,EAAgC;AAC9B,UAAI,IAAI,KAAK,SAAb,EAAwB;AACtB,QAAA,IAAI,CAAC,MAAL;AACD;AACF;AACF;;AAED,EAAA,MAAM,GAAA;AACJ;AACA;AACA;AACA;AACA;AACA,UAAM,QAAQ,GAAG,oBACb,KAAK,QAAL,CAAc,OAAd,CAAsB,OAAtB,CAA8B,SAA9B,CAAwC,IAAxC,CADa,GAEb,QAAQ,CAAC,UAAT,CAAoB,KAAK,QAAL,CAAc,OAAd,CAAsB,OAA1C,EAAmD,IAAnD,CAFJ;AAIA,UAAM,KAAK,GAAG,KAAK,QAAL,CAAc,KAA5B;AACA,QAAI,SAAS,GAAG,CAAhB;AACA,QAAI,SAAS,GAAG,CAAhB;;AACA,UAAM,gBAAgB,GAAI,QAAD,IAA+B;AACtD;AACA;AACA,YAAM,MAAM,GAAG,QAAQ,CAAC,gBAAT,CACX,QADW,EAEX;AAAI;AAFO,QAGX,IAHW,EAIX,KAJW,CAAf;AAKA,UAAI,IAAI,GAAG,MAAM,CAAC,QAAP,EAAX,CARsD,CAStD;;AACA,aAAO,SAAS,GAAG,KAAK,CAAC,MAAlB,IAA4B,IAAI,KAAK,IAA5C,EAAkD;AAChD,cAAM,IAAI,GAAG,KAAK,CAAC,SAAD,CAAlB,CADgD,CAEhD;AACA;AACA;AACA;AACA;AACA;;AACA,YAAI,CAAC,oCAAqB,IAArB,CAAL,EAAiC;AAC/B,eAAK,MAAL,CAAY,IAAZ,CAAiB,SAAjB;;AACA,UAAA,SAAS;AACV,SAHD,MAGO,IAAI,SAAS,KAAK,IAAI,CAAC,KAAvB,EAA8B;AACnC,cAAI,IAAI,CAAC,IAAL,KAAc,MAAlB,EAA0B;AACxB,kBAAM,IAAI,GAAG,KAAK,SAAL,CAAe,oBAAf,CAAoC,KAAK,OAAzC,CAAb;AACA,YAAA,IAAI,CAAC,eAAL,CAAqB,IAAI,CAAC,eAA1B;;AACA,iBAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB;AACD,WAJD,MAIO;AACL,iBAAK,MAAL,CAAY,IAAZ,CAAiB,GAAG,KAAK,SAAL,CAAe,0BAAf,CAChB,IADgB,EACC,IAAI,CAAC,IADN,EACY,IAAI,CAAC,OADjB,EAC0B,KAAK,OAD/B,CAApB;AAED;;AACD,UAAA,SAAS;AACV,SAVM,MAUA;AACL,UAAA,SAAS;;AACT,cAAI,IAAI,CAAC,QAAL,KAAkB,UAAtB,EAAkC;AAChC,YAAA,gBAAgB,CAAE,IAA4B,CAAC,OAA/B,CAAhB;AACD;;AACD,UAAA,IAAI,GAAG,MAAM,CAAC,QAAP,EAAP;AACD;AACF;AACF,KAvCD;;AAwCA,IAAA,gBAAgB,CAAC,QAAD,CAAhB;;AACA,QAAI,iBAAJ,EAAkB;AAChB,MAAA,QAAQ,CAAC,SAAT,CAAmB,QAAnB;AACA,MAAA,cAAc,CAAC,OAAf,CAAuB,QAAvB;AACD;;AACD,WAAO,QAAP;AACD;;AAxF0B;;;;;;;;;;;ACV7B;;AAEA;;AApBA;;;;;;;;;;;;;;AAcA;;;;AAQA;;;;AAIM,MAAO,cAAP,CAAqB;AAMzB,EAAA,WAAA,CACI,OADJ,EACmC,MADnC,EACkD,IADlD,EAEI,SAFJ,EAEgC;AAC9B,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,SAAL,GAAiB,SAAjB;AACD;AAED;;;;;AAGA,EAAA,OAAO,GAAA;AACL,UAAM,QAAQ,GAAG,KAAK,OAAL,CAAa,MAAb,GAAsB,CAAvC;AACA,QAAI,IAAI,GAAG,EAAX;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,QAApB,EAA8B,CAAC,EAA/B,EAAmC;AACjC,YAAM,CAAC,GAAG,KAAK,OAAL,CAAa,CAAb,CAAV,CADiC,CAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,YAAM,KAAK,GAAG,iCAAuB,IAAvB,CAA4B,CAA5B,CAAd;;AACA,UAAI,KAAJ,EAAW;AACT;AACA;AACA;AACA,QAAA,IAAI,IAAI,CAAC,CAAC,MAAF,CAAS,CAAT,EAAY,KAAK,CAAC,KAAlB,IAA2B,KAAK,CAAC,CAAD,CAAhC,GAAsC,KAAK,CAAC,CAAD,CAA3C,GACJ,8BADI,GACmB,KAAK,CAAC,CAAD,CADxB,GAC8B,gBADtC;AAED,OAND,MAMO;AACL;AACA;AACA,QAAA,IAAI,IAAI,CAAC,GAAG,oBAAZ;AACD;AACF;;AACD,WAAO,IAAI,GAAG,KAAK,OAAL,CAAa,QAAb,CAAd;AACD;;AAED,EAAA,kBAAkB,GAAA;AAChB,UAAM,QAAQ,GAAG,QAAQ,CAAC,aAAT,CAAuB,UAAvB,CAAjB;AACA,IAAA,QAAQ,CAAC,SAAT,GAAqB,KAAK,OAAL,EAArB;AACA,WAAO,QAAP;AACD;;AApDwB;AAuD3B;;;;;;;;;;;AAOM,MAAO,iBAAP,SAAiC,cAAjC,CAA+C;AACnD,EAAA,OAAO,GAAA;AACL,WAAO,QAAQ,MAAM,OAAN,EAAe,QAA9B;AACD;;AAED,EAAA,kBAAkB,GAAA;AAChB,UAAM,QAAQ,GAAG,MAAM,kBAAN,EAAjB;AACA,UAAM,OAAO,GAAG,QAAQ,CAAC,OAAzB;AACA,UAAM,UAAU,GAAG,OAAO,CAAC,UAA3B;AACA,IAAA,OAAO,CAAC,WAAR,CAAoB,UAApB;AACA,4BAAc,OAAd,EAAuB,UAAU,CAAC,UAAlC;AACA,WAAO,QAAP;AACD;;AAZkD;;;;;;;;;;;ACtErD;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAxBA;;;;;;;;;;;;;;AAcA;;;AAYO,MAAM,WAAW,GAAI,KAAD,IACtB,KAAK,KAAK,IAAV,IACA,EAAE,OAAO,KAAP,KAAiB,QAAjB,IAA6B,OAAO,KAAP,KAAiB,UAAhD,CAFE;AAIP;;;;;;;;AAIM,MAAO,kBAAP,CAAyB;AAO7B,EAAA,WAAA,CAAY,OAAZ,EAA8B,IAA9B,EAA4C,OAA5C,EAA6D;AAF7D,SAAA,KAAA,GAAQ,IAAR;AAGE,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,KAAL,GAAa,EAAb;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,OAAO,CAAC,MAAR,GAAiB,CAArC,EAAwC,CAAC,EAAzC,EAA6C;AAC3C,WAAK,KAAL,CAAW,CAAX,IAAgB,KAAK,WAAL,EAAhB;AACD;AACF;AAED;;;;;AAGU,EAAA,WAAW,GAAA;AACnB,WAAO,IAAI,aAAJ,CAAkB,IAAlB,CAAP;AACD;;AAES,EAAA,SAAS,GAAA;AACjB,UAAM,OAAO,GAAG,KAAK,OAArB;AACA,UAAM,CAAC,GAAG,OAAO,CAAC,MAAR,GAAiB,CAA3B;AACA,QAAI,IAAI,GAAG,EAAX;;AAEA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAApB,EAAuB,CAAC,EAAxB,EAA4B;AAC1B,MAAA,IAAI,IAAI,OAAO,CAAC,CAAD,CAAf;AACA,YAAM,IAAI,GAAG,KAAK,KAAL,CAAW,CAAX,CAAb;;AACA,UAAI,IAAI,KAAK,SAAb,EAAwB;AACtB,cAAM,CAAC,GAAG,IAAI,CAAC,KAAf;;AACA,YAAI,CAAC,IAAI,IAAL,KACC,KAAK,CAAC,OAAN,CAAc,CAAd,KAAoB,OAAO,CAAP,KAAa,QAAb,IAAyB,CAAC,CAAC,MAAM,CAAC,QAAR,CAD/C,CAAJ,EACuE;AACrE,eAAK,MAAM,CAAX,IAAgB,CAAhB,EAAmB;AACjB,YAAA,IAAI,IAAI,OAAO,CAAP,KAAa,QAAb,GAAwB,CAAxB,GAA4B,MAAM,CAAC,CAAD,CAA1C;AACD;AACF,SALD,MAKO;AACL,UAAA,IAAI,IAAI,OAAO,CAAP,KAAa,QAAb,GAAwB,CAAxB,GAA4B,MAAM,CAAC,CAAD,CAA1C;AACD;AACF;AACF;;AAED,IAAA,IAAI,IAAI,OAAO,CAAC,CAAD,CAAf;AACA,WAAO,IAAP;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,QAAI,KAAK,KAAT,EAAgB;AACd,WAAK,KAAL,GAAa,KAAb;AACA,WAAK,OAAL,CAAa,YAAb,CAA0B,KAAK,IAA/B,EAAqC,KAAK,SAAL,EAArC;AACD;AACF;;AAtD4B;;;;AAyDzB,MAAO,aAAP,CAAoB;AAIxB,EAAA,WAAA,CAAY,QAAZ,EAAwC;AAFxC,SAAA,KAAA,GAAa,SAAb;AAGE,SAAK,SAAL,GAAiB,QAAjB;AACD;;AAED,EAAA,QAAQ,CAAC,KAAD,EAAW;AACjB,QAAI,KAAK,KAAK,cAAV,KAAuB,CAAC,WAAW,CAAC,KAAD,CAAZ,IAAuB,KAAK,KAAK,KAAK,KAA7D,CAAJ,EAAyE;AACvE,WAAK,KAAL,GAAa,KAAb,CADuE,CAEvE;AACA;AACA;;AACA,UAAI,CAAC,4BAAY,KAAZ,CAAL,EAAyB;AACvB,aAAK,SAAL,CAAe,KAAf,GAAuB,IAAvB;AACD;AACF;AACF;;AAED,EAAA,MAAM,GAAA;AACJ,WAAO,4BAAY,KAAK,KAAjB,CAAP,EAAgC;AAC9B,YAAM,SAAS,GAAG,KAAK,KAAvB;AACA,WAAK,KAAL,GAAa,cAAb;AACA,MAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACD,QAAI,KAAK,KAAL,KAAe,cAAnB,EAA6B;AAC3B;AACD;;AACD,SAAK,SAAL,CAAe,MAAf;AACD;;AA9BuB;;;;AAiCpB,MAAO,QAAP,CAAe;AAOnB,EAAA,WAAA,CAAY,OAAZ,EAAkC;AAHlC,SAAA,KAAA,GAAa,SAAb;AACA,SAAA,aAAA,GAAqB,SAArB;AAGE,SAAK,OAAL,GAAe,OAAf;AACD;AAED;;;;;;;AAKA,EAAA,UAAU,CAAC,SAAD,EAAgB;AACxB,SAAK,SAAL,GAAiB,SAAS,CAAC,WAAV,CAAsB,6BAAtB,CAAjB;AACA,SAAK,OAAL,GAAe,SAAS,CAAC,WAAV,CAAsB,6BAAtB,CAAf;AACD;AAED;;;;;;;;;AAOA,EAAA,eAAe,CAAC,GAAD,EAAU;AACvB,SAAK,SAAL,GAAiB,GAAjB;AACA,SAAK,OAAL,GAAe,GAAG,CAAC,WAAnB;AACD;AAED;;;;;;;AAKA,EAAA,cAAc,CAAC,IAAD,EAAe;AAC3B,IAAA,IAAI,CAAC,OAAL,CAAa,KAAK,SAAL,GAAiB,6BAA9B;;AACA,IAAA,IAAI,CAAC,OAAL,CAAa,KAAK,OAAL,GAAe,6BAA5B;AACD;AAED;;;;;;;AAKA,EAAA,eAAe,CAAC,GAAD,EAAc;AAC3B,IAAA,GAAG,CAAC,OAAJ,CAAY,KAAK,SAAL,GAAiB,6BAA7B;;AACA,SAAK,OAAL,GAAe,GAAG,CAAC,OAAnB;AACA,IAAA,GAAG,CAAC,OAAJ,GAAc,KAAK,SAAnB;AACD;;AAED,EAAA,QAAQ,CAAC,KAAD,EAAW;AACjB,SAAK,aAAL,GAAqB,KAArB;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,WAAO,4BAAY,KAAK,aAAjB,CAAP,EAAwC;AACtC,YAAM,SAAS,GAAG,KAAK,aAAvB;AACA,WAAK,aAAL,GAAqB,cAArB;AACA,MAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACD,UAAM,KAAK,GAAG,KAAK,aAAnB;;AACA,QAAI,KAAK,KAAK,cAAd,EAAwB;AACtB;AACD;;AACD,QAAI,WAAW,CAAC,KAAD,CAAf,EAAwB;AACtB,UAAI,KAAK,KAAK,KAAK,KAAnB,EAA0B;AACxB,aAAK,WAAL,CAAiB,KAAjB;AACD;AACF,KAJD,MAIO,IAAI,KAAK,YAAY,8BAArB,EAAqC;AAC1C,WAAK,qBAAL,CAA2B,KAA3B;AACD,KAFM,MAEA,IAAI,KAAK,YAAY,IAArB,EAA2B;AAChC,WAAK,WAAL,CAAiB,KAAjB;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,MAAM,CAAC,QAAR,CAAjC,EAAoD;AACzD,WAAK,eAAL,CAAqB,KAArB;AACD,KAFM,MAEA,IAAI,KAAK,KAAK,aAAd,EAAuB;AAC5B,WAAK,KAAL,GAAa,aAAb;AACA,WAAK,KAAL;AACD,KAHM,MAGA;AACL;AACA,WAAK,WAAL,CAAiB,KAAjB;AACD;AACF;;AAEO,EAAA,OAAO,CAAC,IAAD,EAAW;AACxB,SAAK,OAAL,CAAa,UAAb,CAAyB,YAAzB,CAAsC,IAAtC,EAA4C,KAAK,OAAjD;AACD;;AAEO,EAAA,WAAW,CAAC,KAAD,EAAY;AAC7B,QAAI,KAAK,KAAL,KAAe,KAAnB,EAA0B;AACxB;AACD;;AACD,SAAK,KAAL;;AACA,SAAK,OAAL,CAAa,KAAb;;AACA,SAAK,KAAL,GAAa,KAAb;AACD;;AAEO,EAAA,WAAW,CAAC,KAAD,EAAc;AAC/B,UAAM,IAAI,GAAG,KAAK,SAAL,CAAe,WAA5B;AACA,IAAA,KAAK,GAAG,KAAK,IAAI,IAAT,GAAgB,EAAhB,GAAqB,KAA7B;;AACA,QAAI,IAAI,KAAK,KAAK,OAAL,CAAa,eAAtB,IACA,IAAI,CAAC,QAAL,KAAkB;AAAE;AADxB,MAC8C;AAC5C;AACA;AACA;AACC,QAAA,IAAa,CAAC,IAAd,GAAqB,KAArB;AACF,OAND,MAMO;AACL,WAAK,WAAL,CAAiB,QAAQ,CAAC,cAAT,CACb,OAAO,KAAP,KAAiB,QAAjB,GAA4B,KAA5B,GAAoC,MAAM,CAAC,KAAD,CAD7B,CAAjB;AAED;;AACD,SAAK,KAAL,GAAa,KAAb;AACD;;AAEO,EAAA,qBAAqB,CAAC,KAAD,EAAsB;AACjD,UAAM,QAAQ,GAAG,KAAK,OAAL,CAAa,eAAb,CAA6B,KAA7B,CAAjB;;AACA,QAAI,KAAK,KAAL,IAAc,KAAK,KAAL,CAAW,QAAX,KAAwB,QAA1C,EAAoD;AAClD,WAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,CAAC,MAAxB;AACD,KAFD,MAEO;AACL;AACA;AACA;AACA;AACA,YAAM,QAAQ,GACV,IAAI,kCAAJ,CAAqB,QAArB,EAA+B,KAAK,CAAC,SAArC,EAAgD,KAAK,OAArD,CADJ;;AAEA,YAAM,QAAQ,GAAG,QAAQ,CAAC,MAAT,EAAjB;;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,KAAK,CAAC,MAAtB;;AACA,WAAK,WAAL,CAAiB,QAAjB;;AACA,WAAK,KAAL,GAAa,QAAb;AACD;AACF;;AAEO,EAAA,eAAe,CAAC,KAAD,EAAW;AAChC;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA,QAAI,CAAC,KAAK,CAAC,OAAN,CAAc,KAAK,KAAnB,CAAL,EAAgC;AAC9B,WAAK,KAAL,GAAa,EAAb;AACA,WAAK,KAAL;AACD,KAd+B,CAgBhC;AACA;;;AACA,UAAM,SAAS,GAAG,KAAK,KAAvB;AACA,QAAI,SAAS,GAAG,CAAhB;AACA,QAAI,QAAJ;;AAEA,SAAK,MAAM,IAAX,IAAmB,KAAnB,EAA0B;AACxB;AACA,MAAA,QAAQ,GAAG,SAAS,CAAC,SAAD,CAApB,CAFwB,CAIxB;;AACA,UAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,QAAA,QAAQ,GAAG,IAAI,QAAJ,CAAa,KAAK,OAAlB,CAAX;AACA,QAAA,SAAS,CAAC,IAAV,CAAe,QAAf;;AACA,YAAI,SAAS,KAAK,CAAlB,EAAqB;AACnB,UAAA,QAAQ,CAAC,cAAT,CAAwB,IAAxB;AACD,SAFD,MAEO;AACL,UAAA,QAAQ,CAAC,eAAT,CAAyB,SAAS,CAAC,SAAS,GAAG,CAAb,CAAlC;AACD;AACF;;AACD,MAAA,QAAQ,CAAC,QAAT,CAAkB,IAAlB;AACA,MAAA,QAAQ,CAAC,MAAT;AACA,MAAA,SAAS;AACV;;AAED,QAAI,SAAS,GAAG,SAAS,CAAC,MAA1B,EAAkC;AAChC;AACA,MAAA,SAAS,CAAC,MAAV,GAAmB,SAAnB;AACA,WAAK,KAAL,CAAW,QAAQ,IAAI,QAAS,CAAC,OAAjC;AACD;AACF;;AAED,EAAA,KAAK,CAAC,SAAA,GAAkB,KAAK,SAAxB,EAAiC;AACpC,0BACI,KAAK,SAAL,CAAe,UADnB,EACgC,SAAS,CAAC,WAD1C,EACwD,KAAK,OAD7D;AAED;;AAzLkB;AA4LrB;;;;;;;;;;;AAOM,MAAO,oBAAP,CAA2B;AAO/B,EAAA,WAAA,CAAY,OAAZ,EAA8B,IAA9B,EAA4C,OAA5C,EAA6D;AAH7D,SAAA,KAAA,GAAa,SAAb;AACA,SAAA,aAAA,GAAqB,SAArB;;AAGE,QAAI,OAAO,CAAC,MAAR,KAAmB,CAAnB,IAAwB,OAAO,CAAC,CAAD,CAAP,KAAe,EAAvC,IAA6C,OAAO,CAAC,CAAD,CAAP,KAAe,EAAhE,EAAoE;AAClE,YAAM,IAAI,KAAJ,CACF,yDADE,CAAN;AAED;;AACD,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,OAAL,GAAe,OAAf;AACD;;AAED,EAAA,QAAQ,CAAC,KAAD,EAAW;AACjB,SAAK,aAAL,GAAqB,KAArB;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,WAAO,4BAAY,KAAK,aAAjB,CAAP,EAAwC;AACtC,YAAM,SAAS,GAAG,KAAK,aAAvB;AACA,WAAK,aAAL,GAAqB,cAArB;AACA,MAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACD,QAAI,KAAK,aAAL,KAAuB,cAA3B,EAAqC;AACnC;AACD;;AACD,UAAM,KAAK,GAAG,CAAC,CAAC,KAAK,aAArB;;AACA,QAAI,KAAK,KAAL,KAAe,KAAnB,EAA0B;AACxB,UAAI,KAAJ,EAAW;AACT,aAAK,OAAL,CAAa,YAAb,CAA0B,KAAK,IAA/B,EAAqC,EAArC;AACD,OAFD,MAEO;AACL,aAAK,OAAL,CAAa,eAAb,CAA6B,KAAK,IAAlC;AACD;AACF;;AACD,SAAK,KAAL,GAAa,KAAb;AACA,SAAK,aAAL,GAAqB,cAArB;AACD;;AAxC8B;AA2CjC;;;;;;;;;;;;;AASM,MAAO,iBAAP,SAAiC,kBAAjC,CAAmD;AAGvD,EAAA,WAAA,CAAY,OAAZ,EAA8B,IAA9B,EAA4C,OAA5C,EAA6D;AAC3D,UAAM,OAAN,EAAe,IAAf,EAAqB,OAArB;AACA,SAAK,MAAL,GACK,OAAO,CAAC,MAAR,KAAmB,CAAnB,IAAwB,OAAO,CAAC,CAAD,CAAP,KAAe,EAAvC,IAA6C,OAAO,CAAC,CAAD,CAAP,KAAe,EADjE;AAED;;AAES,EAAA,WAAW,GAAA;AACnB,WAAO,IAAI,YAAJ,CAAiB,IAAjB,CAAP;AACD;;AAED,EAAA,SAAS,GAAA;AACP,QAAI,KAAK,MAAT,EAAiB;AACf,aAAO,KAAK,KAAL,CAAW,CAAX,EAAc,KAArB;AACD;;AACD,WAAO,MAAM,SAAN,EAAP;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,QAAI,KAAK,KAAT,EAAgB;AACd,WAAK,KAAL,GAAa,KAAb;AACC,WAAK,OAAL,CAAqB,KAAK,IAA1B,IAAkC,KAAK,SAAL,EAAlC;AACF;AACF;;AAzBsD;;;;AA4BnD,MAAO,YAAP,SAA4B,aAA5B,CAAyC,GAE/C;AACA;AACA;AACA;;;;AACA,IAAI,qBAAqB,GAAG,KAA5B;;AAEA,IAAI;AACF,QAAM,OAAO,GAAG;AACd,QAAI,OAAJ,GAAW;AACT,MAAA,qBAAqB,GAAG,IAAxB;AACA,aAAO,KAAP;AACD;;AAJa,GAAhB;AAMA,EAAA,MAAM,CAAC,gBAAP,CAAwB,MAAxB,EAAgC,OAAhC,EAAgD,OAAhD;AACA,EAAA,MAAM,CAAC,mBAAP,CAA2B,MAA3B,EAAmC,OAAnC,EAAmD,OAAnD;AACD,CATD,CASE,OAAO,EAAP,EAAW,CACZ;;AAEK,MAAO,SAAP,CAAgB;AASpB,EAAA,WAAA,CAAY,OAAZ,EAA8B,SAA9B,EAAiD,YAAjD,EAA2E;AAL3E,SAAA,KAAA,GAAa,SAAb;AAEA,SAAA,aAAA,GAAqB,SAArB;AAIE,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,SAAL,GAAiB,SAAjB;AACA,SAAK,YAAL,GAAoB,YAApB;;AACA,SAAK,iBAAL,GAA0B,CAAD,IAAO,KAAK,WAAL,CAAiB,CAAjB,CAAhC;AACD;;AAED,EAAA,QAAQ,CAAC,KAAD,EAAW;AACjB,SAAK,aAAL,GAAqB,KAArB;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,WAAO,4BAAY,KAAK,aAAjB,CAAP,EAAwC;AACtC,YAAM,SAAS,GAAG,KAAK,aAAvB;AACA,WAAK,aAAL,GAAqB,cAArB;AACA,MAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACD,QAAI,KAAK,aAAL,KAAuB,cAA3B,EAAqC;AACnC;AACD;;AAED,UAAM,WAAW,GAAG,KAAK,aAAzB;AACA,UAAM,WAAW,GAAG,KAAK,KAAzB;AACA,UAAM,oBAAoB,GAAG,WAAW,IAAI,IAAf,IACzB,WAAW,IAAI,IAAf,KACK,WAAW,CAAC,OAAZ,KAAwB,WAAW,CAAC,OAApC,IACA,WAAW,CAAC,IAAZ,KAAqB,WAAW,CAAC,IADjC,IAEA,WAAW,CAAC,OAAZ,KAAwB,WAAW,CAAC,OAHzC,CADJ;AAKA,UAAM,iBAAiB,GACnB,WAAW,IAAI,IAAf,KAAwB,WAAW,IAAI,IAAf,IAAuB,oBAA/C,CADJ;;AAGA,QAAI,oBAAJ,EAA0B;AACxB,WAAK,OAAL,CAAa,mBAAb,CACI,KAAK,SADT,EACoB,KAAK,iBADzB,EAC4C,KAAK,QADjD;AAED;;AACD,QAAI,iBAAJ,EAAuB;AACrB,WAAK,QAAL,GAAgB,UAAU,CAAC,WAAD,CAA1B;AACA,WAAK,OAAL,CAAa,gBAAb,CACI,KAAK,SADT,EACoB,KAAK,iBADzB,EAC4C,KAAK,QADjD;AAED;;AACD,SAAK,KAAL,GAAa,WAAb;AACA,SAAK,aAAL,GAAqB,cAArB;AACD;;AAED,EAAA,WAAW,CAAC,KAAD,EAAa;AACtB,QAAI,OAAO,KAAK,KAAZ,KAAsB,UAA1B,EAAsC;AACpC,WAAK,KAAL,CAAW,IAAX,CAAgB,KAAK,YAAL,IAAqB,KAAK,OAA1C,EAAmD,KAAnD;AACD,KAFD,MAEO;AACL,WAAK,KAAL,CAAW,WAAX,CAAuB,KAAvB;AACD;AACF;;AA3DmB,EA8DtB;AACA;AACA;;;;;AACA,MAAM,UAAU,GAAI,CAAD,IAAY,CAAC,KAC3B,qBAAqB,GACjB;AAAC,EAAA,OAAO,EAAE,CAAC,CAAC,OAAZ;AAAqB,EAAA,OAAO,EAAE,CAAC,CAAC,OAAhC;AAAyC,EAAA,IAAI,EAAE,CAAC,CAAC;AAAjD,CADiB,GAEjB,CAAC,CAAC,OAHqB,CAAhC;;;;;;;;;ACjdA;;AAnBA;;;;;;;;;;;;;;AAuBA;;;AAGM,MAAO,wBAAP,CAA+B;AACnC;;;;;;;;;AASA,EAAA,0BAA0B,CACtB,OADsB,EACJ,IADI,EACU,OADV,EAEtB,OAFsB,EAEA;AACxB,UAAM,MAAM,GAAG,IAAI,CAAC,CAAD,CAAnB;;AACA,QAAI,MAAM,KAAK,GAAf,EAAoB;AAClB,YAAM,QAAQ,GAAG,IAAI,wBAAJ,CAAsB,OAAtB,EAA+B,IAAI,CAAC,KAAL,CAAW,CAAX,CAA/B,EAA8C,OAA9C,CAAjB;AACA,aAAO,QAAQ,CAAC,KAAhB;AACD;;AACD,QAAI,MAAM,KAAK,GAAf,EAAoB;AAClB,aAAO,CAAC,IAAI,gBAAJ,CAAc,OAAd,EAAuB,IAAI,CAAC,KAAL,CAAW,CAAX,CAAvB,EAAsC,OAAO,CAAC,YAA9C,CAAD,CAAP;AACD;;AACD,QAAI,MAAM,KAAK,GAAf,EAAoB;AAClB,aAAO,CAAC,IAAI,2BAAJ,CAAyB,OAAzB,EAAkC,IAAI,CAAC,KAAL,CAAW,CAAX,CAAlC,EAAiD,OAAjD,CAAD,CAAP;AACD;;AACD,UAAM,QAAQ,GAAG,IAAI,yBAAJ,CAAuB,OAAvB,EAAgC,IAAhC,EAAsC,OAAtC,CAAjB;AACA,WAAO,QAAQ,CAAC,KAAhB;AACD;AACD;;;;;;AAIA,EAAA,oBAAoB,CAAC,OAAD,EAAuB;AACzC,WAAO,IAAI,eAAJ,CAAa,OAAb,CAAP;AACD;;AAjCkC;;;AAoC9B,MAAM,wBAAwB,GAAG,IAAI,wBAAJ,EAAjC;;;;;;;;;;;AC3CP;;AAnBA;;;;;;;;;;;;;;AA2CA;;;;AAIM,SAAU,eAAV,CAA0B,MAA1B,EAAgD;AACpD,MAAI,aAAa,GAAG,cAAc,CAAC,GAAf,CAAmB,MAAM,CAAC,IAA1B,CAApB;;AACA,MAAI,aAAa,KAAK,SAAtB,EAAiC;AAC/B,IAAA,aAAa,GAAG;AACd,MAAA,YAAY,EAAE,IAAI,OAAJ,EADA;AAEd,MAAA,SAAS,EAAE,IAAI,GAAJ;AAFG,KAAhB;AAIA,IAAA,cAAc,CAAC,GAAf,CAAmB,MAAM,CAAC,IAA1B,EAAgC,aAAhC;AACD;;AAED,MAAI,QAAQ,GAAG,aAAa,CAAC,YAAd,CAA2B,GAA3B,CAA+B,MAAM,CAAC,OAAtC,CAAf;;AACA,MAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,WAAO,QAAP;AACD,GAbmD,CAepD;AACA;;;AACA,QAAM,GAAG,GAAG,MAAM,CAAC,OAAP,CAAe,IAAf,CAAoB,gBAApB,CAAZ,CAjBoD,CAmBpD;;AACA,EAAA,QAAQ,GAAG,aAAa,CAAC,SAAd,CAAwB,GAAxB,CAA4B,GAA5B,CAAX;;AACA,MAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B;AACA,IAAA,QAAQ,GAAG,IAAI,kBAAJ,CAAa,MAAb,EAAqB,MAAM,CAAC,kBAAP,EAArB,CAAX,CAF0B,CAG1B;;AACA,IAAA,aAAa,CAAC,SAAd,CAAwB,GAAxB,CAA4B,GAA5B,EAAiC,QAAjC;AACD,GA1BmD,CA4BpD;;;AACA,EAAA,aAAa,CAAC,YAAd,CAA2B,GAA3B,CAA+B,MAAM,CAAC,OAAtC,EAA+C,QAA/C;AACA,SAAO,QAAP;AACD;;AAiBM,MAAM,cAAc,GAAG,IAAI,GAAJ,EAAvB;;;;;;;;;;AC7EP;;AACA;;AAEA;;AArBA;;;;;;;;;;;;;;AAcA;;;AAUO,MAAM,KAAK,GAAG,IAAI,OAAJ,EAAd;AAEP;;;;;;;;;;;;;;;;;;AAeO,MAAM,MAAM,GACf,CAAC,MAAD,EACC,SADD,EAEC,OAFD,KAEqC;AACnC,MAAI,IAAI,GAAG,KAAK,CAAC,GAAN,CAAU,SAAV,CAAX;;AACA,MAAI,IAAI,KAAK,SAAb,EAAwB;AACtB,0BAAY,SAAZ,EAAuB,SAAS,CAAC,UAAjC;AACA,IAAA,KAAK,CAAC,GAAN,CAAU,SAAV,EAAqB,IAAI,GAAG,IAAI,eAAJ,CAAY,MAAA,CAAA,MAAA,CAAA;AACjB,MAAA,eAAe,EAAf;AADiB,KAAA,EAEd,OAFc,CAAZ,CAA5B;AAIA,IAAA,IAAI,CAAC,UAAL,CAAgB,SAAhB;AACD;;AACD,EAAA,IAAI,CAAC,QAAL,CAAc,MAAd;AACA,EAAA,IAAI,CAAC,MAAL;AACD,CAfE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTP;;AACA;;AAGA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAGA;;AA/CA;;;;;;;;;;;;;;AAcA;;;;;;;;;;;;;;AAcA;;;;AASA;;AAYA;;;;AAIO,MAAM,IAAI,GAAG,CAAC,OAAD,EAAgC,GAAG,MAAnC,KAChB,IAAI,8BAAJ,CAAmB,OAAnB,EAA4B,MAA5B,EAAoC,MAApC,EAA4C,kDAA5C,CADG;AAGP;;;;;;;;AAIO,MAAM,GAAG,GAAG,CAAC,OAAD,EAAgC,GAAG,MAAnC,KACf,IAAI,iCAAJ,CAAsB,OAAtB,EAA+B,MAA/B,EAAuC,KAAvC,EAA8C,kDAA9C,CADG;;;;;;;;;;;AC9CP;;AAdA;;;;;;;;;;;;;AAgBA,MAAM,cAAc,GAAG,IAAI,OAAJ,EAAvB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCO,MAAM,KAAK,GACd,wBAAU,CAAC,KAAD,EAAiB,CAAjB,KAAuC,IAAD,IAAqB;AACnE,QAAM,aAAa,GAAG,cAAc,CAAC,GAAf,CAAmB,IAAnB,CAAtB;;AACA,MAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AACxB;AACA,QAAI,KAAK,CAAC,OAAN,CAAc,aAAd,KACA,aAAa,CAAC,MAAd,KAAyB,KAAK,CAAC,MAD/B,IAEA,KAAK,CAAC,KAAN,CAAY,CAAC,CAAD,EAAI,CAAJ,KAAU,CAAC,KAAK,aAAa,CAAC,CAAD,CAAzC,CAFJ,EAEmD;AACjD;AACD;AACF,GAPD,MAOO,IACH,aAAa,KAAK,KAAlB,KACC,KAAK,KAAK,SAAV,IAAuB,cAAc,CAAC,GAAf,CAAmB,IAAnB,CADxB,CADG,EAEgD;AACrD;AACA;AACD;;AAED,EAAA,IAAI,CAAC,QAAL,CAAc,CAAC,EAAf,EAhBmE,CAiBnE;AACA;;AACA,EAAA,cAAc,CAAC,GAAf,CACI,IADJ,EACU,KAAK,CAAC,OAAN,CAAc,KAAd,IAAuB,KAAK,CAAC,IAAN,CAAW,KAAX,CAAvB,GAA2C,KADrD;AAED,CArBD,CADG;;;;;;;;;;ACpCP;;AAfA;;;;;;;;;;;;;AAoBA;AACA;AACA,MAAM,mBAAmB,GACrB,CAAC,aAAD,EAA0B,UAA1B,KAA6D;AAC3D,QAAM,SAAS,GAAG,aAAa,CAAC,SAAd,CAAwB,UAA1C;AACA,QAAM,UAAU,GAAG,UAAU,KAAK,SAAf,GAA2B,aAAa,CAAC,OAAzC,GAC2B,UAAU,CAAC,SADzD;AAEA,QAAM,SAAS,GAAG,SAAS,CAAC,YAAV,CAAuB,4BAAvB,EAAuC,UAAvC,CAAlB;AACA,EAAA,SAAS,CAAC,YAAV,CAAuB,4BAAvB,EAAuC,UAAvC;AACA,QAAM,OAAO,GAAG,IAAI,iBAAJ,CAAa,aAAa,CAAC,OAA3B,CAAhB;AACA,EAAA,OAAO,CAAC,eAAR,CAAwB,SAAxB;AACA,SAAO,OAAP;AACD,CAVL;;AAYA,MAAM,UAAU,GAAG,CAAC,IAAD,EAAiB,KAAjB,KAAmC;AACpD,EAAA,IAAI,CAAC,QAAL,CAAc,KAAd;AACA,EAAA,IAAI,CAAC,MAAL;AACA,SAAO,IAAP;AACD,CAJD;;AAMA,MAAM,gBAAgB,GAClB,CAAC,aAAD,EAA0B,IAA1B,EAA0C,GAA1C,KAA4D;AAC1D,QAAM,SAAS,GAAG,aAAa,CAAC,SAAd,CAAwB,UAA1C;AACA,QAAM,UAAU,GAAG,GAAG,GAAG,GAAG,CAAC,SAAP,GAAmB,aAAa,CAAC,OAAvD;AACA,QAAM,OAAO,GAAG,IAAI,CAAC,OAAL,CAAa,WAA7B;;AACA,MAAI,OAAO,KAAK,UAAhB,EAA4B;AAC1B,gCAAc,SAAd,EAAyB,IAAI,CAAC,SAA9B,EAAyC,OAAzC,EAAkD,UAAlD;AACD;AACF,CARL;;AAUA,MAAM,UAAU,GAAI,IAAD,IAAmB;AACpC,4BACI,IAAI,CAAC,SAAL,CAAe,UADnB,EACgC,IAAI,CAAC,SADrC,EACgD,IAAI,CAAC,OAAL,CAAa,WAD7D;AAED,CAHD,EAKA;AACA;AACA;;;AACA,MAAM,WAAW,GAAG,CAAC,IAAD,EAAkB,KAAlB,EAAiC,GAAjC,KAAgD;AAClE,QAAM,GAAG,GAAG,IAAI,GAAJ,EAAZ;;AACA,OAAK,IAAI,CAAC,GAAG,KAAb,EAAoB,CAAC,IAAI,GAAzB,EAA8B,CAAC,EAA/B,EAAmC;AACjC,IAAA,GAAG,CAAC,GAAJ,CAAQ,IAAI,CAAC,CAAD,CAAZ,EAAiB,CAAjB;AACD;;AACD,SAAO,GAAP;AACD,CAND,EAQA;;;AACA,MAAM,aAAa,GAAG,IAAI,OAAJ,EAAtB;AACA,MAAM,YAAY,GAAG,IAAI,OAAJ,EAArB;AAEA;;;;;;;;;;;;;;;;;;;;AAmBO,MAAM,MAAM,GAAG,wBAClB,CAAI,KAAJ,EACI,eADJ,EAEI,QAFJ,KAE+C;AAC7C,MAAI,KAAJ;;AACA,MAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,IAAA,QAAQ,GAAG,eAAX;AACD,GAFD,MAEO,IAAI,eAAe,KAAK,SAAxB,EAAmC;AACxC,IAAA,KAAK,GAAG,eAAR;AACD;;AAED,SAAQ,aAAD,IAA8B;AACnC,QAAI,EAAE,aAAa,YAAY,iBAA3B,CAAJ,EAA0C;AACxC,YAAM,IAAI,KAAJ,CAAU,0CAAV,CAAN;AACD,KAHkC,CAInC;AACA;;;AACA,UAAM,QAAQ,GAAG,aAAa,CAAC,GAAd,CAAkB,aAAlB,KAAoC,EAArD;AACA,UAAM,OAAO,GAAG,YAAY,CAAC,GAAb,CAAiB,aAAjB,KAAmC,EAAnD,CAPmC,CASnC;AACA;AACA;;AACA,UAAM,QAAQ,GAAe,EAA7B,CAZmC,CAcnC;AACA;;AACA,UAAM,SAAS,GAAc,EAA7B;AACA,UAAM,OAAO,GAAc,EAA3B;AACA,QAAI,KAAK,GAAG,CAAZ;;AACA,SAAK,MAAM,IAAX,IAAmB,KAAnB,EAA0B;AACxB,MAAA,OAAO,CAAC,KAAD,CAAP,GAAiB,KAAK,GAAG,KAAK,CAAC,IAAD,EAAO,KAAP,CAAR,GAAwB,KAA9C;AACA,MAAA,SAAS,CAAC,KAAD,CAAT,GAAmB,QAAU,CAAC,IAAD,EAAO,KAAP,CAA7B;AACA,MAAA,KAAK;AACN,KAvBkC,CAyBnC;AACA;AACA;AACA;;;AACA,QAAI,gBAAJ;AACA,QAAI,gBAAJ,CA9BmC,CAgCnC;;AACA,QAAI,OAAO,GAAG,CAAd;AACA,QAAI,OAAO,GAAG,QAAQ,CAAC,MAAT,GAAkB,CAAhC;AACA,QAAI,OAAO,GAAG,CAAd;AACA,QAAI,OAAO,GAAG,SAAS,CAAC,MAAV,GAAmB,CAAjC,CApCmC,CAsCnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAO,OAAO,IAAI,OAAX,IAAsB,OAAO,IAAI,OAAxC,EAAiD;AAC/C,UAAI,QAAQ,CAAC,OAAD,CAAR,KAAsB,IAA1B,EAAgC;AAC9B;AACA,QAAA,OAAO;AACR,OAHD,MAGO,IAAI,QAAQ,CAAC,OAAD,CAAR,KAAsB,IAA1B,EAAgC;AACrC;AACA,QAAA,OAAO;AACR,OAHM,MAGA,IAAI,OAAO,CAAC,OAAD,CAAP,KAAqB,OAAO,CAAC,OAAD,CAAhC,EAA2C;AAChD;AACA,QA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","file":"app.map","sourceRoot":"../src/client","sourcesContent":["\r\rexport default () => args => {\r\r  const { page, action } = args;\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Store_',\r        method: 'set',\r        args: {\r          currentPage: page,\r        },\r        sideEffect: () => {\r          if (action === 'replace') window.history.replaceState(null, null, page);\r          if (action === 'push') window.history.pushState(null, null, page);\r          if (action === 'back') window.history.back();\r        },\r      }),\r    ],\r  };\r\r};\r\r","\n\nexport function compact(array) {\n\n  return array.filter(Boolean);\n\n}\n","\nexport function get(obj, key, defaultValue) {\n\n  // Undefined object\n  if (!obj) return defaultValue;\n  if (typeof obj === 'object' && Object.keys(obj).length === 0) return defaultValue;\n\n  // Key is number\n  if (typeof key === 'number') {\n    if (obj[key] === undefined) return defaultValue;\n    return obj[key];\n  }\n\n  // Key is string\n  const splittedKeys = key.split('.');\n  let exit = false;\n  return splittedKeys.reduce((acum, value) => {\n    if (exit) return defaultValue;\n    if (!acum[value]) {\n      exit = true;\n      return defaultValue;\n    }\n    return acum[value];\n  }, obj);\n\n\n}\n","\nexport function has(obj, key) {\n\n  const splittedKeys = key.split('.');\n\n  let hasKey = true;\n  splittedKeys.reduce((acum, value) => {\n    if (!hasKey) return null;\n    if (typeof acum[value] === 'undefined') {\n      hasKey = false;\n      return null;\n    }\n    return acum[value];\n  }, obj);\n\n  return hasKey;\n\n}\n","\n\nexport function last(array = []) {\n\n\n  if (array.length === 0) return null;\n\n  return [ ...array ].slice(-1)[0];\n\n\n}\n","\nexport function omit(obj, keys) {\n\n  return Object.keys(obj).reduce((acum, key) => {\n    if (keys.includes(key)) return acum;\n    if (typeof obj[key] === 'undefined') return acum;\n    return {\n      ...acum,\n      [key]: obj[key],\n    };\n  }, {});\n\n}\n","\nexport function pick(obj, keys) {\n\n  return Object.keys(obj).reduce((acum, key) => {\n    if (!keys.includes(key)) return acum;\n    if (typeof obj[key] === 'undefined') return acum;\n    return {\n      ...acum,\n      [key]: obj[key],\n    };\n  }, {});\n\n}\n","\n\nexport function random(low, high) {\n\n  if (!low && !high) return Math.random();\n  if (low && !high) return low * Math.random();\n  if (!low && high) return Math.random();\n\n  // Include boths edges as possible numbers\n  const length = high - low + 1;\n  return low + Math.floor(length * Math.random());\n\n}\n","\n\nexport function range(low = 0, high = 0) {\n\n  if (!high && low > 0) return [ ...Array(low).keys() ];\n\n  if (high - low <= 0) return [];\n\n  const array = [ ...Array(high - low).keys() ];\n  return array.map(elem => elem + low);\n\n}\n","\n\nexport function sample(array = []) {\n\n  if (array.length === 0) return null;\n\n  const rand = Math.floor(array.length * Math.random());\n  return array[rand];\n\n}\n","\nexport function uid(strLength = 6) {\n\n  const now = String(Date.now());\n  const middlePos = Math.ceil(now.length / 2);\n\n  const availableChars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  const availableCharsLength = availableChars.length;\n\n  // Start the final string\n  let str = '';\n  for (let i = 1; i <= strLength; i++) {\n    const randChar = availableChars.charAt(\n      Math.floor(Math.random() * availableCharsLength)\n    );\n    // Append this character to the string\n    str += randChar;\n  }\n\n  return `${now.substr(0, middlePos)}-${str}-${now.substr(middlePos)}`;\n\n}\n\n","\n\nexport function uniq(array) {\n\n  return array.filter((elem, pos, arr) => {\n    return arr.indexOf(elem) === pos;\n  });\n\n}\n","\nimport { compact } from './compact';\nimport { get } from './get';\nimport { has } from './has';\nimport { last } from './last';\nimport { omit } from './omit';\nimport { pick } from './pick';\nimport { random } from './random';\nimport { range } from './range';\nimport { sample } from './sample';\nimport { uid } from './uid';\nimport { uniq } from './uniq';\n\nexport default {\n\n  compact,\n  get,\n  has,\n  last,\n  omit,\n  pick,\n  random,\n  range,\n  sample,\n  uid,\n  uniq,\n\n};\n","\r\rimport _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const name = Store.observables['signup.name'];\r  const email = Store.observables['signup.email'].toLowerCase();\r  const _id = _.uid();\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signupUserWithEmail',\r        optimistic: false,\r        args: {\r          _id,\r          name,\r          email,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          user_id: res.data._id,\r          'signup.currentStep': 2,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signin.email': email,\r          'forgot.email': email,\r          // if user goes to signin he has already the email typed\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const _id = Store.observables['user_id'];\r  const name = Store.observables['signup.name'];\r  const email = Store.observables['signup.email'];\r  const password = Store.observables['signup.password'];\r  const language = Store.observables.language;\r\r  return {\r    steps: [\r\r      /*\r        We go next step before setting password because there is no server validation\r        and email send takes time\r      */\r      () => ({\r        domain: '_Store_',\r        method: 'set',\r        args: {\r          'signup.currentStep': 3,\r        },\r      }),\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signupSendTokenEmail',\r        optimistic: false,\r        args: {\r          _id,\r          name: name.split(' ')[0],\r          language,\r          email,\r          password,\r        },\r      }),\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const _id = Store.observables['user_id'];\r  const password = Store.observables['signup.password'];\r  const tokenDigits = Store.observables['signup.tokenDigits'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signupFinishRegistration',\r        optimistic: false,\r        args: {\r          _id,\r          password,\r          token: tokenDigits.join(''),\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          'signup.currentStep': 0,\r          'signup.name': '',\r          'signup.email': '',\r          'signup.password': '',\r          'signup.tokenDigits': [],\r          currentPage: 'welcome',\r        },\r        sideEffect: () => {\r          if (!res.error) {\r            window.history.replaceState(null, null, '/welcome');\r          }\r        }\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signup.tokenDigits': [],\r        } : null,\r      }),\r\r\r    ],\r  };\r\r\r};\r","\r\r// import _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const email = Store.observables['signin.email'].toLowerCase();\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signinValidateEmail',\r        optimistic: false,\r        args: {\r          email,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          'signin.name': res.data.name,\r          'signin.currentStep': 1,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signup.email': email,\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r","\r\r// import _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const email = Store.observables['signin.email'];\r  const password = Store.observables['signin.password'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signinValidatePassword',\r        optimistic: false,\r        args: {\r          email,\r          password,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : null,\r        sideEffect: () => {\r          if (!res.error) {\r            const { user_id, isPasswordOK } = res.data;\r            if (isPasswordOK) {\r              window.location.replace(`https://museeker.io/app?user=${user_id}`);\r            }\r          }\r        },\r      }),\r\r\r    ],\r  };\r\r\r};\r","\r\r// import _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const email = Store.observables['forgot.email'].toLowerCase();\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'forgotValidateEmail',\r        optimistic: false,\r        args: {\r          email,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          user_id: res.data.user_id,\r          'forgot.name': res.data.name,\r          'forgot.currentStep': 1,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signup.email': email,\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const _id = Store.observables['user_id'];\r  const name = Store.observables['forgot.name'];\r  const email = Store.observables['forgot.email'];\r  const password = Store.observables['forgot.password'];\r  const language = Store.observables.language;\r\r  return {\r    steps: [\r\r      /*\r        We go next step before setting password because there is no server validation\r        and email send takes time\r      */\r      () => ({\r        domain: '_Store_',\r        method: 'set',\r        args: {\r          'forgot.currentStep': 2,\r        },\r      }),\r\r      () => ({\r        domain: '_Backend_',\r        method: 'forgotSendTokenEmail',\r        optimistic: false,\r        args: {\r          _id,\r          name: name.split(' ')[0],\r          language,\r          email,\r          password,\r        },\r      }),\r\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const email = Store.observables['signin.email'];\r  const password = Store.observables['forgot.password'];\r  const tokenDigits = Store.observables['forgot.tokenDigits'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'forgotSetNewPassword',\r        optimistic: false,\r        args: {\r          email,\r          password,\r          token: tokenDigits.join(''),\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          'forgot.password': '',\r          'forgot.tokenDigits': [],\r        },\r        sideEffect: () => {\r          if (!res.error) {\r            const { user_id } = res.data;\r            window.location.replace(`https://app.museeker.io?user=${user_id}`);\r          }\r        }\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'forgot.tokenDigits': [],\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r\r","\r\r\rexport { default as changeRoute } from './changeRoute';\r\rexport { default as signupEmail } from './signupEmail';\rexport { default as signupPassword } from './signupPassword';\rexport { default as signupToken } from './signupToken';\r\rexport { default as signinEmail } from './signinEmail';\rexport { default as signinPassword } from './signinPassword';\r\rexport { default as forgotEmail } from './forgotEmail';\rexport { default as forgotPassword } from './forgotPassword';\rexport { default as forgotToken } from './forgotToken';\r\r","\rconst MIN_LENGTH = 5;\r\rexport const name = str => {\r\r  const result = str.trim().length >= MIN_LENGTH;\r\r  return {\r    result,\r    message: result ? null : {\r      en: `At least ${MIN_LENGTH} characters`,\r      es: `Mnimo ${MIN_LENGTH} caracteres`,\r    },\r  };\r\r};\r","\rconst REGEX = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\rexport const email = str => {\r\r  const result = REGEX.test(str);\r\r  return {\r    result,\r    message: null,\r  };\r\r};\r","\rconst MIN_LENGTH = 8;\r\rexport const password = str => {\r\r  const noSpaces = /^\\S+$/.test(str);\r\r  if (!noSpaces && str.length > 0) {\r    return {\r      result: false,\r      message: {\r        en: 'Password can\\'t contain white spaces',\r        es: 'La contrasea no puede contener espacios',\r      },\r    };\r  }\r\r  const result = str.length >= MIN_LENGTH;\r  return {\r    result,\r    message: result ? null : {\r      en: `At least ${MIN_LENGTH} characters`,\r      es: `Mnimo ${MIN_LENGTH} caracteres`,\r    },\r  };\r\r};\r","\rexport { name } from './name';\rexport { email } from './email';\rexport { password } from './password';\r\r\r/*\r\r  Standard checks fields need to pass before proceeding further\r\r*/\r","\rexport const EMAIL_ALREADY_REGISTERED = {\r\r  en: 'Email is already registered',\r  es: 'Este email ya est registrado',\r\r};\r\rexport const INVALID_SIGNUP_TOKEN = {\r\r  en: 'Code is not correct',\r  es: 'Cdigo incorrecto',\r\r};\r\r\rexport const INVALID_FORGOT_TOKEN = {\r\r  en: 'Code is not correct',\r  es: 'Cdigo incorrecto',\r\r};\r\r\rexport const EMAIL_IS_NOT_REGISTERED = {\r\r  en: 'This email is not registered',\r  es: 'Este email no est registrado',\r\r};\r\r\rexport const PASSWORD_IS_NOT_CORRECT = {\r\r  en: 'Password is not correct',\r  es: 'Contrasea incorrecta',\r\r};\r\r","\rimport * as actions from './actions';\rimport * as checks from './checks';\rimport * as alerts from './alerts';\r\rexport default {\r\r  actions,\r  checks,\r  alerts,\r\r  observables: {\r\r    // Domain properties\r    user_id: '',\r    language: 'en',\r\r    // pages\r    currentPage: '', // welcome, signin, signup, forgot\r\r    // signup\r    'signup.currentStep': 0, // Name, Email, Password, Token\r    'signup.name': '',\r    'signup.email': '',\r    'signup.password': '',\r    'signup.password.isVisible': false,\r    'signup.tokenDigits': [], // 6 position numeric array\r\r    // signin\r    'signin.currentStep': 0, // Email, Password\r    'signin.name': '', // setted after email is checked to be registered\r    'signin.email': '',\r    'signin.password': '',\r    'signin.password.isVisible': false,\r\r    // forgot\r    'forgot.currentStep': 0, // Password, Token\r    'forgot.name': '', // setted after email is checked to be registered\r    'forgot.email': '',\r    'forgot.password': '',\r    'forgot.password.isVisible': false,\r    'forgot.tokenDigits': [], // 6 position numeric array\r\r  },\r\r};\r\r\r\r","\r\rconst IMAGES_BASE_PATH = 'https://res.cloudinary.com/jmaguirrei/image/upload';\r\rexport const Assets = {\r\r  IMAGES_BASE_PATH,\r  COMPANY_LOGO: `${IMAGES_BASE_PATH}/company/internal/company.jpg`,\r\r};\r","\rexport const Colors = {\r\r  GREEN_WELCOME: 'mediumseagreen',\r  GREEN_SIGNUP: 'hsl(145, 45%, 27%)',\r  BLUE_SIGNIN: 'hsl(219, 80%, 42%)',\r  RED_WARNING: 'hsl(0, 65%, 60%)',\r\r};\r","\nconst backspace = `\n  <svg viewBox=\"0 0 24 24\">\n    <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n    <path d=\"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21v-2z\"/>\n  </svg>\n`;\n\nconst eyeOn = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z\">\n    </path>\n  </svg>\n`;\n\nconst eyeOff = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z\">\n    </path>\n  </svg>\n`;\n\nconst email = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z\">\n    </path>\n  </svg>\n`;\n\nconst close = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\">\n    </path>\n  </svg>\n`;\n\nconst chevronLeft = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z\">\n    </path>\n  </svg>\n`;\n\nconst chevronRight = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z\">\n    </path>\n  </svg>\n`;\n\nconst linkedin = `\n  <svg viewbox=\"0 0 24 24\">\n    <path fill=\"#0077B5\" d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\">\n    </path>\n  </svg>\n`;\n\nconst google = `\n  <svg viewBox=\"0 0 48 48\">\n    <defs>\n      <path id=\"a\" d=\"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z\"/>\n    </defs>\n    <clipPath id=\"b\">\n      <use xlink:href=\"#a\" overflow=\"visible\"/>\n    </clipPath>\n    <path clip-path=\"url(#b)\" fill=\"#FBBC05\" d=\"M0 37V11l17 13z\"/>\n    <path clip-path=\"url(#b)\" fill=\"#EA4335\" d=\"M0 11l17 13 7-6.1L48 14V0H0z\"/>\n    <path clip-path=\"url(#b)\" fill=\"#34A853\" d=\"M0 37l30-23 7.9 1L48 0v48H0z\"/>\n    <path clip-path=\"url(#b)\" fill=\"#4285F4\" d=\"M48 48L17 24l-4-3 35-10z\"/>\n  </svg>\n`;\n\nconst facebook = `\n  <svg viewbox=\"0 0 24 24\">\n    <path fill=\"#3B5998\" d=\"M22.676 0H1.324C.593 0 0 .593 0 1.324v21.352C0 23.408.593 24 1.324 24h11.494v-9.294H9.689v-3.621h3.129V8.41c0-3.099 1.894-4.785 4.659-4.785 1.325 0 2.464.097 2.796.141v3.24h-1.921c-1.5 0-1.792.721-1.792 1.771v2.311h3.584l-.465 3.63H16.56V24h6.115c.733 0 1.325-.592 1.325-1.324V1.324C24 .593 23.408 0 22.676 0\">\n    </path>\n  </svg>\n`;\n\n/* --------------------------------------------------------------------------------------------- */\n\nexport const IconsSVGs = {\n\n  // Keyboard\n  backspace,\n\n  // Forms\n  'eye-on': eyeOn,\n  'eye-off': eyeOff,\n  email,\n\n  // Navigation\n  close,\n  'chevron-left': chevronLeft,\n  'chevron-right': chevronRight,\n\n  // Social\n  facebook,\n  linkedin,\n  google,\n\n};\n","\rexport const Sizes = {\r\r  HEADER_HEIGHT: '55px',\r  TABS_HEIGHT: '50px',\r\r};\r","/* ------------------------------------------------------------------------------------------------\r\r===== SIGNIN WORFLOW =====\r\r0: EMAIL\r    isRegistered ?\r    - false: error\r    - true: continue\r1: PASSWORD\r    - ko: error\r    - ok: => Dashboard!\r    - forgot => ===== FORGOT WORFLOW =====\r\r-------------------------------------------------------------------------------------------------*/\r\rimport _ from '@jmaguirrei/belt';\r\rexport const SigninControl = store => {\r\r  const language = store.get('language');\r  const currentStep = store.get('signin.currentStep');\r  const currentCheck = _.get({\r    0: store.check('email', store.get('signin.email')),\r    1: store.check('password', store.get('signin.password')),\r  }, currentStep, {});\r\r  const checkResult = _.get(currentCheck, 'result', false);\r  const alert = store.alerts.find(item => item.isVisible);\r\r  return {\r    state: {\r      currentStep,\r      leftEnabled: currentStep > 0,\r      rightEnabled: checkResult,\r      checkText: _.get(currentCheck, `message.${language}`, ''),\r      alertText: _.get(alert, `message.${language}`, ''),\r    },\r\r    actions: {\r      onClickLeft: () => {\r        // const currentStep = store.get('signin.currentStep');\r        if (currentStep > 0) store.set({ 'signin.currentStep': currentStep - 1 });\r      },\r      onClickRight: () => {\r        // const currentStep = store.get('signin.currentStep');\r        if (currentStep === 0) store.call('signinEmail');\r        if (currentStep === 1) store.call('signinPassword');\r      },\r    },\r\r  };\r\r};\r\r","/* ------------------------------------------------------------------------------------------------\r\r===== SIGNUP WORFLOW =====\r\r0: NAME\r1: EMAIL\r    isRegistered ?\r    - true: error\r    - false: continue\r2: PASSWORD\r    sendEmail (signupToken)\r3: TOKEN\r    - ko: error\r    - ok: isRegistered, setPassword => Welcome!\r\r-------------------------------------------------------------------------------------------------*/\r\rimport _ from '@jmaguirrei/belt';\r\rexport const SignupControl = store => {\r\r  const language = store.get('language');\r  const currentStep = store.get('signup.currentStep');\r  const currentCheck = _.get({\r    0: store.check('name', store.get('signup.name')),\r    1: store.check('email', store.get('signup.email')),\r    2: store.check('password', store.get('signup.password')),\r    3: { result: store.get('signup.tokenDigits').length === 6 },\r  }, currentStep, {});\r\r  const checkResult = _.get(currentCheck, 'result', false);\r  const alert = store.alerts.find(item => item.isVisible);\r\r  return {\r    state: {\r      currentStep,\r      leftEnabled: currentStep > 0,\r      rightEnabled: checkResult,\r      checkText: _.get(currentCheck, `message.${language}`, ''),\r      alertText: _.get(alert, `message.${language}`, ''),\r    },\r\r    actions: {\r      onClickLeft: () => {\r        // const currentStep = store.get('signup.currentStep');\r        if (currentStep > 0) store.set({ 'signup.currentStep': currentStep - 1 });\r      },\r      onClickRight: () => {\r        // const currentStep = store.get('signup.currentStep');\r        if (currentStep === 0) store.set({ 'signup.currentStep': 1 });\r        if (currentStep === 1) store.call('signupEmail');\r        if (currentStep === 2) store.call('signupPassword');\r        if (currentStep === 3) store.call('signupToken');\r      },\r    },\r\r  };\r\r};\r","/* ------------------------------------------------------------------------------------------------\r\r===== FORGOT WORFLOW =====\r\r0: EMAIL (prepopulate with signin.email)\r    isRegistered ?\r    - false: error\r    - true: continue\r1: PASSWORD (new)\r    sendEmail (forgotToken)\r3: TOKEN\r    - ko: error\r    - ok: setPassword => Dashboard!\r\r-------------------------------------------------------------------------------------------------*/\r\rimport _ from '@jmaguirrei/belt';\r\rexport const ForgotControl = store => {\r\r  const language = store.get('language');\r  const currentStep = store.get('forgot.currentStep');\r  const currentCheck = _.get({\r    0: store.check('email', store.get('signin.email')),\r    1: store.check('password', store.get('forgot.password')),\r    2: { result: store.get('forgot.tokenDigits').length === 6 },\r  }, currentStep, {});\r\r  const checkResult = _.get(currentCheck, 'result', false);\r  const alert = store.alerts.find(item => item.isVisible);\r\r  return {\r    state: {\r      currentStep,\r      leftEnabled: currentStep > 0,\r      rightEnabled: checkResult,\r      checkText: _.get(currentCheck, `message.${language}`, ''),\r      alertText: _.get(alert, `message.${language}`, ''),\r    },\r\r    actions: {\r      onClickLeft: () => {\r        // const currentStep = store.get('forgot.currentStep');\r        if (currentStep > 0) store.set({ 'forgot.currentStep': currentStep - 1 });\r      },\r      onClickRight: () => {\r        // const currentStep = store.get('forgot.currentStep');\r        if (currentStep === 0) store.call('forgotEmail');\r        if (currentStep === 1) store.call('forgotPassword');\r        if (currentStep === 2) store.call('forgotToken');\r      },\r    },\r\r  };\r\r};\r\r","\rexport { Assets } from './constants/Assets';\rexport { Colors } from './constants/Colors';\rexport { IconsSVGs } from './constants/IconsSVGs';\rexport { Sizes } from './constants/Sizes';\r\rexport { SigninControl } from './control/SigninControl';\rexport { SignupControl } from './control/SignupControl';\rexport { ForgotControl } from './control/ForgotControl';\r","\n\n\nexport const Button = client => {\n\n  return client.hoc({\n\n    classes: {\n      div: `\n        cursor: pointer;\n        text-align: center;\n        transition: all .6s ease;\n        user-select: none;\n        width: 100%;\n        box-shadow: inset 0px 0px 200px hsla(0, 0%, 0%, 0), 0px 1px 3px -1px black;\n        &:hover {\n          box-shadow: inset 0px 0px 200px hsla(0, 0%, 0%, 0.3), 0px 1px 3px -1px black;\n        }\n      `,\n      a: `\n        text-decoration: none;\n        color: inherit;\n      `,\n    },\n\n    styles: {\n      div: (color, bgColor, height) => `\n        background-color: ${bgColor};\n        border-radius: ${height}px;\n        color: ${color};\n        height: ${height}px;\n        line-height: ${height}px;\n      `,\n    },\n\n    render({ props, classes, styles }) {\n\n      const {\n        text,\n        color,\n        bgColor,\n        height,\n        href,\n        onClick,\n      } = props;\n\n      return client.html`\n        <div\n          @click=${onClick}\n          class=${classes.div}\n          style=${styles.div(color, bgColor, height)}\n        >\n          ${\n            href\n            ? client.html.unsafeHTML(`<a href='${href}' class='${classes.a}'>${text}</a>`)\n            : text\n          }\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nexport const Carrousel = client => {\n\n  return client.hoc({\n\n    styles: {\n      container: `\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        padding: 10px 20px;\n      `,\n      inner: currentStep => `\n        display: flex;\n        transition: transform .4s ease;\n        transform: translate3d(${-100 * currentStep}%, 0, 0);\n      `,\n      screen: `\n        min-width: 100%;\n        padding: 20px 20px 40px;\n      `,\n    },\n\n    render({ props, styles }) {\n\n      const { screens, currentStep } = props;\n\n      return client.html`\n        <main class='carrousel' style=${styles.container}>\n          <div style=${styles.inner(currentStep)}>\n            ${screens.map(screen => client.html`\n              <div style=${styles.screen}>\n                ${screen()}\n              </div>\n            `)}\n          </div>\n        </main>\n      `;\n    }\n\n  });\n\n};\n","\nexport const Icons = client => {\n\n  const { IconsSVGs } = client.lib;\n\n  return client.hoc({\n\n    styles: {\n      div: (size, enabled, inStyle = '') => `\n        transition: all .6s ease;\n        width: ${size}px;\n        height: ${size}px;\n        cursor: ${enabled ? 'pointer' : 'auto'};\n        opacity: ${enabled ? 1 : 0.5};\n        ${inStyle}\n      `,\n    },\n\n    render({ props, styles }) {\n\n      const {\n        icon,\n        size,\n        enabled = true,\n        inStyle,\n        className = ''\n      } = props;\n\n      if (!IconsSVGs[icon]) return '<>';\n\n      const onClick = () => enabled ? props.onClick() : undefined;\n\n      return client.html`\n        <div\n          class=${className}\n          style=${styles.div(size, enabled, inStyle)}\n          @click=${onClick}\n        >\n          ${client.html.unsafeHTML(IconsSVGs[icon])}\n        </div>\n      `;\n    }\n\n  });\n};\n\n","\r\rexport const Input = client => {\r\r  return client.hoc({\r\r    styles: {\r      // label: `\r      //   display: flex;\r      // `,\r      input: `\r        font-size: 18px;\r        border: none;\r        outline: none;\r        padding: 20px;\r        background: hsl(0, 0%, 98%);\r        border-radius: 5px;\r        margin-bottom: 30px;\r        width: 100%;\r      `,\r    },\r\r    actions(props, /* store */) {\r      return {\r        onKeyDown: e => {\r          // Tab pressed\r          if (e.keyCode === 9) {\r            e.preventDefault();\r            props.onClickRight();\r          }\r        },\r      };\r    },\r\r    render({ props, styles, actions }) {\r\r      const { type, placeholder, value, onInput, label } = props;\r\r      return client.html`\r        <input\r          aria-label=${label}\r          type=${type}\r          placeholder=${placeholder}\r          value=${value}\r          style=${styles.input}\r          @input=${onInput}\r          @keydown=${actions.onKeyDown}\r        />\r      `;\r\r    }\r\r  });\r\r};\r","\n\nconst breakpoint = '768px';\n\nexport const Modal = client => {\n\n  return client.hoc({\n\n    styles: {\n      subcomponent: isSelected => `\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        transition: opacity .3s ease;\n        opacity: ${isSelected ? 1 : 0};\n        pointer-events: ${isSelected ? 'auto' : 'none'};\n      `,\n    },\n\n    classes: {\n      container: `\n        display: flex;\n        align-items: center;\n        justify-content:center;\n        background: hsl(0, 0%, 20%);\n        position: fixed;\n        top: 0; bottom: 0; left: 0; right: 0;\n      `,\n      modal: `\n        position: relative;\n        background: white;\n        min-width: 500px;\n        width: 40%;\n        max-width: 500px;\n        min-height: 90%;\n        max-height: 90%;\n        border-radius: 10px;\n        overflow: hidden;\n        @media (max-width: ${breakpoint}) {\n          & {\n            min-height: 100%;\n            min-width: 100%;\n            max-width: 100%;\n            width: 100%;\n            border-radius: 0;\n          }\n        }\n      `,\n    },\n\n    render({ props, styles, classes }) {\n\n      // return ui.html`<div>Modal</div>`;\n      const { pages, currentPage } = props;\n\n      return client.html`\n        <div class='modal ${classes.container}'>\n          <div class=${classes.modal}>\n            ${Object.keys(pages).map(key => {\n              const component = pages[key];\n              return client.html`\n                <div style=${styles.subcomponent(key === currentPage)}>\n                  ${component()}\n                </div>\n              `;\n            })}\n          </div>\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nimport { Icons } from './Icons';\n\nconst size = 50;\n\nexport const Navigation = client => {\n\n  const IconsComp = Icons(client);\n\n  return client.hoc({\n\n    styles: {\n      container: `\n        display: flex;\n        align-items: center;\n        margin: 50px 30px;\n      `,\n      text: (text, color) => `\n        flex: 1;\n        text-align: center;\n        opacity: ${text ? 1 : 0};\n        transition: opacity .6s ease;\n        color: ${color || 'initial'};\n      `,\n    },\n\n    classes: {\n      'signup-right-enabled': `\n        background-position: center;\n        transition: background 0.3s;\n        background: ${client.lib.Colors.GREEN_SIGNUP};\n        border-radius: 50%;\n        fill: white;\n        box-shadow: -1px 1px 3px -1px black;\n        &:active {\n          background-color: hsla(0, 0%, 0%, 0.8);\n          background-size: 100%;\n          transition: background 0s;\n        }\n      `,\n      'signin-right-enabled': `\n        background-position: center;\n        transition: background 0.3s;\n        background: ${client.lib.Colors.BLUE_SIGNIN};\n        border-radius: 50%;\n        fill: white;\n        box-shadow: -1px 1px 3px -1px black;\n        &:active {\n          background-color: hsla(0, 0%, 0%, 0.8);\n          background-size: 100%;\n          transition: background 0s;\n        }\n      `,\n    },\n\n    render({ props, styles, classes }) {\n\n      const {\n        currentPage,\n        onClickLeft,\n        onClickRight,\n        leftEnabled,\n        rightEnabled,\n        text,\n        color,\n      } = props;\n\n      return client.html`\n        <div class='navigation' style=${styles.container}>\n          ${IconsComp({\n            icon: 'chevron-left',\n            onClick: onClickLeft,\n            size,\n            enabled: leftEnabled,\n          })}\n          <div style=${styles.text(text, color)}>\n            ${text || ''}\n          </div>\n          ${IconsComp({\n            icon: 'chevron-right',\n            onClick: onClickRight,\n            size,\n            enabled: rightEnabled,\n            className: !rightEnabled\n              ? ''\n              : currentPage === 'signup'\n                ? classes['signup-right-enabled']\n                : classes['signin-right-enabled'], // forgot also uses signin styles\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n\n","\n\nimport { Icons } from './Icons';\n\nexport const NumKeyboard = client => {\n\n  const IconsComp = Icons(client);\n\n  return client.hoc({\n\n    classes: {\n      container: `\n        padding: 20px;\n      `,\n      range: `\n        display: flex;\n        justify-content:center;\n      `,\n      digitspan: `\n        user-select: none;\n      `,\n    },\n\n    styles: {\n      digit: isSvg => `\n        cursor: pointer;\n        background: hsl(0, 0%, 80%);\n        font-size: 24px;\n        font-family: sans-serif;\n        border-radius: 10px;\n        margin: 10px 5px;\n        min-width: 40px;\n        height: 40px;\n        text-align: center;\n        line-height: 40px;\n        box-shadow: 0px 1px 3px -1px black;\n        padding: ${isSvg ? '6px' : '0px'};\n      `,\n    },\n\n    render({ props, classes, styles }) {\n\n      const { onPressNum, onPressDel } = props;\n      const ranges = [ [ 1, 2, 3, 4, 5, 6 ], [ 7, 8, 9, 0 ] ];\n\n      return client.html`\n        <div class='keyboard ${classes.container}'>\n          <div class=${classes.range}>\n            ${ranges[0].map(i => {\n              return client.html`\n                <div style=${styles.digit(false)} @click=${() => onPressNum(i)}>\n                  <span class=${classes.digitspan}>${i}</span>\n                </div>\n              `;\n            })}\n          </div>\n          <div class=${classes.range}>\n            ${ranges[1].map(i => {\n              return client.html`\n                <div style=${styles.digit(false)} @click=${() => onPressNum(i)}>\n                  <span class=${classes.digitspan}>${i}</span>\n                </div>\n              `;\n            })}\n            <div style=${styles.digit(true)}>\n              ${IconsComp({\n                icon: 'backspace',\n                onClick: onPressDel,\n                size: 30,\n              })}\n            </div>\n          </div>\n\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nimport _ from '@jmaguirrei/belt';\n\nexport const Progress = client => {\n\n  return client.hoc({\n\n    styles: {\n      container: `\n        display: flex;\n        justify-content: center;\n        margin-top: 8px;\n      `,\n      item: isSelected => `\n        background: ${isSelected ? 'hsl(0, 0%, 80%)' : 'hsl(0, 0%, 90%)'};\n        width: 12px;\n        height: 12px;\n        border-radius: 50%;\n        margin: 0 5px;\n      `,\n    },\n\n    render({ props, styles }) {\n\n      const { numSteps, currentStep } = props;\n\n      return client.html`\n        <div class='progress' style=${styles.container}>\n          ${_.range(numSteps).map(item => {\n            const isSelected = item === currentStep;\n            return client.html`\n              <div style=${styles.item(isSelected)}></div>\n            `;\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nexport const Token = client => {\n\n  return client.hoc({\n\n    classes: {\n      container: `\n        display: flex;\n        margin: 10px 20px;\n        justify-content: space-between;\n      `,\n      digit: `\n        font-size: 34px;\n        flex: 1;\n        height: 50px;\n        line-height:50px;\n        text-align: center;\n        max-width: 50px;\n        background: hsl(0, 0%, 95%);\n        border: 1px solid hsl(0,0%,90%);\n        border-radius: 5px;\n        user-select: none;\n      `,\n    },\n\n    render({ props, classes }) {\n\n      const { tokenDigits } = props;\n      const range = [ 0, 1, 2, 3, 4, 5 ];\n\n      return client.html`\n        <div class='token ${classes.container}'>\n          ${range.map(i => {\n            return client.html`\n              <div class=${classes.digit}>\n                ${tokenDigits[i] || ''}\n              </div>\n            `;\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n\n","\rexport { Button } from './Button';\rexport { Carrousel } from './Carrousel';\rexport { Icons } from './Icons';\rexport { Input } from './Input';\rexport { Modal } from './Modal';\rexport { Navigation } from './Navigation';\rexport { NumKeyboard } from './NumKeyboard';\rexport { Progress } from './Progress';\rexport { Token } from './Token';\r","\n\nexport const Header = client => {\n\n  const size = client.lib.Sizes.HEADER_HEIGHT;\n  const { Progress } = client.ui.components;\n\n  return client.hoc({\n\n    actions(props, store) {\n      return {\n        onNavigateBack: () => store.call('changeRoute', { page: '', action: 'back' }),\n      };\n    },\n\n    classes: {\n      container: `\n        min-height: ${size};\n        max-height: ${size};\n        display: flex;\n        align-items: center;\n        padding: 0 25px;\n        border-bottom: 1px solid hsl(0, 0%, 95%);\n      `,\n      image: `\n        max-height: 32px;\n      `,\n    },\n\n    styles: {\n      container: numSteps => `\n        justify-content: ${numSteps > 0 ? 'space-between' : 'center'};\n      `,\n\n    },\n\n    render({ props, classes, styles }) {\n\n      const { numSteps = 0, currentStep } = props;\n      const src = client.lib.Assets.COMPANY_LOGO;\n\n      return client.html`\n        <header\n          class=${classes.container}\n          style=${styles.container(numSteps)}\n        >\n          <img src=${src} alt='company-name' class=${classes.image} />\n          ${numSteps > 0 ? Progress({ numSteps, currentStep }) : ''}\n        </header>\n      `;\n    }\n\n  });\n\n};\n","\nimport _ from '@jmaguirrei/belt';\n\nexport const Tabs = client => {\n\n  const size = client.lib.Sizes.TABS_HEIGHT;\n  const { GREEN_SIGNUP, BLUE_SIGNIN } = client.lib.Colors;\n\n  return client.hoc({\n\n    state(props, store) {\n      return {\n        language: store.get('language'),\n        currentPage: store.get('currentPage'),\n      };\n    },\n\n    actions(props, store) {\n      return {\n        onSelectSignUp: () => store.call('changeRoute', { page: 'signup', action: 'replace' }),\n        onSelectSignIn: () => store.call('changeRoute', { page: 'signin', action: 'replace' }),\n      };\n    },\n\n    classes: {\n      container: `\n        display: flex;\n        width: 100%;\n        align-items: center;\n        min-height: ${size};\n        max-height: ${size};\n      `,\n    },\n\n    styles: {\n      tab: (i, color, isSelected) => `\n        height: ${size};\n        padding: 8px 0px;\n        flex: 1;\n        font-size: 20px;\n        text-align: center;\n        cursor: pointer;\n        user-select: none;\n        color: ${isSelected ? color : 'hsl(0, 0%, 40%)'};\n        background: ${isSelected ? 'white' : 'hsl(0, 0%, 95%)'};\n        border-top: 1px solid hsl(0, 0%, ${isSelected ? 100 : 80}%);\n        border-right: ${isSelected && i === 0 ? '1px solid hsl(0, 0%, 80%)' : '1px solid transparent'};\n        border-left: ${isSelected && i === 1 ? '1px solid hsl(0, 0%, 80%)' : '1px solid transparent'};\n      `,\n    },\n\n    render({ styles, actions, state, classes }) {\n\n      const { language, currentPage } = state;\n      const { onSelectSignUp, onSelectSignIn } = actions;\n\n      const isSignupSelected = currentPage === 'signup';\n\n      return client.html`\n        <div class='tabs ${classes.container}'>\n          <button\n            style=${styles.tab(0, GREEN_SIGNUP, isSignupSelected)}\n            @click=${onSelectSignUp}\n          >\n            ${_.get({ en: 'Sign Up', es: 'Registro' }, language)}\n          </button>\n          <button\n            style=${styles.tab(1, BLUE_SIGNIN, !isSignupSelected)}\n            @click=${onSelectSignIn}\n          >\n            ${_.get({ en: 'Sign In', es: 'Acceso' }, language)}\n          </button>\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nimport _ from '@jmaguirrei/belt';\n\nexport const PasswordOptions = client => {\n\n  const { Icons } = client.ui.components;\n\n  return client.hoc({\n\n    actions(props, store) {\n      return {\n        onClickEye: () => store.toggle(`${props.page}.password.isVisible`),\n        onClickForgot: () => store.set({ currentPage: 'forgot' }),\n      };\n    },\n\n    state(props, store) {\n      return {\n        language: store.get('language'),\n        isPasswordVisible: store.get(`${props.page}.password.isVisible`),\n        isIconVisible: store.get(`${props.page}.password`).length > 0,\n      };\n    },\n\n    classes: {\n      container: `\n        width: 100%;\n        display: flex;\n        align-items: center;\n        padding: 10px;\n        margin-bottom: 30px;\n      `,\n    },\n\n    styles: {\n      forgot: forgot => `\n        font-size: 14px;\n        user-select: none;\n        flex: 1;\n        opacity: ${forgot ? 1 : 0};\n        pointer-events: ${forgot ? 'auto' : 'none'};\n        cursor: pointer;\n      `,\n      icon: isVisible => `\n        opacity: ${isVisible ? 1 : 0};\n        pointer-events: ${isVisible ? 'auto' : 'none'};\n      `,\n    },\n\n    render({ props, classes, state, actions, styles }) {\n\n      const { isPasswordVisible, isIconVisible, language } = state;\n      const { forgot = false } = props;\n\n      return client.html`\n        <div class='password-options ${classes.container}'>\n          <div style=${styles.forgot(forgot)} @click=${actions.onClickForgot}>\n            ${_.get({\n              en: 'Forgot password?',\n              es: 'Olvidaste tu contrasea?',\n            }, language)}\n          </div>\n          ${Icons({\n            icon: isPasswordVisible ? 'eye-off' : 'eye-on',\n            size: 20,\n            onClick: isIconVisible ? actions.onClickEye : () => undefined,\n            inStyle: styles.icon(isIconVisible),\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\rexport { Header } from './Header';\rexport { Tabs } from './Tabs';\rexport { PasswordOptions } from './PasswordOptions';\r\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Input } = client.ui.components;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        email: store.get('signin.email'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onInput: e => {\r          const email = e.target.value;\r          store.set({ 'signin.email': email, 'forgot.email': email });\r        },\r        onClickRight: () => {\r          const { state, actions } = client.lib.SigninControl(store);\r          const enabled = state.rightEnabled;\r          if (enabled) actions.onClickRight();\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, email } = state;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: 'Welcome back!',\r                es: 'Bienvenid@ de nuevo!',\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'Enter your email',\r                es: 'Ingresa tu email',\r              }, language)}\r            </div>\r          </div>\r          ${Input({\r            label: 'email',\r            type: 'text',\r            placeholder: _.get({ en: 'Your email', es: 'Tu email' }, language),\r            value: email,\r            onInput: actions.onInput,\r            onClickRight: actions.onClickRight,\r          })}\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r\r","\rimport _ from '@jmaguirrei/belt';\r\r\rexport default client => {\r\r  const { Input } = client.ui.components;\r  const { PasswordOptions } = client.ui.fragments;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        name: store.get('signin.name').split(' ')[0],\r        password: store.get('signin.password'),\r        isPasswordVisible: store.get('signin.password.isVisible'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onInput: e => {\r          store.set({ 'signin.password': e.target.value });\r        },\r        onClickRight: () => {\r          const { state, actions } = client.lib.SigninControl(store);\r          const enabled = state.rightEnabled;\r          if (enabled) actions.onClickRight();\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r      'input-wrapper': `\r        display: flex;\r        flex-flow: column;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, name, password, isPasswordVisible } = state;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: `Hello ${name}!`,\r                es: `Hola ${name}!`,\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'Enter your password',\r                es: 'Ingresa tu contrasea',\r              }, language)}\r            </div>\r          </div>\r          <div style=${styles['input-wrapper']}>\r            ${Input({\r              label: 'password',\r              type: isPasswordVisible ? 'text' : 'password',\r              placeholder: '********',\r              value: password,\r              onInput: actions.onInput,\r              onClickRight: actions.onClickRight,\r            })}\r            ${PasswordOptions({ forgot: true, page: 'signin' })}\r          </div>\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r","\rexport default client => {\r\r  const { Carrousel, Navigation } = client.ui.components;\r  const { Header, Tabs } = client.ui.fragments;\r\r  return client.hoc({\r\r    state(props, store) {\r      return client.lib.SigninControl(store).state;\r    },\r\r    actions(props, store) {\r      return client.lib.SigninControl(store).actions;\r    },\r\r    classes: {\r      container: `\r        display: flex;\r        flex-flow: column;\r        justify-content: space-around;\r        height: 100%;\r        position: relative;\r      `,\r    },\r\r    sections: {\r      Email: require('./<>/Email').default,\r      Password: require('./<>/Password').default,\r    },\r\r    render({ state, actions, classes, sections }) {\r\r      const screens = Object.keys(sections).map(key => sections[key]);\r      const numSteps = screens.length;\r      const { currentStep, leftEnabled, rightEnabled, checkText, alertText } = state;\r      const { onClickLeft, onClickRight } = actions;\r\r      return client.html`\r        <div id='sign-in' class=${classes.container}>\r          ${Header({ numSteps, currentStep })}\r          ${Carrousel({ currentStep, screens })}\r          ${Navigation({\r            currentPage: 'signin',\r            onClickLeft,\r            onClickRight,\r            leftEnabled,\r            rightEnabled,\r            text: alertText || checkText,\r            color: alertText ? client.lib.Colors.RED_WARNING : '',\r          })}\r          ${Tabs()}\r        </div>\r      `;\r\r    }\r\r  });\r};\r\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Input } = client.ui.components;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        name: store.get('signup.name'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onInput: e => {\r          store.set({ 'signup.name': e.target.value });\r        },\r        onClickRight: () => {\r          const { state, actions } = client.lib.SignupControl(store);\r          const enabled = state.rightEnabled;\r          if (enabled) actions.onClickRight();\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, name } = state;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: 'Welcome!',\r                es: 'Bienvenid@!',\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'What\\'s your name?',\r                es: 'Cul es tu nombre?',\r              }, language)}\r            </div>\r          </div>\r          ${Input({\r            label: 'name',\r            type: 'text',\r            placeholder: _.get({ en: 'Your name', es: 'Tu nombre' }, language),\r            value: name,\r            onInput: actions.onInput,\r            onClickRight: actions.onClickRight,\r          })}\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Input } = client.ui.components;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        name: store.get('signup.name').split(' ')[0],\r        email: store.get('signup.email'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onInput: e => {\r          store.set({ 'signup.email': e.target.value });\r        },\r        onClickRight: () => {\r          const { state, actions } = client.lib.SignupControl(store);\r          const enabled = state.rightEnabled;\r          if (enabled) actions.onClickRight();\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, name, email } = state;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: `Hello ${name}!`,\r                es: `Hola ${name}!`,\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'What email do you want to use?',\r                es: 'Qu email deseas usar?',\r              }, language)}\r            </div>\r          </div>\r          ${Input({\r            label: 'email',\r            type: 'text',\r            placeholder: _.get({ en: 'Your email', es: 'Tu email' }, language),\r            value: email,\r            onInput: actions.onInput,\r            onClickRight: actions.onClickRight,\r          })}\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Input } = client.ui.components;\r  const { PasswordOptions } = client.ui.fragments;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        password: store.get('signup.password'),\r        isPasswordVisible: store.get('signup.password.isVisible'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onInput: e => {\r          store.set({ 'signup.password': e.target.value });\r        },\r        onClickRight: () => {\r          const { state, actions } = client.lib.SignupControl(store);\r          const enabled = state.rightEnabled;\r          if (enabled) actions.onClickRight();\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r      'input-wrapper': `\r        display: flex;\r        flex-flow: column;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, isPasswordVisible, password } = state;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: 'Perfect, now:',\r                es: 'Perfecto, ahora:',\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'Choose a password',\r                es: 'Elige una contrasea',\r              }, language)}\r            </div>\r          </div>\r          <div style=${styles['input-wrapper']}>\r            ${Input({\r              label: 'password',\r              type: isPasswordVisible ? 'text' : 'password',\r              placeholder: '********',\r              value: password,\r              onInput: actions.onInput,\r              onClickRight: actions.onClickRight,\r            })}\r            ${PasswordOptions({ page: 'signup' })}\r          </div>\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Token, NumKeyboard } = client.ui.components;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        tokenDigits: store.get('signup.tokenDigits'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onPressNum: digit => {\r          if (store.get('signup.tokenDigits').length < 6) {\r            store.set({ 'signup.tokenDigits': value => value.concat(String(digit)) });\r          }\r        },\r        onPressDel: () => {\r          if (store.get('signup.tokenDigits').length > 0) {\r            store.set({ 'signup.tokenDigits': value => value.slice(0, -1) });\r          }\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, tokenDigits } = state;\r      const { onPressNum, onPressDel } = actions;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: 'Excelent! Last step:',\r                es: 'Excelente! ltimo paso:',\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'Enter the code received by email',\r                es: 'Ingresa el cdigo recibido por email',\r              }, language)}\r            </div>\r          </div>\r          ${Token({ tokenDigits })}\r          ${NumKeyboard({ onPressNum, onPressDel })}\r        </div>\r      `;\r\r    }\r\r  });\r};\r","\rexport default client => {\r\r  const { Navigation, Carrousel } = client.ui.components;\r  const { Header, Tabs } = client.ui.fragments;\r\r  return client.hoc({\r\r    state(props, store) {\r      return client.lib.SignupControl(store).state;\r    },\r\r    actions(props, store) {\r      return client.lib.SignupControl(store).actions;\r    },\r\r    classes: {\r      container: `\r        display: flex;\r        flex-flow: column;\r        justify-content: space-around;\r        height: 100%;\r        position: relative;\r      `,\r    },\r\r    sections: {\r      Name: require('./<>/Name').default,\r      Email: require('./<>/Email').default,\r      Password: require('./<>/Password').default,\r      Token: require('./<>/Token').default,\r    },\r\r    render({ state, actions, classes, sections }) {\r\r      const screens = Object.keys(sections).map(key => sections[key]);\r      const numSteps = screens.length;\r      const { currentStep, leftEnabled, rightEnabled, checkText, alertText } = state;\r      const { onClickLeft, onClickRight } = actions;\r\r      return client.html`\r        <div id='sign-up' class=${classes.container}>\r          ${Header({ numSteps, currentStep })}\r          ${Carrousel({ currentStep, screens })}\r          ${Navigation({\r            currentPage: 'signup',\r            onClickLeft,\r            onClickRight,\r            leftEnabled,\r            rightEnabled,\r            text: alertText || checkText,\r            color: alertText ? client.lib.Colors.RED_WARNING : '',\r          })}\r          ${Tabs()}\r        </div>\r      `;\r\r    }\r\r  });\r};\r","\r\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Button } = client.ui.components;\r  const { Header } = client.ui.fragments;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        user_id: store.get('user_id'),\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-between;\r        align-items: center;\r        padding-bottom: 20%;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 22px;\r        padding: 10px 20px 20px 20px;\r        color: hsl(0, 0%, 35%);\r      `,\r      button: `\r        padding: 60px;\r        width: 100%;\r        font-size: 20px;\r      `,\r    },\r\r    render({ state, styles }) {\r\r      const { language, user_id } = state;\r\r      return client.html`\r        <div id='welcome' style=${styles.wrapper}>\r          ${Header()}\r          <main style=${styles.title}>\r            ${\r              _.get({\r                en: 'Welcome!',\r                es: 'Bienvenid@!',\r              }, language)\r            }\r          </div>\r          <div style=${styles.subtitle}>\r            ${\r              _.get({\r                en: 'You successfully registered your account',\r                es: 'Has registrado exitosamente tu cuenta',\r              }, language)\r            }\r          </div>\r          <div style=${styles.button}>\r            ${\r              Button({\r                text: _.get({\r                  en: 'Open the app',\r                  es: 'Abrir la app',\r                }, language),\r                color: 'white',\r                bgColor: client.lib.Colors.GREEN_WELCOME,\r                height: 44,\r                href: `/app?user=${user_id}`,\r              })\r            }\r          </main>\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Input } = client.ui.components;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        email: store.get('forgot.email'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onInput: e => {\r          const email = e.target.value;\r          store.set({ 'signin.email': email, 'forgot.email': email });\r        },\r        onClickRight: () => {\r          const { state, actions } = client.lib.ForgotControl(store);\r          const enabled = state.rightEnabled;\r          if (enabled) actions.onClickRight();\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r    },\r\r    render({ actions, state, styles }) {\r\r      const { language } = state;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: 'Password recovery',\r                es: 'Recuperacin de contrasea',\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'Enter your email',\r                es: 'Ingresa tu email',\r              }, language)}\r            </div>\r          </div>\r          ${Input({\r            label: 'email',\r            type: 'text',\r            placeholder: _.get({ en: 'Your email', es: 'Tu email' }, language),\r            value: state.email,\r            onInput: actions.onInput,\r            onClickRight: actions.onClickRight,\r          })}\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Input } = client.ui.components;\r  const { PasswordOptions } = client.ui.fragments;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        name: store.get('forgot.name').split(' ')[0],\r        password: store.get('forgot.password'),\r        isPasswordVisible: store.get('forgot.password.isVisible'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onInput: e => {\r          store.set({ 'forgot.password': e.target.value });\r        },\r        onClickRight: () => {\r          const { state, actions } = client.lib.ForgotControl(store);\r          const enabled = state.rightEnabled;\r          if (enabled) actions.onClickRight();\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r      'input-wrapper': `\r        display: flex;\r        flex-flow: column;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, name, password } = state;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: `Don't worry ${name}!`,\r                es: `No te preocupes ${name}!`,\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'Just type a new password',\r                es: 'Slo ingresa una nueva contrasea',\r              }, language)}\r            </div>\r          </div>\r          <div style=${styles['input-wrapper']}>\r            ${Input({\r              label: 'password',\r              type: state.isPasswordVisible ? 'text' : 'password',\r              placeholder: '********',\r              value: password,\r              onInput: actions.onInput,\r              onClickRight: actions.onClickRight,\r            })}\r            ${PasswordOptions({ page: 'forgot' })}\r          </div>\r        </div>\r      `;\r\r    }\r\r  });\r\r};\r\r","\rimport _ from '@jmaguirrei/belt';\r\rexport default client => {\r\r  const { Token, NumKeyboard } = client.ui.components;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        language: store.get('language'),\r        tokenDigits: store.get('forgot.tokenDigits'),\r      };\r    },\r\r    actions(props, store) {\r      return {\r        onPressNum: digit => {\r          if (store.get('forgot.tokenDigits').length < 6) {\r            store.set({ 'forgot.tokenDigits': value => value.concat(String(digit)) });\r          }\r        },\r        onPressDel: () => {\r          if (store.get('forgot.tokenDigits').length > 0) {\r            store.set({ 'forgot.tokenDigits': value => value.slice(0, -1) });\r          }\r        },\r      };\r    },\r\r    styles: {\r      wrapper: `\r        display: flex;\r        flex-flow: column;\r        height: 100%;\r        justify-content: space-around;\r      `,\r      title: `\r        font-size: 28px;\r        padding: 20px 20px 10px 20px;\r      `,\r      subtitle: `\r        font-size: 24px;\r        padding: 10px 20px 20px 20px;\r      `,\r    },\r\r    render({ state, styles, actions }) {\r\r      const { language, tokenDigits } = state;\r      const { onPressNum, onPressDel } = actions;\r\r      return client.html`\r        <div style=${styles.wrapper}>\r          <div>\r            <div style=${styles.title}>\r              ${_.get({\r                en: 'Let\\'s change your password:',\r                es: 'Vamos a cambiar tu contrasea:',\r              }, language)}\r            </div>\r            <div style=${styles.subtitle}>\r              ${_.get({\r                en: 'Enter the code received by email',\r                es: 'Ingresa el cdigo recibido por email',\r              }, language)}\r            </div>\r          </div>\r          ${Token({ tokenDigits })}\r          ${NumKeyboard({ onPressNum, onPressDel })}\r        </div>\r      `;\r\r    }\r\r  });\r};\r\r","\r\rexport default client => {\r\r  const { Carrousel, Navigation } = client.ui.components;\r  const { Header, Tabs } = client.ui.fragments;\r\r  return client.hoc({\r\r    state(props, store) {\r      return client.lib.ForgotControl(store).state;\r    },\r\r    actions(props, store) {\r      return client.lib.ForgotControl(store).actions;\r    },\r\r    classes: {\r      container: `\r        display: flex;\r        flex-flow: column;\r        justify-content: space-around;\r        height: 100%;\r        position: relative;\r      `,\r    },\r\r    sections: {\r      Email: require('./<>/Email').default,\r      Password: require('./<>/Password').default,\r      Token: require('./<>/Token').default,\r    },\r\r    render({ state, actions, classes, sections }) {\r\r      const screens = Object.keys(sections).map(key => sections[key]);\r      const numSteps = screens.length;\r      const { currentStep, leftEnabled, rightEnabled, checkText, alertText } = state;\r      const { onClickLeft, onClickRight } = actions;\r\r      return client.html`\r        <div id='forgot' class=${classes.container}>\r          ${Header({ numSteps, currentStep })}\r          ${Carrousel({ currentStep, screens })}\r          ${Navigation({\r            currentPage: 'forgot',\r            onClickLeft,\r            onClickRight,\r            leftEnabled,\r            rightEnabled,\r            text: alertText || checkText,\r            color: alertText ? client.lib.Colors.RED_WARNING : '',\r          })}\r          ${Tabs()}\r        </div>\r      `;\r\r    }\r\r  });\r};\r\r","\r\rexport default client => {\r\r  const { Modal } = client.ui.components;\r\r  return client.hoc({\r\r    state(props, store) {\r      return {\r        currentPage: store.get('currentPage') || props.currentPage,\r      };\r    },\r\r    sections: {\r      SignIn: require('./pages/<SignIn>/SignIn.js').default,\r      SignUp: require('./pages/<SignUp>/SignUp.js').default,\r      Welcome: require('./pages/<Welcome>/Welcome.js').default,\r      Forgot: require('./pages/<Forgot>/Forgot.js').default,\r    },\r\r    render({ state, sections }) {\r\r      const { currentPage } = state;\r\r      return Modal({\r        currentPage,\r        pages: {\r          signin: sections.SignIn,\r          signup: sections.SignUp,\r          welcome: sections.Welcome,\r          forgot: sections.Forgot,\r        }\r      });\r\r    }\r\r  });\r\r};\r\r","\nimport store from '/client/store';\nimport * as lib from '/client/lib';\nimport * as components from '/client/ui/components';\nimport * as fragments from '/client/ui/fragments';\nimport rootComponent from '/client/ui/Root';\n\nexport default {\n\n  client: {\n    store,\n    lib,\n    rootComponent,\n    components,\n    fragments,\n  },\n\n  env: {\n\n    development: {\n      httpPort: 4101,\n      socketPort: null,\n      baseUrl: 'localhost',\n      baseFolder: '',\n      useServiceWorker: false,\n      useManifest: false,\n    },\n\n    production: {\n      httpPort: 4101,\n      socketPort: null,\n      baseUrl: 'museeker.io',\n      baseFolder: 'base-sign',\n      useServiceWorker: true,\n      useManifest: false,\n    },\n\n  },\n\n};\n","\r\rexport function get(Store) {\r\r  return registerNumber => field => {\r    Store.methods.subscribe(registerNumber, field);\r    return Store.objects.observables[field];\r  };\r\r}\r\r\r","\rexport function subscribe(Store) {\r\r  return (registerNumber, observable) => {\r    const findListener = Store.objects.listeners.find(item => item.observable === observable);\r    if (!findListener) return console.log(`Listener not found on observable ${observable}`);\r    const currentListeners = findListener.components;\r    const isSubscribed = currentListeners.find(item => item.registerNumber === registerNumber);\r    if (!isSubscribed) currentListeners.push({ registerNumber });\r  };\r\r}\r\r\r","\r\rconst isPlainValue = v => ([ 'string', 'number', 'boolean' ].includes(typeof v));\rconst wasChanged = (v1, v2) => (v1 !== v2);\r\rexport function set(Store) {\r\r  return object => {\r\r    if (!object) return;\r\r    Object.keys(object).forEach(key => {\r\r      const previousValue = Store.objects.observables[key];\r      const previousValueClone = Array.isArray(previousValue)\r        ? [ ...previousValue ]\r        : typeof previousValue === 'object'\r          ? { ...previousValue }\r          : previousValue;\r\r      const nextValue = typeof object[key] === 'function'\r        ? object[key](previousValueClone)\r        : object[key];\r\r      if (typeof previousValue !== typeof nextValue) {\r        console.warn(`Type does not match previous type in ${key}`);\r      } else {\r        const shouldNotify = !isPlainValue(nextValue) ||\r          (isPlainValue(nextValue) && wasChanged(previousValue, nextValue));\r        if (shouldNotify) {\r          Store.objects.observables[key] = nextValue;\r          Store.methods.notify(key);\r        }\r      }\r\r    });\r  };\r\r}\r\r","\r\r\rexport function setItem(Store) {\r\r  return (observable, item) => {\r    const findIndex = Store.objects.observables[observable].findIndex(x => x.id === item.id);\r    Store.objects.observables[observable][findIndex] = item;\r    Store.methods.notify(observable);\r  };\r\r}\r\r","\r\rexport function toggle(Store) {\r\r  return (observable, cb) => {\r    const currentValue = Store.objects.observables[observable];\r    if (typeof currentValue === 'undefined') {\r      console.warn(`Observable [${observable}] does not exists.`);\r    } else if (typeof currentValue !== 'boolean') {\r      console.warn(`Observable [${observable}] is not a boolean.`);\r    } else {\r      Store.methods.set({ [observable]: !currentValue });\r      if (cb) cb(!currentValue);\r    }\r  };\r\r}\r\r\r","\r\rexport function notify(Store) {\r\r  return observable => {\r\r    // Notify computed\r    if (observable) {\r      Object.keys(Store.objects.computed).forEach(key => {\r        const { take } = Store.objects.computed[key];\r        if (take.includes(observable)) Store.methods.compute(key);\r      });\r    }\r\r    // Notify components\r    if (Store.flags.IS_MOUNTED) Store.methods.render();\r    // const findListener = Store.objects.listeners.find(item => item.observable === observable);\r    // if (findListener && findListener.components) {\r    //   findListener.components.forEach(item => {\r    //     const { registerNumber } = item;\r    //     const componentDefinition = Store.objects.components[registerNumber];\r    //     componentDefinition.definition._render();\r    //   });\r    // }\r\r  };\r\r}\r\r","\r\rexport function compute(Store) {\r\r  return key => {\r    const { take, calc } = Store.objects.computed[key];\r    const values = take.map(field => Store.objects.observables[field]);\r    Store.objects.observables[key] = calc(...values);\r  };\r\r}\r\r","\r\rexport function computeAll(Store) {\r\r  return () => {\r    Object.keys(Store.objects.computed).forEach(key => {\r      Store.methods.compute(key);\r    });\r  };\r\r}\r\r","\r\rexport function emit(Store) {\r\r  return (eventStr, cbProps) => {\r\r    if (eventStr === 'MOUNTED') Store.flags.IS_MOUNTED = true;\r\r    const reactions = Store.objects.reactions.filter(item => {\r      if (item.keepAlive) return item.eventStr === eventStr;\r      return item.eventStr === eventStr && !item.done;\r    });\r\r    reactions.forEach(reaction => {\r      reaction.done = true;\r      reaction.callback(cbProps);\r    });\r  };\r\r}\r\r","\rlet currentRegisterNumber = 1000;\r\rexport function registerComponent(Store) {\r\r  return componentDef => {\r    // if (componentDef.id) return componentDef.id;\r    currentRegisterNumber++;\r    Store.objects.components[currentRegisterNumber] = {\r      definition: componentDef,\r      instances: {},\r    };\r    return currentRegisterNumber;\r  };\r\r\r}\r\r\r","\r\rexport function on(Store) {\r\r  return (eventStr, callback) => {\r    Store.objects.reactions.push({ eventStr, callback, keepAlive: true });\r  };\r\r}\r\r","\r\rexport function once(Store) {\r\r  return (eventStr, callback) => {\r    Store.objects.reactions.push({ eventStr, callback, done: false });\r  };\r\r}\r\r","\r\rexport function render(Store, renderer) {\r\r  return (Comp, props = {}, node = 'root') => {\r\r    // console.log(\"render ------------------------------->\", Comp, props, node);\r\r    if (!Store.objects.defaultComponent) Store.objects.defaultComponent = () => Comp(props);\r    const isString = typeof node === 'string';\r    const parentNode = isString ? document.getElementById(node) : node;\r    const Component = Comp || Store.objects.defaultComponent;\r    renderer(Component(props), parentNode);\r\r  };\r\r}\r\r","\rexport function check(Store, checks) {\r\r  return (name, str) => {\r\r    const { result, message } = checks[name](str);\r    return { result, message };\r\r  };\r\r}\r","\r\rexport function alertOn(Store, alerts) {\r\r  return (obj = {}) => {\r\r    const rand1000 = Math.floor(1000 * Math.random());\r    const timestamp = Date.now();\r    const _id = `${timestamp}--${rand1000}`;\r\r    const message = obj.name ? alerts[obj.name] : obj.name;\r\r    Store.objects.alerts.push({\r      _id,\r      ...obj,\r      message,\r      timestamp,\r      isVisible: true,\r    });\r\r    // Maybe later we are going to notify only the exact component using alerts\r    Store.methods.notify(null);\r\r    if (obj.timeout) {\r      setTimeout(() => {\r        Store.methods.alertOff({ _id });\r      }, obj.timeout);\r    }\r\r  };\r\r}\r","\rexport function alertOff(Store) {\r\r  return ({ _id }) => {\r    const findAlert = Store.objects.alerts.find(item => item._id === _id);\r\r    if (findAlert) {\r      findAlert.isVisible = false;\r      // Maybe later we are going to notify only the exact component using alerts\r      Store.methods.notify(null);\r    }\r\r  };\r\r}\r","\r\rexport function callServerMethod(siteUrl) {\r\r  return (method, args = {}) => {\r\r    // For each query string parameter sent, add it to the path\r    // const requestUrl = Object.keys(queryStringObject).reduce((acum, key, index) => {\r    //   const queryStr = `${key}=${queryStringObject[key]}`;\r    //   if (index === 0) return `${acum}?${queryStr}`;\r    //   return `${acum}&${queryStr}`;\r    // }, `${baseUrl}/${path}`);\r\r    return new Promise((resolve, reject) => {\r\r      // Form the http request as a JSON type\r      const xhr = new window.XMLHttpRequest();\r      xhr.open('POST', `${siteUrl}/api/methods`, true);\r      xhr.setRequestHeader('Content-type', 'application/json');\r\r      // For each header sent, add it to the request\r      // Object.keys(headers).forEach(key => {\r      //   xhr.setRequestHeader(key, headers[key]);\r      // });\r\r      // When the request comes back, handle the response\r      xhr.onreadystatechange = () => {\r        if (xhr.readyState === window.XMLHttpRequest.DONE) {\r\r          const statusCode = xhr.status;\r          if (![ 200, 201 ].includes(statusCode)) reject('XHR request failed');\r\r          const responseReturned = xhr.responseText;\r          resolve(JSON.parse(responseReturned));\r\r        }\r      };\r\r      // Send the payload as JSON\r      const payloadString = JSON.stringify({ method, args });\r      xhr.send(payloadString);\r\r    });\r\r  };\r\r}\r\r","\nexport default {\n\n  SYSTEM_DB_USER_ID: '0000000-system-000000',\n  WINDOW_APP_DATA: '__appData__',\n  GET_MODEL_DATA_METHOD: '@server-model.getData',\n\n};\n\n","import globals from '../../globals';\r\rexport function getDataFromServer(Store) {\r\r  return args => {\r\r    const {\r      instance = null,\r      user_id,\r      lastTimestamp = 0,\r      localEntitiesIds = [],\r    } = args;\r\r    const requestArgs = {\r      user_id,\r      lastTimestamp,\r      localEntitiesIds,\r    };\r\r    return new Promise((resolve, reject) => {\r\r      // Special method available ony for internal libs\r      Store.methods.callServerMethod(globals.GET_MODEL_DATA_METHOD, requestArgs)\r      .then(items => {\r        if (!items) reject('Could not get data from server');\r        const newTimestamp = Date.now();\r        resolve({ instance, items, newTimestamp });\r      })\r      .catch(reject);\r\r    });\r\r  };\r\r}\r","\r\rexport function syncDataToDB({ instance, items, newTimestamp }) {\r\r  let counter = 0;\r  return new Promise(resolve => {\r\r    if (items.length === 0) resolve({ instance, counter, newTimestamp });\r\r    const modelStore = instance.transaction([ 'model' ], 'readwrite').objectStore('model');\r    const requestPrevRecords = modelStore.getAll();\r\r    requestPrevRecords.onsuccess = () => {\r      const previousRecords = requestPrevRecords.result;\r\r      items.forEach(item => {\r\r        if (item.attrs.length > 0) {\r          const findRecord = previousRecords.find(rec => rec._id === item._id);\r          const putRequest = modelStore.put({\r            _id: item._id,\r            domain: item.domain,\r            attrs: findRecord ? [\r              ...findRecord.attrs,\r              ...item.attrs,\r            ] : item.attrs,\r          });\r\r          putRequest.onsuccess = () => {\r            counter++;\r            if (counter === items.length) resolve({ instance, counter, newTimestamp });\r          };\r        }\r\r      });\r    };\r\r  });\r\r\r}\r\r","\rexport function getDBMetadata({ instance, user_id }) {\r\r  return new Promise((resolve, reject) => {\r\r    const controlStore = instance.transaction('control').objectStore('control');\r    const requestControlRecords = controlStore.getAll();\r\r\r    requestControlRecords.onsuccess = () => {\r      const controlRecords = requestControlRecords.result || [];\r      const lastTimestamp = controlRecords.length > 0\r        ? controlRecords[controlRecords.length - 1].lastTimestamp\r        : 0;\r\r      const modelStore = instance.transaction('model').objectStore('model');\r      const requestModelKeys = modelStore.getAllKeys();\r\r      requestModelKeys.onsuccess = () => {\r        const localEntitiesIds = requestModelKeys.result || [];\r        resolve({\r          instance,\r          user_id,\r          lastTimestamp,\r          localEntitiesIds,\r        });\r      };\r\r      requestModelKeys.onerror = () => reject('Error getting Model Keys');\r\r    };\r\r    requestControlRecords.onerror = () => reject('Error getting Control Records');\r\r  });\r\r\r}\r\r","\r\rexport function updateDBControl({ instance, counter, newTimestamp }) {\r\r  return new Promise(resolve => {\r\r    const controlStore = instance.transaction([ 'control' ], 'readwrite').objectStore('control');\r\r    const putRequest = controlStore.put({\r      _id: newTimestamp,\r      lastTimestamp: newTimestamp,\r      counter,\r    });\r\r    putRequest.onsuccess = () => {\r      resolve({ instance });\r    };\r\r\r  });\r\r\r}\r\r","\r\rexport function getModelData({ instance }) {\r\r  return new Promise(resolve => {\r\r    const modelStore = instance.transaction('model').objectStore('model');\r    const requestRecords = modelStore.getAll();\r\r    requestRecords.onsuccess = () => {\r      return resolve(requestRecords.result);\r    };\r\r  });\r\r\r}\r\r","\rimport { getDataFromServer } from './getDataFromServer';\rimport { syncDataToDB } from './syncDataToDB';\rimport { getDBMetadata } from './getDBMetadata';\rimport { updateDBControl } from './updateDBControl';\rimport { getModelData } from './getModelData';\r\rexport function start(Store, { name, version, user_id }) {\r\r  const indexedDB = window.indexedDB ||\r    window.mozIndexedDB ||\r    window.webkitIndexedDB ||\r    window.msIndexedDB;\r\r  // No indexedDB, we just request all data always\r  if (!indexedDB) {\r    return new Promise((resolve, reject) => {\r      getDataFromServer({ user_id })\r      .then(({ items }) => resolve(items))\r      .catch(reject);\r    });\r  }\r\r  return new Promise((resolve, reject) => {\r\r    const request = indexedDB.open(name, version);\r    request.onsuccess = () => resolve({ instance: request.result, user_id });\r    request.onerror = () => reject(request.error);\r\r    request.onupgradeneeded = e => {\r      const instance = e.target.result;\r      instance.model = instance.createObjectStore('model', { keyPath: '_id' });\r      instance.control = instance.createObjectStore('control', { keyPath: '_id' });\r    };\r\r  })\r  .then(getDBMetadata)\r  .then(getDataFromServer(Store))\r  .then(syncDataToDB)\r  .then(updateDBControl)\r  .then(getModelData)\r  .catch(console.log);\r\r}\r\r","\r\rfunction getCurrentAttrs(attrs) {\r  return attrs.reduce((acum, item) => {\r    const { key, value, timestamp } = item;\r    /*\r      value:\r        is always what is displayed at the UI, used in calculations, etc.\r        can be in 2 status\r\r      status:\r        0: value is \"optimistic\" and has not been validated yet by the server\r        1: value coherent with the server initial load,\r        2: optimistic value that was confirmed by the server\r        3: value that came from the server through web-sockets\r\r      dbValue:\r        is the last value that was confirmed by the server\r        if null indicates that the whole record is not confirmed yet\r\r      timestamp:\r        is the timestamp that reflects the last status coming from the server\r\r    */\r    if (!acum[key]) acum[key] = { value, dbValue: value, status: 1, timestamp };\r    return {\r      ...acum,\r      [key]: timestamp > acum[key].timestamp\r        ? { value, dbValue: value, status: 1, timestamp }\r        : acum[key],\r    };\r  }, {});\r}\r\rexport function hydrate(Store) {\r\r  return data => {\r\r    if (data.length > 0) {\r\r      Store.db.data = data.reduce((acum, item) => {\r        const { _id, domain, attrs } = item;\r        if (!acum[domain]) acum[domain] = [];\r\r        return {\r          ...acum,\r          [domain]: [\r            ...acum[domain],\r            {\r              _id,\r              attrs: getCurrentAttrs(attrs),\r            },\r          ],\r        };\r\r      }, {});\r\r      // Renders the defaultComponent (Container)\r      if (Store.flags.IS_MOUNTED) Store.methods.render();\r\r    }\r\r  };\r\r}\r\r\r","\rexport function query(Store) {\r\r  return domain => {\r    if (!Store.db.data) return [];\r    return Store.db.data[domain] || [];\r  };\r\r}\r\r\r","\rexport { start } from './start';\rexport { hydrate } from './hydrate';\rexport { query } from './query';\r","\n\nexport function initSocket({ socketUrl, user_id, onMessage }) {\n\n  if (!socketUrl) {\n    console.log('SocketUrl not defined');\n    return () => undefined;\n  }\n\n  const wsSupport = 'WebSocket' in window;\n  if (!wsSupport) {\n    console.log('WebSocket not supported');\n    return () => undefined;\n  }\n\n  const ws = new window.WebSocket(socketUrl);\n\n  const sendJSON = obj => ws.send(JSON.stringify(obj));\n\n  ws.onopen = () => {\n    console.log('WebSocket opened');\n    // tell the server user_id is connected\n    if (user_id) sendJSON({ user_id, isInitial: true });\n  };\n\n  ws.onclose = x => console.log('WebSocket closed', x);\n  ws.onmessage = obj => {\n    onMessage(JSON.parse(obj.data));\n  };\n\n\n  return sendJSON;\n\n}\n\n","\n\nexport function onMessage(Store) {\n\n  return payload => {\n    const { data, isInitial } = payload;\n    if (isInitial) console.log('Socket first message --> ', payload);\n\n    if (data) {\n      const { _id, domain, attrs } = data;\n      if (!Store.db.data[domain]) Store.db.data[domain] = [];\n      const findEntity = Store.db.data[domain].find(item => item._id === _id);\n\n      if (!findEntity) {\n\n        // Create entity\n        Store.db.data[domain].push({\n          _id,\n          attrs: attrs.reduce((acum, item) => {\n            const { key, value, timestamp } = item;\n            return {\n              ...acum,\n              [key]: {\n                value,\n                dbValue: value,\n                status: 3,\n                timestamp,\n              },\n            };\n          }, {}),\n        });\n\n      } else {\n\n        // Update entity\n        attrs.forEach(item => {\n          const { key, value, timestamp } = item;\n          findEntity.attrs[key] = {\n            value,\n            dbValue: value,\n            status: 3,\n            timestamp,\n          };\n        });\n\n      }\n\n      Store.methods.render();\n\n    }\n  };\n\n}\n\n","\rexport { initSocket } from './initSocket';\rexport { onMessage } from './onMessage';\r","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\rimport * as db from '../db';\rimport * as sockets from '../sockets';\rimport { callServerMethod } from '../methods';\r\rconst isBrowser = process.browser;\r\rexport function connectStoreToServer(Store, { user_id, siteUrl, socketUrl }) {\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize db && sockets\r  ---------------------------------------------------------------------------------------------- */\r\r  Store.methods.callServerMethod = callServerMethod(siteUrl);\r\r  if (isBrowser) {\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize sockets\r  ---------------------------------------------------------------------------------------------- */\r\r    const sendJSON = sockets.initSocket({\r      socketUrl,\r      user_id,\r      onMessage: sockets.onMessage(Store),\r    });\r\r    Store.sockets = {\r      sendJSON,\r    };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize db\r  ---------------------------------------------------------------------------------------------- */\r\r    Store.db = {\r      data: null, // already transformed and living free after initialization\r      query: db.query(Store),\r    };\r\r    return db.start(Store, { name: 'asyncDB', version: 1, user_id })\r    .then(db.hydrate(Store))\r    .catch(console.log);\r\r  }\r\r}\r\r","\rimport { connectStoreToServer } from '../lifecycle/connectStoreToServer';\r\rexport function startApp(Store) {\r\r  return ({ appData, rootComponent }) => {\r\r    const {\r      currentPage,\r      query,\r      baseUrl,\r      baseFolder,\r      httpPort,\r      socketPort,\r      isProduction,\r      useServiceWorker,\r    } = appData;\r\r    const siteUrl = isProduction\r      ? `https://${baseUrl}/${baseFolder}`\r      : `http://${baseUrl}:${httpPort}`;\r\r    const socketUrl = !socketPort ? null : isProduction\r      ? `wss://${baseUrl}/${baseFolder}`\r      : `ws://${baseUrl}:${socketPort}`;\r\r/* ------------------------------------------------------------------------------------------------\r  Register Service Worker\r------------------------------------------------------------------------------------------------ */\r\r    if (useServiceWorker && 'serviceWorker' in window.navigator) {\r\r      window.navigator.serviceWorker\r      .register('../sw.js', { scope: '/' })\r      // .register(`./${baseFolder}/sw.js`, { scope: '/' })\r      .then(registration => {\r        console.log('Service Worker registration OK', registration);\r      })\r      .catch(error => {\r        console.log('Service Worker registration FAILED', error);\r      });\r\r\r    }\r\r\r/* ------------------------------------------------------------------------------------------------\r  First Render && Connect to Server data\r------------------------------------------------------------------------------------------------ */\r\r    if (currentPage) Store.methods.set({ currentPage });\r    if (query.user) Store.methods.set({ user_id: query.user });\r\r\r    connectStoreToServer(Store, { user_id: query.user, siteUrl, socketUrl })\r    .then(() => {\r      Store.methods.render(rootComponent, { currentPage }, 'root');\r      Store.methods.emit('MOUNTED');\r    });\r\r\r  };\r\r}\r","\rexport { get } from './get';\rexport { subscribe } from './subscribe';\rexport { set } from './set';\rexport { setItem } from './setItem';\rexport { toggle } from './toggle';\rexport { notify } from './notify';\rexport { compute } from './compute';\rexport { computeAll } from './computeAll';\rexport { emit } from './emit';\rexport { registerComponent } from './registerComponent';\rexport { on } from './on';\rexport { once } from './once';\rexport { render } from './render';\rexport { check } from './check';\rexport { alertOn } from './alertOn';\rexport { alertOff } from './alertOff';\rexport { callServerMethod } from './callServerMethod';\rexport { startApp } from './startApp';\r\r","\r\rexport function addToQueue(Store) {\r\r  return ({ name, steps, onError }) => {\r    const _id = Date.now();\r    const objToQueue = {\r      _id,\r      name,\r      steps,\r      done: false,\r    };\r\r    if (onError) objToQueue.onError = onError;\r    Store.process.queue.splice(0, 0, objToQueue); // ads into the first element\r    Store.process.runTask({ _id });\r\r  };\r\r}\r\r","\r\r\rexport function createProcesses(Store, actions) {\r\r  if (!actions) return () => undefined;\r\r  const processes = Object.keys(actions).reduce((acum, key) => {\r    const singleAction = actions[key];\r    /*\r      We dont want to pass the whole Store to the action, just observables\r      So, the actions consumes the Store like:\r      const { language } = Store.observables;\r    */\r    const { observables } = Store.objects;\r    return {\r      ...acum,\r      [key]: args => {\r        Store.process.addToQueue({\r          name: key,\r          ...singleAction({ observables })(args),\r        });\r      },\r    };\r  }, {});\r\r  return (name, args) => processes[name](args);\r\r\r}\r\r\r","\n\nexport function processOptimistic(Store, args) {\n\n  const { _id, domain, attrs } = args;\n\n  if (!Store.db.data[domain]) Store.db.data[domain] = [];\n  const findEntity = Store.db.data[domain].find(item => item._id === _id);\n\n  /*\n    Case 1: New Entity\n  */\n\n  if (!findEntity) {\n\n    // Create entity\n    Store.db.data[domain].push({\n      _id,\n      attrs: Object.keys(attrs).reduce((acum, key) => {\n        return {\n          ...acum,\n          [key]: {\n            value: attrs[key],\n            dbValue: null,\n            status: 0,\n            timestamp: Date.now(),\n          },\n        };\n      }, {}),\n    });\n\n  } else {\n\n  /*\n    Case 2: Existing entity, new attrs\n  */\n\n    // Update entity\n    Object.keys(attrs).forEach(key => {\n      const dbValue = attrs[key].value;\n      findEntity.attrs[key] = {\n        value: attrs[key],\n        dbValue,\n        status: 0,\n        timestamp: Date.now(),\n      };\n    });\n\n  }\n\n\n  Store.methods.render();\n\n  return isOK => {\n\n    if (!findEntity && !isOK) {\n      // New Entity + error => Remove the entity\n      Store.db.data[domain] = Store.db.data[domain].filter(item => item._id !== _id);\n\n    } else {\n      // New Entity + ok || Existing entity => Update fields\n\n      const entity = Store.db.data[domain].find(item => item._id === _id);\n\n      Object.keys(entity.attrs).forEach(key => {\n        const field = entity.attrs[key];\n        if (field.status === 0) {\n          field.status = isOK ? 2 : 1;\n          if (!isOK) field.value = field.dbValue;\n          if (isOK) field.dbValue = field.value;\n          field.timestamp = Date.now();\n        }\n      });\n\n    }\n\n    if (!isOK) Store.methods.render();\n\n  };\n\n}\n\n","\nimport { processOptimistic } from './processOptimistic';\n\nexport function processStep(Store, step, previousArgs = {}) {\n\n  const {\n    method,\n    domain,\n    args,\n    sideEffect,\n    optimistic = true,\n  } = step(previousArgs);\n\n  // Backend may return something valuable for the next step\n  if (domain === '_Backend_') {\n\n    const resolveOptimistic = optimistic\n      ? processOptimistic(Store, args)\n      : () => undefined;\n\n    return new Promise((resolve, reject) => {\n      return Store.methods.callServerMethod(method, args)\n        .then(response => {\n          const error = response.error;\n          const data = response.data;\n          resolveOptimistic(!error);\n          resolve({\n            error,\n            data: {\n              ...previousArgs.data,\n              ...data,\n            },\n          });\n        })\n        .catch(err => {\n          resolveOptimistic(false);\n          reject(err);\n        });\n    });\n  }\n\n  // Store works like simple local State\n  if (domain === '_Store_') {\n    Store.methods[method](args);\n    if (sideEffect) sideEffect();\n    return Promise.resolve(previousArgs);\n  }\n\n}\n\n","\n// import { resolveArgs } from './resolveArgs';\nimport { processStep } from './processStep';\n\nexport function processor(Store) {\n\n  return steps => {\n\n    // Promise build\n    const promises = steps.map(step => {\n\n      return previousArgs => {\n        // const args = resolveArgs(step.args, prevArgs);\n        // processStep(Store, step, args);\n        return processStep(Store, step, previousArgs);\n      };\n\n    });\n\n    // Promise execution\n    let proceed = true;\n\n    promises.reduce((p, fn) => {\n      return p\n        .then(res => {\n          if (proceed) return fn(res);\n        })\n        .catch(e => {\n          console.log('Error in Promise chain execution', e);\n          proceed = false;\n        });\n    }, Promise.resolve({}));\n\n  };\n\n}\n","\rexport function runTask(Store) {\r\r  return ({ _id }) => {\r    const task = Store.process.queue.find(item => item._id === _id);\r    Store.process.processor(task.steps);\r    task.done = true;\r\r  };\r\r}\r\r","\rexport { addToQueue } from './addToQueue';\rexport { createProcesses } from './createProcesses';\rexport { processor } from './processor';\rexport { runTask } from './runTask';\r\r","\rimport * as methods from '../methods';\rimport * as queue from '../queue';\r\rexport function createStore(definition, renderer) {\r\r  const Store = {};\r\r  const {\r    observables = {},\r    computed = {},\r    actions = {},\r    alerts = {},\r    checks = {},\r  } = definition;\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize flags\r  ---------------------------------------------------------------------------------------------- */\r  Store.flags = {\r    IS_MOUNTED: false,\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize utils to the store for convenience.\r  ---------------------------------------------------------------------------------------------- */\r  Store.utils = {\r    hoc: null, // will be attached after ui initialization\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize observables\r  ---------------------------------------------------------------------------------------------- */\r  Store.objects = {\r    defaultComponent: null,\r    observables,\r    computed,\r    listeners: [],\r    reactions: [],\r    components: {},\r    alerts: [],\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize methods\r  ---------------------------------------------------------------------------------------------- */\r  Store.methods = {\r    check: methods.check(Store, checks),\r    get: methods.get(Store),\r    subscribe: methods.subscribe(Store),\r    set: methods.set(Store),\r    setItem: methods.setItem(Store),\r    toggle: methods.toggle(Store),\r    notify: methods.notify(Store),\r    emit: methods.emit(Store),\r    on: methods.on(Store),\r    once: methods.once(Store),\r    render: methods.render(Store, renderer),\r    compute: methods.compute(Store),\r    computeAll: methods.computeAll(Store),\r    registerComponent: methods.registerComponent(Store),\r    alertOn: methods.alertOn(Store, alerts),\r    alertOff: methods.alertOff(Store),\r    callServerMethod: () => undefined, // will be initialized on 'connectStoreToServer'\r    startApp: methods.startApp(Store),\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize queued processes\r  ---------------------------------------------------------------------------------------------- */\r  Store.process = {\r    queue: [],\r    addToQueue: queue.addToQueue(Store),\r    processor: queue.processor(Store),\r    runTask: queue.runTask(Store),\r    call: queue.createProcesses(Store, actions), // client side method call\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize listeners\r  ---------------------------------------------------------------------------------------------- */\r  Object.keys(Store.objects.observables).forEach(observable => {\r    Store.objects.listeners.push({ observable, components: [] });\r  });\r\r  /* ----------------------------------------------------------------------------------------------\r    Start with computed values up to date\r  ---------------------------------------------------------------------------------------------- */\r  Store.methods.computeAll();\r\r\r  return Store;\r\r}\r\r","\rimport { createStore } from './lifecycle/createStore';\r\rexport default createStore;\r","\r\r\rexport function registerStyles(registerNumber, styledRules) {\r\r  if (!styledRules) return;\r\r  const node = document.getElementById('component-styles');\r  const alreadyRegistered = node.innerHTML.indexOf(`--${registerNumber}`) > -1;\r  if (!alreadyRegistered) node.innerHTML += styledRules;\r\r}\r\r\r","/*\n *          __        ___\n *    _____/ /___  __/ (_)____\n *   / ___/ __/ / / / / / ___/\n *  (__  ) /_/ /_/ / / (__  )\n * /____/\\__/\\__, /_/_/____/\n *          /____/\n *\n * light - weight css preprocessor @licence MIT\n */\n(function (factory) {/* eslint-disable */\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? (module['exports'] = factory(null)) :\n\t\ttypeof define === 'function' && define['amd'] ? define(factory(null)) :\n\t\t\t(window['stylis'] = factory(null))\n}(/** @param {*=} options */function factory (options) {/* eslint-disable */\n\n\t'use strict'\n\n\t/**\n\t * Notes\n\t *\n\t * The ['<method name>'] pattern is used to support closure compiler\n\t * the jsdoc signatures are also used to the same effect\n\t *\n\t * ----\n\t *\n\t * int + int + int === n4 [faster]\n\t *\n\t * vs\n\t *\n\t * int === n1 && int === n2 && int === n3\n\t *\n\t * ----\n\t *\n\t * switch (int) { case ints...} [faster]\n\t *\n\t * vs\n\t *\n\t * if (int == 1 && int === 2 ...)\n\t *\n\t * ----\n\t *\n\t * The (first*n1 + second*n2 + third*n3) format used in the property parser\n\t * is a simple way to hash the sequence of characters\n\t * taking into account the index they occur in\n\t * since any number of 3 character sequences could produce duplicates.\n\t *\n\t * On the other hand sequences that are directly tied to the index of the character\n\t * resolve a far more accurate measure, it's also faster\n\t * to evaluate one condition in a switch statement\n\t * than three in an if statement regardless of the added math.\n\t *\n\t * This allows the vendor prefixer to be both small and fast.\n\t */\n\n\tvar nullptn = /^\\0+/g /* matches leading null characters */\n\tvar formatptn = /[\\0\\r\\f]/g /* matches new line, null and formfeed characters */\n\tvar colonptn = /: */g /* splits animation rules */\n\tvar cursorptn = /zoo|gra/ /* assert cursor varient */\n\tvar transformptn = /([,: ])(transform)/g /* vendor prefix transform, older webkit */\n\tvar animationptn = /,+\\s*(?![^(]*[)])/g /* splits multiple shorthand notation animations */\n\tvar propertiesptn = / +\\s*(?![^(]*[)])/g /* animation properties */\n\tvar elementptn = / *[\\0] */g /* selector elements */\n\tvar selectorptn = /,\\r+?/g /* splits selectors */\n\tvar andptn = /([\\t\\r\\n ])*\\f?&/g /* match & */\n\tvar escapeptn = /:global\\(((?:[^\\(\\)\\[\\]]*|\\[.*\\]|\\([^\\(\\)]*\\))*)\\)/g /* matches :global(.*) */\n\tvar invalidptn = /\\W+/g /* removes invalid characters from keyframes */\n\tvar keyframeptn = /@(k\\w+)\\s*(\\S*)\\s*/ /* matches @keyframes $1 */\n\tvar plcholdrptn = /::(place)/g /* match ::placeholder varient */\n\tvar readonlyptn = /:(read-only)/g /* match :read-only varient */\n\tvar beforeptn = /\\s+(?=[{\\];=:>])/g /* matches \\s before ] ; = : */\n\tvar afterptn = /([[}=:>])\\s+/g /* matches \\s after characters [ } = : */\n\tvar tailptn = /(\\{[^{]+?);(?=\\})/g /* matches tail semi-colons ;} */\n\tvar whiteptn = /\\s{2,}/g /* matches repeating whitespace */\n\tvar pseudoptn = /([^\\(])(:+) */g /* pseudo element */\n\tvar writingptn = /[svh]\\w+-[tblr]{2}/ /* match writing mode property values */\n\tvar gradientptn = /([\\w-]+t\\()/g /* match *gradient property */\n\tvar supportsptn = /\\(\\s*(.*)\\s*\\)/g /* match supports (groups) */\n\tvar propertyptn = /([\\s\\S]*?);/g /* match properties leading semicolon */\n\tvar selfptn = /-self|flex-/g /* match flex- and -self in align-self: flex-*; */\n\tvar pseudofmt = /[^]*?(:[rp][el]a[\\w-]+)[^]*/ /* extrats :readonly or :placholder from selector */\n\tvar trimptn = /[ \\t]+$/ /* match tail whitspace */\n\tvar dimensionptn = /stretch|:\\s*\\w+\\-(?:conte|avail)/ /* match max/min/fit-content, fill-available */\n\tvar imgsrcptn = /([^-])(image-set\\()/\n\n\t/* vendors */\n\tvar webkit = '-webkit-'\n\tvar moz = '-moz-'\n\tvar ms = '-ms-'\n\n\t/* character codes */\n\tvar SEMICOLON = 59 /* ; */\n\tvar CLOSEBRACES = 125 /* } */\n\tvar OPENBRACES = 123 /* { */\n\tvar OPENPARENTHESES = 40 /* ( */\n\tvar CLOSEPARENTHESES = 41 /* ) */\n\tvar OPENBRACKET = 91 /* [ */\n\tvar CLOSEBRACKET = 93 /* ] */\n\tvar NEWLINE = 10 /* \\n */\n\tvar CARRIAGE = 13 /* \\r */\n\tvar TAB = 9 /* \\t */\n\tvar AT = 64 /* @ */\n\tvar SPACE = 32 /*   */\n\tvar AND = 38 /* & */\n\tvar DASH = 45 /* - */\n\tvar UNDERSCORE = 95 /* _ */\n\tvar STAR = 42 /* * */\n\tvar COMMA = 44 /* , */\n\tvar COLON = 58 /* : */\n\tvar SINGLEQUOTE = 39 /* ' */\n\tvar DOUBLEQUOTE = 34 /* \" */\n\tvar FOWARDSLASH = 47 /* / */\n\tvar GREATERTHAN = 62 /* > */\n\tvar PLUS = 43 /* + */\n\tvar TILDE = 126 /* ~ */\n\tvar NULL = 0 /* \\0 */\n\tvar FORMFEED = 12 /* \\f */\n\tvar VERTICALTAB = 11 /* \\v */\n\n\t/* special identifiers */\n\tvar KEYFRAME = 107 /* k */\n\tvar MEDIA = 109 /* m */\n\tvar SUPPORTS = 115 /* s */\n\tvar PLACEHOLDER = 112 /* p */\n\tvar READONLY = 111 /* o */\n\tvar IMPORT = 105 /* <at>i */\n\tvar CHARSET = 99 /* <at>c */\n\tvar DOCUMENT = 100 /* <at>d */\n\tvar PAGE = 112 /* <at>p */\n\n\tvar column = 1 /* current column */\n\tvar line = 1 /* current line numebr */\n\tvar pattern = 0 /* :pattern */\n\n\tvar cascade = 1 /* #id h1 h2 vs h1#id h2#id  */\n\tvar prefix = 1 /* vendor prefix */\n\tvar escape = 1 /* escape :global() pattern */\n\tvar compress = 0 /* compress output */\n\tvar semicolon = 0 /* no/semicolon option */\n\tvar preserve = 0 /* preserve empty selectors */\n\n\t/* empty reference */\n\tvar array = []\n\n\t/* plugins */\n\tvar plugins = []\n\tvar plugged = 0\n\tvar should = null\n\n\t/* plugin context */\n\tvar POSTS = -2\n\tvar PREPS = -1\n\tvar UNKWN = 0\n\tvar PROPS = 1\n\tvar BLCKS = 2\n\tvar ATRUL = 3\n\n\t/* plugin newline context */\n\tvar unkwn = 0\n\n\t/* keyframe animation */\n\tvar keyed = 1\n\tvar key = ''\n\n\t/* selector namespace */\n\tvar nscopealt = ''\n\tvar nscope = ''\n\n\t/**\n\t * Compile\n\t *\n\t * @param {Array<string>} parent\n\t * @param {Array<string>} current\n\t * @param {string} body\n\t * @param {number} id\n\t * @param {number} depth\n\t * @return {string}\n\t */\n\tfunction compile (parent, current, body, id, depth) {\n\t\tvar bracket = 0 /* brackets [] */\n\t\tvar comment = 0 /* comments /* // or /* */\n\t\tvar parentheses = 0 /* functions () */\n\t\tvar quote = 0 /* quotes '', \"\" */\n\n\t\tvar first = 0 /* first character code */\n\t\tvar second = 0 /* second character code */\n\t\tvar code = 0 /* current character code */\n\t\tvar tail = 0 /* previous character code */\n\t\tvar trail = 0 /* character before previous code */\n\t\tvar peak = 0 /* previous non-whitespace code */\n\n\t\tvar counter = 0 /* count sequence termination */\n\t\tvar context = 0 /* track current context */\n\t\tvar atrule = 0 /* track @at-rule context */\n\t\tvar pseudo = 0 /* track pseudo token index */\n\t\tvar caret = 0 /* current character index */\n\t\tvar format = 0 /* control character formating context */\n\t\tvar insert = 0 /* auto semicolon insertion */\n\t\tvar invert = 0 /* inverted selector pattern */\n\t\tvar length = 0 /* generic length address */\n\t\tvar eof = body.length /* end of file(length) */\n\t\tvar eol = eof - 1 /* end of file(characters) */\n\n\t\tvar char = '' /* current character */\n\t\tvar chars = '' /* current buffer of characters */\n\t\tvar child = '' /* next buffer of characters */\n\t\tvar out = '' /* compiled body */\n\t\tvar children = '' /* compiled children */\n\t\tvar flat = '' /* compiled leafs */\n\t\tvar selector /* generic selector address */\n\t\tvar result /* generic address */\n\n\t\t// ...build body\n\t\twhile (caret < eof) {\n\t\t\tcode = body.charCodeAt(caret)\n\n\t\t\t// eof varient\n\t\t\tif (caret === eol) {\n\t\t\t\t// last character + noop context, add synthetic padding for noop context to terminate\n\t\t\t\tif (comment + quote + parentheses + bracket !== 0) {\n\t\t\t\t\tif (comment !== 0) {\n\t\t\t\t\t\tcode = comment === FOWARDSLASH ? NEWLINE : FOWARDSLASH\n\t\t\t\t\t}\n\n\t\t\t\t\tquote = parentheses = bracket = 0\n\t\t\t\t\teof++\n\t\t\t\t\teol++\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (comment + quote + parentheses + bracket === 0) {\n\t\t\t\t// eof varient\n\t\t\t\tif (caret === eol) {\n\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\tchars = chars.replace(formatptn, '')\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chars.trim().length > 0) {\n\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\t\tcase NEWLINE: {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tchars += body.charAt(caret)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcode = SEMICOLON\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// auto semicolon insertion\n\t\t\t\tif (insert === 1) {\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t// false flags\n\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\tcase SINGLEQUOTE:\n\t\t\t\t\t\tcase OPENPARENTHESES:\n\t\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// ignore\n\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// valid\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\t\tlength = caret\n\t\t\t\t\t\t\tfirst = code\n\t\t\t\t\t\t\tcaret--\n\t\t\t\t\t\t\tcode = SEMICOLON\n\n\t\t\t\t\t\t\twhile (length < eof) {\n\t\t\t\t\t\t\t\tswitch (body.charCodeAt(length++)) {\n\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\t\t\t\tcase SEMICOLON: {\n\t\t\t\t\t\t\t\t\t\t++caret\n\t\t\t\t\t\t\t\t\t\tcode = first\n\t\t\t\t\t\t\t\t\t\tlength = eof\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\t\t\t\t\t\t++caret\n\t\t\t\t\t\t\t\t\t\t\tcode = first\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\t\t\t\t\tlength = eof\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// token varient\n\t\t\t\tswitch (code) {\n\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\tchars = chars.trim()\n\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\t\t\t\t\t\tcounter = 1\n\t\t\t\t\t\tlength = ++caret\n\n\t\t\t\t\t\twhile (caret < eof) {\n\t\t\t\t\t\t\tswitch (code = body.charCodeAt(caret)) {\n\t\t\t\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\t\t\t\tcounter++\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\t\t\t\t\tcounter--\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\t\t\t\t\tswitch (second = body.charCodeAt(caret + 1)) {\n\t\t\t\t\t\t\t\t\t\t// /*, //\n\t\t\t\t\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\t\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\t\t\t\t\t\t\tcaret = delimited(second, caret, eol, body)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// given \"[\" === 91 & \"]\" === 93 hence forth 91 + 1 + 1 === 93\n\t\t\t\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\t\t\t\tcode++\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// given \"(\" === 40 & \")\" === 41 hence forth 40 + 1 === 41\n\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\tcode++\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// quote tail delimiter is identical to the head delimiter hence noop,\n\t\t\t\t\t\t\t\t// fallthrough clauses have been shifted to the correct tail delimiter\n\t\t\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\t\t\tcase SINGLEQUOTE: {\n\t\t\t\t\t\t\t\t\twhile (caret++ < eol) {\n\t\t\t\t\t\t\t\t\t\tif (body.charCodeAt(caret) === code) {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (counter === 0) {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcaret++\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tchild = body.substring(length, caret)\n\n\t\t\t\t\t\tif (first === NULL) {\n\t\t\t\t\t\t\tfirst = (chars = chars.replace(nullptn, '').trim()).charCodeAt(0)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tswitch (first) {\n\t\t\t\t\t\t\t// @at-rule\n\t\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\t\t\t\tchars = chars.replace(formatptn, '')\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsecond = chars.charCodeAt(1)\n\n\t\t\t\t\t\t\t\tswitch (second) {\n\t\t\t\t\t\t\t\t\tcase DOCUMENT:\n\t\t\t\t\t\t\t\t\tcase MEDIA:\n\t\t\t\t\t\t\t\t\tcase SUPPORTS:\n\t\t\t\t\t\t\t\t\tcase DASH: {\n\t\t\t\t\t\t\t\t\t\tselector = current\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tselector = array\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tchild = compile(current, selector, child, second, depth+1)\n\t\t\t\t\t\t\t\tlength = child.length\n\n\t\t\t\t\t\t\t\t// preserve empty @at-rule\n\t\t\t\t\t\t\t\tif (preserve > 0 && length === 0) {\n\t\t\t\t\t\t\t\t\tlength = chars.length\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// execute plugins, @at-rule context\n\t\t\t\t\t\t\t\tif (plugged > 0) {\n\t\t\t\t\t\t\t\t\tselector = select(array, chars, invert)\n\t\t\t\t\t\t\t\t\tresult = proxy(ATRUL, child, selector, current, line, column, length, second, depth, id)\n\t\t\t\t\t\t\t\t\tchars = selector.join('')\n\n\t\t\t\t\t\t\t\t\tif (result !== void 0) {\n\t\t\t\t\t\t\t\t\t\tif ((length = (child = result.trim()).length) === 0) {\n\t\t\t\t\t\t\t\t\t\t\tsecond = 0\n\t\t\t\t\t\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (length > 0) {\n\t\t\t\t\t\t\t\t\tswitch (second) {\n\t\t\t\t\t\t\t\t\t\tcase SUPPORTS: {\n\t\t\t\t\t\t\t\t\t\t\tchars = chars.replace(supportsptn, supports)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcase DOCUMENT:\n\t\t\t\t\t\t\t\t\t\tcase MEDIA:\n\t\t\t\t\t\t\t\t\t\tcase DASH: {\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + '{' + child + '}'\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcase KEYFRAME: {\n\t\t\t\t\t\t\t\t\t\t\tchars = chars.replace(keyframeptn, '$1 $2' + (keyed > 0 ? key : ''))\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + '{' + child + '}'\n\n\t\t\t\t\t\t\t\t\t\t\tif (prefix === 1 || (prefix === 2 && vendor('@'+child, 3))) {\n\t\t\t\t\t\t\t\t\t\t\t\tchild = '@' + webkit + child + '@' + child\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tchild = '@' + child\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + child\n\n\t\t\t\t\t\t\t\t\t\t\tif (id === PAGE) {\n\t\t\t\t\t\t\t\t\t\t\t\tchild = (out += child, '')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// selector\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tchild = compile(current, select(current, chars, invert), child, id, depth+1)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tchildren += child\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tcontext = 0\n\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\tformat = 0\n\t\t\t\t\t\tinvert = 0\n\t\t\t\t\t\tatrule = 0\n\t\t\t\t\t\tchars = ''\n\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\tcode = body.charCodeAt(++caret)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\tcase SEMICOLON: {\n\t\t\t\t\t\tchars = (format > 0 ? chars.replace(formatptn, '') : chars).trim()\n\n\t\t\t\t\t\tif ((length = chars.length) > 1) {\n\t\t\t\t\t\t\t// monkey-patch missing colon\n\t\t\t\t\t\t\tif (pseudo === 0) {\n\t\t\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\n\t\t\t\t\t\t\t\t// first character is a letter or dash, buffer has a space character\n\t\t\t\t\t\t\t\tif ((first === DASH || first > 96 && first < 123)) {\n\t\t\t\t\t\t\t\t\tlength = (chars = chars.replace(' ', ':')).length\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// execute plugins, property context\n\t\t\t\t\t\t\tif (plugged > 0) {\n\t\t\t\t\t\t\t\tif ((result = proxy(PROPS, chars, current, parent, line, column, out.length, id, depth, id)) !== void 0) {\n\t\t\t\t\t\t\t\t\tif ((length = (chars = result.trim()).length) === 0) {\n\t\t\t\t\t\t\t\t\t\tchars = '\\0\\0'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\t\t\t\t\t\t\tsecond = chars.charCodeAt(1)\n\n\t\t\t\t\t\t\tswitch (first) {\n\t\t\t\t\t\t\t\tcase NULL: {\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\t\t\tif (second === IMPORT || second === CHARSET) {\n\t\t\t\t\t\t\t\t\t\tflat += chars + body.charAt(caret)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\tif (chars.charCodeAt(length-1) === COLON) {\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tout += property(chars, first, second, chars.charCodeAt(2))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tcontext = 0\n\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\tformat = 0\n\t\t\t\t\t\tinvert = 0\n\t\t\t\t\t\tchars = ''\n\t\t\t\t\t\tcode = body.charCodeAt(++caret)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// parse characters\n\t\t\tswitch (code) {\n\t\t\t\tcase CARRIAGE:\n\t\t\t\tcase NEWLINE: {\n\t\t\t\t\t// auto insert semicolon\n\t\t\t\t\tif (comment + quote + parentheses + bracket + semicolon === 0) {\n\t\t\t\t\t\t// valid non-whitespace characters that\n\t\t\t\t\t\t// may precede a newline\n\t\t\t\t\t\tswitch (peak) {\n\t\t\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\t\t\tcase SINGLEQUOTE:\n\t\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\t\tcase AT:\n\t\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\t\tcase FOWARDSLASH:\n\t\t\t\t\t\t\tcase DASH:\n\t\t\t\t\t\t\tcase COLON:\n\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t// current buffer has a colon\n\t\t\t\t\t\t\t\tif (pseudo > 0) {\n\t\t\t\t\t\t\t\t\tinsert = 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// terminate line comment\n\t\t\t\t\tif (comment === FOWARDSLASH) {\n\t\t\t\t\t\tcomment = 0\n\t\t\t\t\t} else if (cascade + context === 0 && id !== KEYFRAME && chars.length > 0) {\n\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\tchars += '\\0'\n\t\t\t\t\t}\n\n\t\t\t\t\t// execute plugins, newline context\n\t\t\t\t\tif (plugged * unkwn > 0) {\n\t\t\t\t\t\tproxy(UNKWN, chars, current, parent, line, column, out.length, id, depth, id)\n\t\t\t\t\t}\n\n\t\t\t\t\t// next line, reset column position\n\t\t\t\t\tcolumn = 1\n\t\t\t\t\tline++\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tcase SEMICOLON:\n\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\tif (comment + quote + parentheses + bracket === 0) {\n\t\t\t\t\t\tcolumn++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\t// increment column position\n\t\t\t\t\tcolumn++\n\n\t\t\t\t\t// current character\n\t\t\t\t\tchar = body.charAt(caret)\n\n\t\t\t\t\t// remove comments, escape functions, strings, attributes and prepare selectors\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\tif (quote + bracket + comment === 0) {\n\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\t\tcase COLON:\n\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\t\t\t\tchar = ''\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tif (code !== SPACE) {\n\t\t\t\t\t\t\t\t\t\t\tchar = ' '\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// escape breaking control characters\n\t\t\t\t\t\tcase NULL: {\n\t\t\t\t\t\t\tchar = '\\\\0'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase FORMFEED: {\n\t\t\t\t\t\t\tchar = '\\\\f'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase VERTICALTAB: {\n\t\t\t\t\t\t\tchar = '\\\\v'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// &\n\t\t\t\t\t\tcase AND: {\n\t\t\t\t\t\t\t// inverted selector pattern i.e html &\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0 && cascade > 0) {\n\t\t\t\t\t\t\t\tinvert = 1\n\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\tchar = '\\f' + char\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// ::p<l>aceholder, l\n\t\t\t\t\t\t// :read-on<l>y, l\n\t\t\t\t\t\tcase 108: {\n\t\t\t\t\t\t\tif (quote + comment + bracket + pattern === 0 && pseudo > 0) {\n\t\t\t\t\t\t\t\tswitch (caret - pseudo) {\n\t\t\t\t\t\t\t\t\t// ::placeholder\n\t\t\t\t\t\t\t\t\tcase 2: {\n\t\t\t\t\t\t\t\t\t\tif (tail === PLACEHOLDER && body.charCodeAt(caret-3) === COLON) {\n\t\t\t\t\t\t\t\t\t\t\tpattern = tail\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// :read-only\n\t\t\t\t\t\t\t\t\tcase 8: {\n\t\t\t\t\t\t\t\t\t\tif (trail === READONLY) {\n\t\t\t\t\t\t\t\t\t\t\tpattern = trail\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// :<pattern>\n\t\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tpseudo = caret\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// selectors\n\t\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\t\tif (comment + parentheses + quote + bracket === 0) {\n\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\tchar += '\\r'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// quotes\n\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\tcase SINGLEQUOTE: {\n\t\t\t\t\t\t\tif (comment === 0) {\n\t\t\t\t\t\t\t\tquote = quote === code ? 0 : (quote === 0 ? code : quote)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// attributes\n\t\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\t\tif (quote + comment + parentheses === 0) {\n\t\t\t\t\t\t\t\tbracket++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase CLOSEBRACKET: {\n\t\t\t\t\t\t\tif (quote + comment + parentheses === 0) {\n\t\t\t\t\t\t\t\tbracket--\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// functions\n\t\t\t\t\t\tcase CLOSEPARENTHESES: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tparentheses--\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\tswitch (tail*2 + trail*3) {\n\t\t\t\t\t\t\t\t\t\t// :matches\n\t\t\t\t\t\t\t\t\t\tcase 533: {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// :global, :not, :nth-child etc...\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tcounter = 0\n\t\t\t\t\t\t\t\t\t\t\tcontext = 1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tparentheses++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\tif (comment + parentheses + quote + bracket + pseudo + atrule === 0) {\n\t\t\t\t\t\t\t\tatrule = 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// block/line comments\n\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\t\t\tif (quote + bracket + parentheses > 0) {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tswitch (comment) {\n\t\t\t\t\t\t\t\t// initialize line/block comment context\n\t\t\t\t\t\t\t\tcase 0: {\n\t\t\t\t\t\t\t\t\tswitch (code*2 + body.charCodeAt(caret+1)*3) {\n\t\t\t\t\t\t\t\t\t\t// //\n\t\t\t\t\t\t\t\t\t\tcase 235: {\n\t\t\t\t\t\t\t\t\t\t\tcomment = FOWARDSLASH\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// /*\n\t\t\t\t\t\t\t\t\t\tcase 220: {\n\t\t\t\t\t\t\t\t\t\t\tlength = caret\n\t\t\t\t\t\t\t\t\t\t\tcomment = STAR\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// end block comment context\n\t\t\t\t\t\t\t\tcase STAR: {\n\t\t\t\t\t\t\t\t\tif (code === FOWARDSLASH && tail === STAR && length + 2 !== caret) {\n\t\t\t\t\t\t\t\t\t\t// /*<!> ... */, !\n\t\t\t\t\t\t\t\t\t\tif (body.charCodeAt(length+2) === 33) {\n\t\t\t\t\t\t\t\t\t\t\tout += body.substring(length, caret+1)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tchar = ''\n\t\t\t\t\t\t\t\t\t\tcomment = 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// ignore comment blocks\n\t\t\t\t\tif (comment === 0) {\n\t\t\t\t\t\t// aggressive isolation mode, divide each individual selector\n\t\t\t\t\t\t// including selectors in :not function but excluding selectors in :global function\n\t\t\t\t\t\tif (cascade + quote + bracket + atrule === 0 && id !== KEYFRAME && code !== SEMICOLON) {\n\t\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\t\t// outside of an isolated context i.e nth-child(<...>)\n\t\t\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\t\t\tcase CARRIAGE: {\n\t\t\t\t\t\t\t\t\t\t\t\tchar = char + '\\0'\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tchar = '\\0' + char + (code === COMMA ? '' : '\\0')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// within an isolated context, sleep untill it's terminated\n\t\t\t\t\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\t\t\t\t// :globa<l>(\n\t\t\t\t\t\t\t\t\t\t\t\tif (pseudo + 7 === caret && tail === 108) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tcontext = ++counter\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tcase CLOSEPARENTHESES: {\n\t\t\t\t\t\t\t\t\t\t\t\tif ((context = --counter) === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t\t\t\t\tchar += '\\0'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\t\tcase NULL:\n\t\t\t\t\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\t\t\tcase FORMFEED:\n\t\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\t\tcase CARRIAGE: {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t// ignore in isolated contexts\n\t\t\t\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t\t\t\tchar += '\\0'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// concat buffer of characters\n\t\t\t\t\t\tchars += char\n\n\t\t\t\t\t\t// previous non-whitespace character code\n\t\t\t\t\t\tif (code !== SPACE && code !== TAB) {\n\t\t\t\t\t\t\tpeak = code\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tail character codes\n\t\t\ttrail = tail\n\t\t\ttail = code\n\n\t\t\t// visit every character\n\t\t\tcaret++\n\t\t}\n\n\t\tlength = out.length\n\n\t\t// preserve empty selector\n \t\tif (preserve > 0) {\n \t\t\tif (length === 0 && children.length === 0 && (current[0].length === 0) === false) {\n \t\t\t\tif (id !== MEDIA || (current.length === 1 && (cascade > 0 ? nscopealt : nscope) === current[0])) {\n\t\t\t\t\tlength = current.join(',').length + 2\n \t\t\t\t}\n \t\t\t}\n\t\t}\n\n\t\tif (length > 0) {\n\t\t\t// cascade isolation mode?\n\t\t\tselector = cascade === 0 && id !== KEYFRAME ? isolate(current) : current\n\n\t\t\t// execute plugins, block context\n\t\t\tif (plugged > 0) {\n\t\t\t\tresult = proxy(BLCKS, out, selector, parent, line, column, length, id, depth, id)\n\n\t\t\t\tif (result !== void 0 && (out = result).length === 0) {\n\t\t\t\t\treturn flat + out + children\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tout = selector.join(',') + '{' + out + '}'\n\n\t\t\tif (prefix*pattern !== 0) {\n\t\t\t\tif (prefix === 2 && !vendor(out, 2))\n\t\t\t\t\tpattern = 0\n\n\t\t\t\tswitch (pattern) {\n\t\t\t\t\t// ::read-only\n\t\t\t\t\tcase READONLY: {\n\t\t\t\t\t\tout = out.replace(readonlyptn, ':'+moz+'$1')+out\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// ::placeholder\n\t\t\t\t\tcase PLACEHOLDER: {\n\t\t\t\t\t\tout = (\n\t\t\t\t\t\t\tout.replace(plcholdrptn, '::' + webkit + 'input-$1') +\n\t\t\t\t\t\t\tout.replace(plcholdrptn, '::' + moz + '$1') +\n\t\t\t\t\t\t\tout.replace(plcholdrptn, ':' + ms + 'input-$1') + out\n\t\t\t\t\t\t)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tpattern = 0\n\t\t\t}\n\t\t}\n\n\t\treturn flat + out + children\n\t}\n\n\t/**\n\t * Select\n\t *\n\t * @param {Array<string>} parent\n\t * @param {string} current\n\t * @param {number} invert\n\t * @return {Array<string>}\n\t */\n\tfunction select (parent, current, invert) {\n\t\tvar selectors = current.trim().split(selectorptn)\n\t\tvar out = selectors\n\n\t\tvar length = selectors.length\n\t\tvar l = parent.length\n\n\t\tswitch (l) {\n\t\t\t// 0-1 parent selectors\n\t\t\tcase 0:\n\t\t\tcase 1: {\n\t\t\t\tfor (var i = 0, selector = l === 0 ? '' : parent[0] + ' '; i < length; ++i) {\n\t\t\t\t\tout[i] = scope(selector, out[i], invert, l).trim()\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// >2 parent selectors, nested\n\t\t\tdefault: {\n\t\t\t\tfor (var i = 0, j = 0, out = []; i < length; ++i) {\n\t\t\t\t\tfor (var k = 0; k < l; ++k) {\n\t\t\t\t\t\tout[j++] = scope(parent[k] + ' ', selectors[i], invert, l).trim()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Scope\n\t *\n\t * @param {string} parent\n\t * @param {string} current\n\t * @param {number} invert\n\t * @param {number} level\n\t * @return {string}\n\t */\n\tfunction scope (parent, current, invert, level) {\n\t\tvar selector = current\n\t\tvar code = selector.charCodeAt(0)\n\n\t\t// trim leading whitespace\n\t\tif (code < 33) {\n\t\t\tcode = (selector = selector.trim()).charCodeAt(0)\n\t\t}\n\n\t\tswitch (code) {\n\t\t\t// &\n\t\t\tcase AND: {\n\t\t\t\tswitch (cascade + level) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\tcase 1: {\n\t\t\t\t\t\tif (parent.trim().length === 0) {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treturn selector.replace(andptn, '$1'+parent.trim())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// :\n\t\t\tcase COLON: {\n\t\t\t\tswitch (selector.charCodeAt(1)) {\n\t\t\t\t\t// g in :global\n\t\t\t\t\tcase 103: {\n\t\t\t\t\t\tif (escape > 0 && cascade > 0) {\n\t\t\t\t\t\t\treturn selector.replace(escapeptn, '$1').replace(andptn, '$1'+nscope)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\t// :hover\n\t\t\t\t\t\treturn parent.trim() + selector.replace(andptn, '$1'+parent.trim())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\t// html &\n\t\t\t\tif (invert*cascade > 0 && selector.indexOf('\\f') > 0) {\n\t\t\t\t\treturn selector.replace(andptn, (parent.charCodeAt(0) === COLON ? '' : '$1')+parent.trim())\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn parent + selector\n\t}\n\n\t/**\n\t * Property\n\t *\n\t * @param {string} input\n\t * @param {number} first\n\t * @param {number} second\n\t * @param {number} third\n\t * @return {string}\n\t */\n\tfunction property (input, first, second, third) {\n\t\tvar index = 0\n\t\tvar out = input + ';'\n\t\tvar hash = (first*2) + (second*3) + (third*4)\n\t\tvar cache\n\n\t\t// animation: a, n, i characters\n\t\tif (hash === 944) {\n\t\t\treturn animation(out)\n\t\t} else if (prefix === 0 || (prefix === 2 && !vendor(out, 1))) {\n\t\t\treturn out\n\t\t}\n\n\t\t// vendor prefix\n\t\tswitch (hash) {\n\t\t\t// text-decoration/text-size-adjust/text-shadow/text-align/text-transform: t, e, x\n\t\t\tcase 1015: {\n\t\t\t\t// text-shadow/text-align/text-transform, a\n\t\t\t\treturn out.charCodeAt(10) === 97 ? webkit + out + out : out\n\t\t\t}\n\t\t\t// filter/fill f, i, l\n\t\t\tcase 951: {\n\t\t\t\t// filter, t\n\t\t\t\treturn out.charCodeAt(3) === 116 ? webkit + out + out : out\n\t\t\t}\n\t\t\t// color/column, c, o, l\n\t\t\tcase 963: {\n\t\t\t\t// column, n\n\t\t\t\treturn out.charCodeAt(5) === 110 ? webkit + out + out : out\n\t\t\t}\n\t\t\t// box-decoration-break, b, o, x\n\t\t\tcase 1009: {\n\t\t\t\tif (out.charCodeAt(4) !== 100) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\t// mask, m, a, s\n\t\t\t// clip-path, c, l, i\n\t\t\tcase 969:\n\t\t\tcase 942: {\n\t\t\t\treturn webkit + out + out\n\t\t\t}\n\t\t\t// appearance: a, p, p\n\t\t\tcase 978: {\n\t\t\t\treturn webkit + out + moz + out + out\n\t\t\t}\n\t\t\t// hyphens: h, y, p\n\t\t\t// user-select: u, s, e\n\t\t\tcase 1019:\n\t\t\tcase 983: {\n\t\t\t\treturn webkit + out + moz + out + ms + out + out\n\t\t\t}\n\t\t\t// background/backface-visibility, b, a, c\n\t\t\tcase 883: {\n\t\t\t\t// backface-visibility, -\n\t\t\t\tif (out.charCodeAt(8) === DASH) {\n\t\t\t\t\treturn webkit + out + out\n\t\t\t\t}\n\n\t\t\t\t// image-set(...)\n\t\t\t\tif (out.indexOf('image-set(', 11) > 0) {\n\t\t\t\t\treturn out.replace(imgsrcptn, '$1'+webkit+'$2') + out\n\t\t\t\t}\n\n\t\t\t\treturn out\n\t\t\t}\n\t\t\t// flex: f, l, e\n\t\t\tcase 932: {\n\t\t\t\tif (out.charCodeAt(4) === DASH) {\n\t\t\t\t\tswitch (out.charCodeAt(5)) {\n\t\t\t\t\t\t// flex-grow, g\n\t\t\t\t\t\tcase 103: {\n\t\t\t\t\t\t\treturn webkit + 'box-' + out.replace('-grow', '') + webkit + out + ms + out.replace('grow', 'positive') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// flex-shrink, s\n\t\t\t\t\t\tcase 115: {\n\t\t\t\t\t\t\treturn webkit + out + ms + out.replace('shrink', 'negative') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// flex-basis, b\n\t\t\t\t\t\tcase 98: {\n\t\t\t\t\t\t\treturn webkit + out + ms + out.replace('basis', 'preferred-size') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn webkit + out + ms + out + out\n\t\t\t}\n\t\t\t// order: o, r, d\n\t\t\tcase 964: {\n\t\t\t\treturn webkit + out + ms + 'flex' + '-' + out + out\n\t\t\t}\n\t\t\t// justify-items/justify-content, j, u, s\n\t\t\tcase 1023: {\n\t\t\t\t// justify-content, c\n\t\t\t\tif (out.charCodeAt(8) !== 99) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\tcache = out.substring(out.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify')\n\t\t\t\treturn webkit + 'box-pack' + cache + webkit + out + ms + 'flex-pack' + cache + out\n\t\t\t}\n\t\t\t// cursor, c, u, r\n\t\t\tcase 1005: {\n\t\t\t\treturn cursorptn.test(out) ? out.replace(colonptn, ':' + webkit) + out.replace(colonptn, ':' + moz) + out : out\n\t\t\t}\n\t\t\t// writing-mode, w, r, i\n\t\t\tcase 1000: {\n\t\t\t\tcache = out.substring(13).trim()\n\t\t\t\tindex = cache.indexOf('-') + 1\n\n\t\t\t\tswitch (cache.charCodeAt(0)+cache.charCodeAt(index)) {\n\t\t\t\t\t// vertical-lr\n\t\t\t\t\tcase 226: {\n\t\t\t\t\t\tcache = out.replace(writingptn, 'tb')\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// vertical-rl\n\t\t\t\t\tcase 232: {\n\t\t\t\t\t\tcache = out.replace(writingptn, 'tb-rl')\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// horizontal-tb\n\t\t\t\t\tcase 220: {\n\t\t\t\t\t\tcache = out.replace(writingptn, 'lr')\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treturn out\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn webkit + out + ms + cache + out\n\t\t\t}\n\t\t\t// position: sticky\n\t\t\tcase 1017: {\n\t\t\t\tif (out.indexOf('sticky', 9) === -1) {\n\t\t\t\t\treturn out\n\t\t\t\t}\n\t\t\t}\n\t\t\t// display(flex/inline-flex/inline-box): d, i, s\n\t\t\tcase 975: {\n\t\t\t\tindex = (out = input).length - 10\n\t\t\t\tcache = (out.charCodeAt(index) === 33 ? out.substring(0, index) : out).substring(input.indexOf(':', 7) + 1).trim()\n\n\t\t\t\tswitch (hash = cache.charCodeAt(0) + (cache.charCodeAt(7)|0)) {\n\t\t\t\t\t// inline-\n\t\t\t\t\tcase 203: {\n\t\t\t\t\t\t// inline-box\n\t\t\t\t\t\tif (cache.charCodeAt(8) < 111) {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// inline-box/sticky\n\t\t\t\t\tcase 115: {\n\t\t\t\t\t\tout = out.replace(cache, webkit+cache)+';'+out\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// inline-flex\n\t\t\t\t\t// flex\n\t\t\t\t\tcase 207:\n\t\t\t\t\tcase 102: {\n\t\t\t\t\t\tout = (\n\t\t\t\t\t\t\tout.replace(cache, webkit+(hash > 102 ? 'inline-' : '')+'box')+';'+\n\t\t\t\t\t\t\tout.replace(cache, webkit+cache)+';'+\n\t\t\t\t\t\t\tout.replace(cache, ms+cache+'box')+';'+\n\t\t\t\t\t\t\tout\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn out + ';'\n\t\t\t}\n\t\t\t// align-items, align-center, align-self: a, l, i, -\n\t\t\tcase 938: {\n\t\t\t\tif (out.charCodeAt(5) === DASH) {\n\t\t\t\t\tswitch (out.charCodeAt(6)) {\n\t\t\t\t\t\t// align-items, i\n\t\t\t\t\t\tcase 105: {\n\t\t\t\t\t\t\tcache = out.replace('-items', '')\n\t\t\t\t\t\t\treturn webkit + out + webkit + 'box-' + cache + ms + 'flex-' + cache + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// align-self, s\n\t\t\t\t\t\tcase 115: {\n\t\t\t\t\t\t\treturn webkit + out + ms + 'flex-item-' + out.replace(selfptn, '') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// align-content\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\treturn webkit + out + ms + 'flex-line-pack' + out.replace('align-content', '').replace(selfptn, '') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// min/max\n\t\t\tcase 973:\n\t\t\tcase 989: {\n\t\t\t\t// min-/max- height/width/block-size/inline-size\n\t\t\t\tif (out.charCodeAt(3) !== DASH || out.charCodeAt(4) === 122) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\t// height/width: min-content / width: max-content\n\t\t\tcase 931:\n\t\t\tcase 953: {\n\t\t\t\tif (dimensionptn.test(input) === true) {\n\t\t\t\t\t// stretch\n\t\t\t\t\tif ((cache = input.substring(input.indexOf(':') + 1)).charCodeAt(0) === 115)\n\t\t\t\t\t\treturn property(input.replace('stretch', 'fill-available'), first, second, third).replace(':fill-available', ':stretch')\n\t\t\t\t\telse\n\t\t\t\t\t\treturn out.replace(cache, webkit + cache) + out.replace(cache, moz + cache.replace('fill-', '')) + out\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// transform, transition: t, r, a\n\t\t\tcase 962: {\n\t\t\t\tout = webkit + out + (out.charCodeAt(5) === 102 ? ms + out : '') + out\n\n\t\t\t\t// transitions\n\t\t\t\tif (second + third === 211 && out.charCodeAt(13) === 105 && out.indexOf('transform', 10) > 0) {\n\t\t\t\t\treturn out.substring(0, out.indexOf(';', 27) + 1).replace(transformptn, '$1' + webkit + '$2') + out\n\t\t\t\t}\n\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Vendor\n\t *\n\t * @param {string} content\n\t * @param {number} context\n\t * @return {boolean}\n\t */\n\tfunction vendor (content, context) {\n\t\tvar index = content.indexOf(context === 1 ? ':' : '{')\n\t\tvar key = content.substring(0, context !== 3 ? index : 10)\n\t\tvar value = content.substring(index + 1, content.length - 1)\n\n\t\treturn should(context !== 2 ? key : key.replace(pseudofmt, '$1'), value, context)\n\t}\n\n\t/**\n\t * Supports\n\t *\n\t * @param {string} match\n\t * @param {string} group\n\t * @return {string}\n\t */\n\tfunction supports (match, group) {\n\t\tvar out = property(group, group.charCodeAt(0), group.charCodeAt(1), group.charCodeAt(2))\n\n\t\treturn out !== group+';' ? out.replace(propertyptn, ' or ($1)').substring(4) : '('+group+')'\n\t}\n\n\t/**\n\t * Animation\n\t *\n\t * @param {string} input\n\t * @return {string}\n\t */\n\tfunction animation (input) {\n\t\tvar length = input.length\n\t\tvar index = input.indexOf(':', 9) + 1\n\t\tvar declare = input.substring(0, index).trim()\n\t\tvar out = input.substring(index, length-1).trim()\n\n\t\tswitch (input.charCodeAt(9)*keyed) {\n\t\t\tcase 0: {\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// animation-*, -\n\t\t\tcase DASH: {\n\t\t\t\t// animation-name, n\n\t\t\t\tif (input.charCodeAt(10) !== 110) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\t// animation/animation-name\n\t\t\tdefault: {\n\t\t\t\t// split in case of multiple animations\n\t\t\t\tvar list = out.split((out = '', animationptn))\n\n\t\t\t\tfor (var i = 0, index = 0, length = list.length; i < length; index = 0, ++i) {\n\t\t\t\t\tvar value = list[i]\n\t\t\t\t\tvar items = value.split(propertiesptn)\n\n\t\t\t\t\twhile (value = items[index]) {\n\t\t\t\t\t\tvar peak = value.charCodeAt(0)\n\n\t\t\t\t\t\tif (keyed === 1 && (\n\t\t\t\t\t\t\t// letters\n\t\t\t\t\t\t\t(peak > AT && peak < 90) || (peak > 96 && peak < 123) || peak === UNDERSCORE ||\n\t\t\t\t\t\t\t// dash but not in sequence i.e --\n\t\t\t\t\t\t\t(peak === DASH && value.charCodeAt(1) !== DASH)\n\t\t\t\t\t\t)) {\n\t\t\t\t\t\t\t// not a number/function\n\t\t\t\t\t\t\tswitch (isNaN(parseFloat(value)) + (value.indexOf('(') !== -1)) {\n\t\t\t\t\t\t\t\tcase 1: {\n\t\t\t\t\t\t\t\t\tswitch (value) {\n\t\t\t\t\t\t\t\t\t\t// not a valid reserved keyword\n\t\t\t\t\t\t\t\t\t\tcase 'infinite': case 'alternate': case 'backwards': case 'running':\n\t\t\t\t\t\t\t\t\t\tcase 'normal': case 'forwards': case 'both': case 'none': case 'linear':\n\t\t\t\t\t\t\t\t\t\tcase 'ease': case 'ease-in': case 'ease-out': case 'ease-in-out':\n\t\t\t\t\t\t\t\t\t\tcase 'paused': case 'reverse': case 'alternate-reverse': case 'inherit':\n\t\t\t\t\t\t\t\t\t\tcase 'initial': case 'unset': case 'step-start': case 'step-end': {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tvalue += key\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titems[index++] = value\n\t\t\t\t\t}\n\n\t\t\t\t\tout += (i === 0 ? '' : ',') + items.join(' ')\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tout = declare + out + ';'\n\n\t\tif (prefix === 1 || (prefix === 2 && vendor(out, 1)))\n\t\t\treturn webkit + out + out\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Isolate\n\t *\n\t * @param {Array<string>} current\n\t */\n\tfunction isolate (current) {\n\t\tfor (var i = 0, length = current.length, selector = Array(length), padding, element; i < length; ++i) {\n\t\t\t// split individual elements in a selector i.e h1 h2 === [h1, h2]\n\t\t\tvar elements = current[i].split(elementptn)\n\t\t\tvar out = ''\n\n\t\t\tfor (var j = 0, size = 0, tail = 0, code = 0, l = elements.length; j < l; ++j) {\n\t\t\t\t// empty element\n\t\t\t\tif ((size = (element = elements[j]).length) === 0 && l > 1) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\ttail = out.charCodeAt(out.length-1)\n\t\t\t\tcode = element.charCodeAt(0)\n\t\t\t\tpadding = ''\n\n\t\t\t\tif (j !== 0) {\n\t\t\t\t\t// determine if we need padding\n\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\tcase OPENPARENTHESES:  {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\tpadding = ' '\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tswitch (code) {\n\t\t\t\t\tcase AND: {\n\t\t\t\t\t\telement = padding + nscopealt\n\t\t\t\t\t}\n\t\t\t\t\tcase TILDE:\n\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\tcase PLUS:\n\t\t\t\t\tcase SPACE:\n\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\telement = padding + element + nscopealt\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\tswitch (element.charCodeAt(1)*2 + element.charCodeAt(2)*3) {\n\t\t\t\t\t\t\t// :global\n\t\t\t\t\t\t\tcase 530: {\n\t\t\t\t\t\t\t\tif (escape > 0) {\n\t\t\t\t\t\t\t\t\telement = padding + element.substring(8, size - 1)\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// :hover, :nth-child(), ...\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tif (j < 1 || elements[j-1].length < 1) {\n\t\t\t\t\t\t\t\t\telement = padding + nscopealt + element\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\tpadding = ''\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tif (size > 1 && element.indexOf(':') > 0) {\n\t\t\t\t\t\t\telement = padding + element.replace(pseudoptn, '$1' + nscopealt + '$2')\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement = padding + element + nscopealt\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tout += element\n\t\t\t}\n\n\t\t\tselector[i] = out.replace(formatptn, '').trim()\n\t\t}\n\n\t\treturn selector\n\t}\n\n\t/**\n\t * Proxy\n\t *\n\t * @param {number} context\n\t * @param {string} content\n\t * @param {Array<string>} selectors\n\t * @param {Array<string>} parents\n\t * @param {number} line\n\t * @param {number} column\n\t * @param {number} length\n\t * @param {number} id\n\t * @param {number} depth\n\t * @param {number} at\n\t * @return {(string|void|*)}\n\t */\n\tfunction proxy (context, content, selectors, parents, line, column, length, id, depth, at) {\n\t\tfor (var i = 0, out = content, next; i < plugged; ++i) {\n\t\t\tswitch (next = plugins[i].call(stylis, context, out, selectors, parents, line, column, length, id, depth, at)) {\n\t\t\t\tcase void 0:\n\t\t\t\tcase false:\n\t\t\t\tcase true:\n\t\t\t\tcase null: {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tout = next\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (out !== content) {\n\t\t  return out\n\t\t}\n\t}\n\n\t/**\n\t * @param {number} code\n\t * @param {number} index\n\t * @param {number} length\n\t * @param {string} body\n\t * @return {number}\n\t */\n\tfunction delimited (code, index, length, body) {\n\t\tfor (var i = index + 1; i < length; ++i) {\n\t\t\tswitch (body.charCodeAt(i)) {\n\t\t\t\t// /*\n\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\tif (code === STAR) {\n\t\t\t\t\t\tif (body.charCodeAt(i - 1) === STAR &&  index + 2 !== i) {\n\t\t\t\t\t\t\treturn i + 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// //\n\t\t\t\tcase NEWLINE: {\n\t\t\t\t\tif (code === FOWARDSLASH) {\n\t\t\t\t\t\treturn i + 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn i\n\t}\n\n\t/**\n\t * @param {number} type\n\t * @param {number} index\n\t * @param {number} length\n\t * @param {number} find\n\t * @param {string} body\n\t * @return {number}\n\t */\n\tfunction match (type, index, length, body) {\n\t\tfor (var i = index + 1; i < length; ++i) {\n\t\t\tswitch (body.charCodeAt(i)) {\n\t\t\t\tcase type: {\n\t\t\t\t\treturn i\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn i\n\t}\n\n\t/**\n\t * Minify\n\t *\n\t * @param {(string|*)} output\n\t * @return {string}\n\t */\n\tfunction minify (output) {\n\t\treturn output\n\t\t\t.replace(formatptn, '')\n\t\t\t.replace(beforeptn, '')\n\t\t\t.replace(afterptn, '$1')\n\t\t\t.replace(tailptn, '$1')\n\t\t\t.replace(whiteptn, ' ')\n\t}\n\n\t/**\n\t * Use\n\t *\n\t * @param {(Array<function(...?)>|function(...?)|number|void)?} plugin\n\t */\n\tfunction use (plugin) {\n\t\tswitch (plugin) {\n\t\t\tcase void 0:\n\t\t\tcase null: {\n\t\t\t\tplugged = plugins.length = 0\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tif (typeof plugin === 'function') {\n\t\t\t\t\tplugins[plugged++] = plugin\n\t\t\t\t}\telse if (typeof plugin === 'object') {\n\t\t\t\t\tfor (var i = 0, length = plugin.length; i < length; ++i) {\n\t\t\t\t\t\tuse(plugin[i])\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tunkwn = !!plugin|0\n\t\t\t\t}\n\t\t\t}\n \t\t}\n\n \t\treturn use\n\t}\n\n\t/**\n\t * Set\n\t *\n\t * @param {*} options\n\t */\n\tfunction set (options) {\n\t\tfor (var name in options) {\n\t\t\tvar value = options[name]\n\t\t\tswitch (name) {\n\t\t\t\tcase 'keyframe': keyed = value|0; break\n\t\t\t\tcase 'global': escape = value|0; break\n\t\t\t\tcase 'cascade': cascade = value|0; break\n\t\t\t\tcase 'compress': compress = value|0; break\n\t\t\t\tcase 'semicolon': semicolon = value|0; break\n\t\t\t\tcase 'preserve': preserve = value|0; break\n\t\t\t\tcase 'prefix':\n\t\t\t\t\tshould = null\n\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tprefix = 0\n\t\t\t\t\t} else if (typeof value !== 'function') {\n\t\t\t\t\t\tprefix = 1\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprefix = 2\n\t\t\t\t\t\tshould = value\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn set\n\t}\n\n\t/**\n\t * Stylis\n\t *\n\t * @param {string} selector\n\t * @param {string} input\n\t * @return {*}\n\t */\n\tfunction stylis (selector, input) {\n\t\tif (this !== void 0 && this.constructor === stylis) {\n\t\t\treturn factory(selector)\n\t\t}\n\n\t\t// setup\n\t\tvar ns = selector\n\t\tvar code = ns.charCodeAt(0)\n\n\t\t// trim leading whitespace\n\t\tif (code < 33) {\n\t\t\tcode = (ns = ns.trim()).charCodeAt(0)\n\t\t}\n\n\t\t// keyframe/animation namespace\n\t\tif (keyed > 0) {\n\t\t\tkey = ns.replace(invalidptn, code === OPENBRACKET ? '' : '-')\n\t\t}\n\n\t\t// reset, used to assert if a plugin is moneky-patching the return value\n\t\tcode = 1\n\n\t\t// cascade/isolate\n\t\tif (cascade === 1) {\n\t\t\tnscope = ns\n\t\t} else {\n\t\t\tnscopealt = ns\n\t\t}\n\n\t\tvar selectors = [nscope]\n\t\tvar result\n\n\t\t// execute plugins, pre-process context\n\t\tif (plugged > 0) {\n\t\t\tresult = proxy(PREPS, input, selectors, selectors, line, column, 0, 0, 0, 0)\n\n\t\t\tif (result !== void 0 && typeof result === 'string') {\n\t\t\t\tinput = result\n\t\t\t}\n\t\t}\n\n\t\t// build\n\t\tvar output = compile(array, selectors, input, 0, 0)\n\n\t\t// execute plugins, post-process context\n\t\tif (plugged > 0) {\n\t\t\tresult = proxy(POSTS, output, selectors, selectors, line, column, output.length, 0, 0, 0)\n\n\t\t\t// bypass minification\n\t\t\tif (result !== void 0 && typeof(output = result) !== 'string') {\n\t\t\t\tcode = 0\n\t\t\t}\n\t\t}\n\n\t\t// reset\n\t\tkey = ''\n\t\tnscope = ''\n\t\tnscopealt = ''\n\t\tpattern = 0\n\t\tline = 1\n\t\tcolumn = 1\n\n\t\treturn compress*code === 0 ? output : minify(output)\n\t}\n\n\tstylis['use'] = use\n\tstylis['set'] = set\n\n\tif (options !== void 0) {\n\t\tset(options)\n\t}\n\n\treturn stylis\n}));\n","\r\rimport stylis from 'stylis';\r// stylis minify CSS and add vendor prefixes\r\rexport function processStyle(key, rules) {\r\r  if (key) return stylis(`.${key}`, rules);\r\r  // Inline styles does not need the class selector\r  const out = stylis('', rules);\r  return out.substr(1, out.length - 2);\r\r\r}\r","\rimport { processStyle } from './processStyle';\r\rexport function getClasses(registerNumber, componentDefClasses = {}) {\r\r  const classKeys = Object.keys(componentDefClasses);\r  const mapping = {};\r\r  const rules = classKeys.reduce((acum, key) => {\r    const newClassName = `${key}--${registerNumber}`;\r    mapping[key] = newClassName;\r    return `${acum}${processStyle(newClassName, componentDefClasses[key])}`;\r  }, '');\r\r\r  return {\r    rules,\r    mapping,\r  };\r\r}\r\r","\rimport { processStyle } from './processStyle';\r\rexport function getStyles(componentStyles = {}) {\r\r  const styleKeys = Object.keys(componentStyles);\r\r  // Return only inlineStyles to be attached to the component\r  return styleKeys.reduce((acum, key) => {\r    const isFunction = typeof componentStyles[key] === 'function';\r    return {\r      ...acum,\r      [key]: isFunction\r        ? (...args) => processStyle(null, componentStyles[key](...args))\r        : processStyle(null, componentStyles[key]),\r    };\r  }, {});\r\r}\r","\r\rimport { registerStyles } from './registerStyles';\rimport { getClasses } from './getClasses';\rimport { getStyles } from './getStyles';\r\r\rexport default {\r\r  registerStyles,\r  getClasses,\r  getStyles,\r\r};\r","\r\rexport function getFinalProps(args) {\r\r  const {\r    client,\r    store,\r    componentDef,\r    classesMapping,\r    processedStyles,\r  } = args;\r\r  const {\r    state = () => ({}),\r    actions = () => ({}),\r  } = componentDef;\r\r  const classes = {\r    ...Object.keys(classesMapping).reduce((acum, key) => {\r      return { ...acum, [key]: classesMapping[key] };\r    }, {}),\r  };\r\r  const sections = {\r    ...Object.keys(componentDef.sections || {}).reduce((acum, key) => {\r      return {\r        ...acum,\r        [key]: componentDef.sections[key](client),\r      };\r    }, {}),\r  };\r\r  return (props = {}) => {\r\r    return {\r      props,\r      state: state(props, store),\r      actions: actions(props, store),\r      styles: processedStyles,\r      classes,\r      sections,\r    };\r\r  };\r\r}\r\r","\r\rexport function getStore(Store, registerNumber) {\r\r  return {\r    alerts: Store.objects.alerts,\r    check: Store.methods.check,\r    toggle: Store.methods.toggle,\r    measure: Store.utils.measure,\r    set: Store.methods.set,\r    setItem: Store.methods.setItem,\r    call: Store.process.call,\r    get: Store.methods.get(registerNumber),\r    db: Store.db ? Store.db.query : () => undefined,\r  };\r\r}\r\r","\rimport styles from '../../styles';\r\rimport { getFinalProps } from './getFinalProps';\rimport { getStore } from './getStore';\r\rexport default (Store, client) => componentDef => {\r\r  const registerNumber = Store.methods.registerComponent(componentDef);\r  const processedClasses = styles.getClasses(registerNumber, componentDef.classes);\r  // Provoque Side Effect for classes styles\r  styles.registerStyles(registerNumber, processedClasses.rules);\r\r  const store = getStore(Store, registerNumber);\r  const processedStyles = styles.getStyles(componentDef.styles);\r\r  const solveProps = getFinalProps({\r    client,\r    store,\r    componentDef,\r    classesMapping: processedClasses.mapping || {},\r    processedStyles,\r  });\r\r\r  return function renderComponent(props, children) {\r\r\r    // Called on inital render and every update\r    const render = () => {\r      const finalProps = solveProps(props);\r      const rendered = componentDef.render(finalProps, children);\r      return rendered;\r    };\r\r    // console.log('-------------------', component);\r    const rendered = render();\r\r    return rendered;\r\r  };\r\r};\r","\r\rimport createCustomHoc from './custom/create';\r\rexport function createHoc(Store, client) {\r\r  return createCustomHoc(Store, client);\r\r}\r\r","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<any, Boolean>();\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive so that lit-html will call the function\n * during template rendering, rather than passing as a value.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object\n *\n * @example\n *\n * ```\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n * ```\n */\nexport const directive = <F extends Function>(f: F): F =>\n    ((...args: any[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as unknown as F;\n\nexport const isDirective = (o: any) =>\n    typeof o === 'function' && directives.has(o);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as any).polyfillWrapFlushCallback !== undefined;\n\n/**\n * Reparents nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), into another container (could be the same container), before\n * `beforeNode`. If `beforeNode` is null, it appends the nodes to the\n * container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      let node = start;\n      while (node !== end) {\n        const n = node!.nextSibling;\n        container.insertBefore(node!, before as Node);\n        node = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), from `container`.\n */\nexport const removeNodes =\n    (container: Node, startNode: Node|null, endNode: Node|null = null):\n        void => {\n          let node = startNode;\n          while (node !== endNode) {\n            const n = node!.nextSibling;\n            container.removeChild(node!);\n            node = n;\n          }\n        };\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\n/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  value: any;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: any): void;\n\n  /**\n   * Commits the current part value, cause it to actually be written to the DOM.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  parts: TemplatePart[] = [];\n  element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n    let index = -1;\n    let partIndex = 0;\n    const nodesToRemove: Node[] = [];\n    const _prepareTemplate = (template: HTMLTemplateElement) => {\n      const content = template.content;\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          content,\n          133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n          null as any,\n          false);\n      // Keeps track of the last index associated with a part. We try to delete\n      // unnecessary nodes, but we never want to associate two different parts\n      // to the same index. They must have a constant node between.\n      let lastPartIndex = 0;\n      while (walker.nextNode()) {\n        index++;\n        const node = walker.currentNode as Element | Comment | Text;\n        if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n          if ((node as Element).hasAttributes()) {\n            const attributes = (node as Element).attributes;\n            // Per\n            // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n            // attributes are not guaranteed to be returned in document order.\n            // In particular, Edge/IE can return them out of order, so we cannot\n            // assume a correspondance between part index and attribute index.\n            let count = 0;\n            for (let i = 0; i < attributes.length; i++) {\n              if (attributes[i].value.indexOf(marker) >= 0) {\n                count++;\n              }\n            }\n            while (count-- > 0) {\n              // Get the template literal section leading up to the first\n              // expression in this attribute\n              const stringForPart = result.strings[partIndex];\n              // Find the attribute name\n              const name = lastAttributeNameRegex.exec(stringForPart)![2];\n              // Find the corresponding attribute\n              // All bound attributes have had a suffix added in\n              // TemplateResult#getHTML to opt out of special attribute\n              // handling. To look up the attribute value we also need to add\n              // the suffix.\n              const attributeLookupName =\n                  name.toLowerCase() + boundAttributeSuffix;\n              const attributeValue =\n                  (node as Element).getAttribute(attributeLookupName)!;\n              const strings = attributeValue.split(markerRegex);\n              this.parts.push({type: 'attribute', index, name, strings});\n              (node as Element).removeAttribute(attributeLookupName);\n              partIndex += strings.length - 1;\n            }\n          }\n          if ((node as Element).tagName === 'TEMPLATE') {\n            _prepareTemplate(node as HTMLTemplateElement);\n          }\n        } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n          const data = (node as Text).data!;\n          if (data.indexOf(marker) >= 0) {\n            const parent = node.parentNode!;\n            const strings = data.split(markerRegex);\n            const lastIndex = strings.length - 1;\n            // Generate a new text node for each literal section\n            // These nodes are also used as the markers for node parts\n            for (let i = 0; i < lastIndex; i++) {\n              parent.insertBefore(\n                  (strings[i] === '') ? createMarker() :\n                                        document.createTextNode(strings[i]),\n                  node);\n              this.parts.push({type: 'node', index: ++index});\n            }\n            // If there's no text, we must insert a comment to mark our place.\n            // Else, we can trust it will stick around after cloning.\n            if (strings[lastIndex] === '') {\n              parent.insertBefore(createMarker(), node);\n              nodesToRemove.push(node);\n            } else {\n              (node as Text).data = strings[lastIndex];\n            }\n            // We have a part for each match found\n            partIndex += lastIndex;\n          }\n        } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n          if ((node as Comment).data === marker) {\n            const parent = node.parentNode!;\n            // Add a new marker node to be the startNode of the Part if any of\n            // the following are true:\n            //  * We don't have a previousSibling\n            //  * The previousSibling is already the start of a previous part\n            if (node.previousSibling === null || index === lastPartIndex) {\n              index++;\n              parent.insertBefore(createMarker(), node);\n            }\n            lastPartIndex = index;\n            this.parts.push({type: 'node', index});\n            // If we don't have a nextSibling, keep this node so we have an end.\n            // Else, we can remove it to save future costs.\n            if (node.nextSibling === null) {\n              (node as Comment).data = '';\n            } else {\n              nodesToRemove.push(node);\n              index--;\n            }\n            partIndex++;\n          } else {\n            let i = -1;\n            while ((i = (node as Comment).data!.indexOf(marker, i + 1)) !==\n                   -1) {\n              // Comment node has a binding marker inside, make an inactive part\n              // The binding won't work, but subsequent bindings will\n              // TODO (justinfagnani): consider whether it's even worth it to\n              // make bindings in comments work\n              this.parts.push({type: 'node', index: -1});\n            }\n          }\n        }\n      }\n    };\n    _prepareTemplate(element);\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  type: 'node',\n  index: number\n}|{type: 'attribute', index: number, name: string, strings: string[]};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#attributes-0\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-character\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \\x09\\x0a\\x0c\\x0d\"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  _parts: Array<Part|undefined> = [];\n  processor: TemplateProcessor;\n  options: RenderOptions;\n  template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: any[]) {\n    let i = 0;\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // When using the Custom Elements polyfill, clone the node, rather than\n    // importing it, to keep the fragment in the template's document. This\n    // leaves the fragment inert so custom elements won't upgrade and\n    // potentially modify their contents by creating a polyfilled ShadowRoot\n    // while we traverse the tree.\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const parts = this.template.parts;\n    let partIndex = 0;\n    let nodeIndex = 0;\n    const _prepareInstance = (fragment: DocumentFragment) => {\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          fragment,\n          133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n          null as any,\n          false);\n      let node = walker.nextNode();\n      // Loop through all the nodes and parts of a template\n      while (partIndex < parts.length && node !== null) {\n        const part = parts[partIndex];\n        // Consecutive Parts may have the same node index, in the case of\n        // multiple bound attributes on an element. So each iteration we either\n        // increment the nodeIndex, if we aren't on a node with a part, or the\n        // partIndex if we are. By not incrementing the nodeIndex when we find a\n        // part, we allow for the next part to be associated with the current\n        // node if neccessasry.\n        if (!isTemplatePartActive(part)) {\n          this._parts.push(undefined);\n          partIndex++;\n        } else if (nodeIndex === part.index) {\n          if (part.type === 'node') {\n            const part = this.processor.handleTextExpression(this.options);\n            part.insertAfterNode(node.previousSibling!);\n            this._parts.push(part);\n          } else {\n            this._parts.push(...this.processor.handleAttributeExpressions(\n                node as Element, part.name, part.strings, this.options));\n          }\n          partIndex++;\n        } else {\n          nodeIndex++;\n          if (node.nodeName === 'TEMPLATE') {\n            _prepareInstance((node as HTMLTemplateElement).content);\n          }\n          node = walker.nextNode();\n        }\n      }\n    };\n    _prepareInstance(fragment);\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  strings: TemplateStringsArray;\n  values: any[];\n  type: string;\n  processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: any[], type: string,\n      processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const endIndex = this.strings.length - 1;\n    let html = '';\n    for (let i = 0; i < endIndex; i++) {\n      const s = this.strings[i];\n      // This exec() call does two things:\n      // 1) Appends a suffix to the bound attribute name to opt out of special\n      // attribute value parsing that IE11 and Edge do, like for style and\n      // many SVG attributes. The Template class also appends the same suffix\n      // when looking up attributes to create Parts.\n      // 2) Adds an unquoted-attribute-safe marker for the first expression in\n      // an attribute. Subsequent attribute expressions will use node markers,\n      // and this is safe since attributes with multiple expressions are\n      // guaranteed to be quoted.\n      const match = lastAttributeNameRegex.exec(s);\n      if (match) {\n        // We're starting a new bound attribute.\n        // Add the safe attribute suffix, and use unquoted-attribute-safe\n        // marker.\n        html += s.substr(0, match.index) + match[1] + match[2] +\n            boundAttributeSuffix + match[3] + marker;\n      } else {\n        // We're either in a bound node, or trailing bound attribute.\n        // Either way, nodeMarker is safe to use.\n        html += s + nodeMarker;\n      }\n    }\n    return html + this.strings[endIndex];\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTMl in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, nothing, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\nexport const isPrimitive = (value: any) =>\n    (value === null ||\n     !(typeof value === 'object' || typeof value === 'function'));\n\n/**\n * Sets attribute values for AttributeParts, so that the value is only set once\n * even if there are multiple parts for an attribute.\n */\nexport class AttributeCommitter {\n  element: Element;\n  name: string;\n  strings: string[];\n  parts: AttributePart[];\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      this.parts[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): any {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (v != null &&\n            (Array.isArray(v) || typeof v !== 'string' && v[Symbol.iterator])) {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        } else {\n          text += typeof v === 'string' ? v : String(v);\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue());\n    }\n  }\n}\n\nexport class AttributePart implements Part {\n  committer: AttributeCommitter;\n  value: any = undefined;\n\n  constructor(comitter: AttributeCommitter) {\n    this.committer = comitter;\n  }\n\n  setValue(value: any): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\nexport class NodePart implements Part {\n  options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Inserts this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part between `ref` and `ref`'s next sibling. Both `ref` and\n   * its next sibling must be static, unchanging nodes such as those that appear\n   * in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part._insert(this.startNode = createMarker());\n    part._insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Appends this part after `ref`\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref._insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    const value = this._pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this._commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this._commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this._commitNode(value);\n    } else if (Array.isArray(value) || value[Symbol.iterator]) {\n      this._commitIterable(value);\n    } else if (value === nothing) {\n      this.value = nothing;\n      this.clear();\n    } else {\n      // Fallback, will render the string representation\n      this._commitText(value);\n    }\n  }\n\n  private _insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private _commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this._insert(value);\n    this.value = value;\n  }\n\n  private _commitText(value: string): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === 3 /* Node.TEXT_NODE */) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      (node as Text).data = value;\n    } else {\n      this._commitNode(document.createTextNode(\n          typeof value === 'string' ? value : String(value)));\n    }\n    this.value = value;\n  }\n\n  private _commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value && this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this._commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private _commitIterable(value: any): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart!.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  element: Element;\n  name: string;\n  strings: string[];\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n    const value = !!this._pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n    }\n    this.value = value;\n    this._pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  single: boolean;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  window.addEventListener('test', options as any, options);\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\nexport class EventPart implements Part {\n  element: Element;\n  eventName: string;\n  eventContext?: EventTarget;\n  value: any = undefined;\n  _options?: AddEventListenerOptions;\n  _pendingValue: any = undefined;\n  _boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this._boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this._pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    if (shouldAddListener) {\n      this._options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    this.value = newListener;\n    this._pendingValue = noChange;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      this.value.handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: any) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): Part[] {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const comitter = new PropertyCommitter(element, name.slice(1), strings);\n      return comitter.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const comitter = new AttributeCommitter(element, name, strings);\n    return comitter.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  stringsArray: WeakMap<TemplateStringsArray, Template>;\n  keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\nimport {TemplateResult} from './template-result.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, nothing, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: any[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: any[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {directive, Part} from '../lit-html.js';\n\nconst previousValues = new WeakMap<Part, unknown>();\n\n/**\n * Prevents re-render of a template function until a single value or an array of\n * values changes.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([user.id, company.id], () => html`...`)}\n *   </div>\n * ```\n *\n * In this case, the template only renders if either `user.id` or `company.id`\n * changes.\n *\n * guard() is useful with immutable data patterns, by preventing expensive work\n * until data updates.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([immutableItems], () => immutableItems.map(i => html`${i}`))}\n *   </div>\n * ```\n *\n * In this case, items are mapped over only when the array reference changes.\n *\n * @param value the value to check before re-rendering\n * @param f the template function\n */\nexport const guard =\n    directive((value: unknown, f: () => unknown) => (part: Part): void => {\n      const previousValue = previousValues.get(part);\n      if (Array.isArray(value)) {\n        // Dirty-check arrays by item\n        if (Array.isArray(previousValue) &&\n            previousValue.length === value.length &&\n            value.every((v, i) => v === previousValue[i])) {\n          return;\n        }\n      } else if (\n          previousValue === value &&\n          (value !== undefined || previousValues.has(part))) {\n        // Dirty-check non-arrays by identity\n        return;\n      }\n\n      part.setValue(f());\n      // Copy the value if it's an array so that if it's mutated we don't forget\n      // what the previous values were.\n      previousValues.set(\n          part, Array.isArray(value) ? Array.from(value) : value);\n    });\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {DirectiveFn} from '../lib/directive.js';\nimport {createMarker, directive, NodePart, Part, removeNodes, reparentNodes} from '../lit-html.js';\n\nexport type KeyFn<T> = (item: T, index: number) => any;\nexport type ItemTemplate<T> = (item: T, index: number) => any;\n\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart =\n    (containerPart: NodePart, beforePart?: NodePart): NodePart => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = beforePart === undefined ? containerPart.endNode :\n                                                    beforePart.startNode;\n      const startNode = container.insertBefore(createMarker(), beforeNode);\n      container.insertBefore(createMarker(), beforeNode);\n      const newPart = new NodePart(containerPart.options);\n      newPart.insertAfterNode(startNode);\n      return newPart;\n    };\n\nconst updatePart = (part: NodePart, value: unknown) => {\n  part.setValue(value);\n  part.commit();\n  return part;\n};\n\nconst insertPartBefore =\n    (containerPart: NodePart, part: NodePart, ref?: NodePart) => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = ref ? ref.startNode : containerPart.endNode;\n      const endNode = part.endNode.nextSibling;\n      if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n      }\n    };\n\nconst removePart = (part: NodePart) => {\n  removeNodes(\n      part.startNode.parentNode!, part.startNode, part.endNode.nextSibling);\n};\n\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list: unknown[], start: number, end: number) => {\n  const map = new Map();\n  for (let i = start; i <= end; i++) {\n    map.set(list[i], i);\n  }\n  return map;\n};\n\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap<NodePart, (NodePart | null)[]>();\nconst keyListCache = new WeakMap<NodePart, unknown[]>();\n\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * amd removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat = directive(\n    <T>(items: Iterable<T>,\n        keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n        template?: ItemTemplate<T>): DirectiveFn => {\n      let keyFn: KeyFn<T>;\n      if (template === undefined) {\n        template = keyFnOrTemplate;\n      } else if (keyFnOrTemplate !== undefined) {\n        keyFn = keyFnOrTemplate as KeyFn<T>;\n      }\n\n      return (containerPart: Part): void => {\n        if (!(containerPart instanceof NodePart)) {\n          throw new Error('repeat can only be used in text bindings');\n        }\n        // Old part & key lists are retrieved from the last update (associated\n        // with the part for this instance of the directive)\n        const oldParts = partListCache.get(containerPart) || [];\n        const oldKeys = keyListCache.get(containerPart) || [];\n\n        // New part list will be built up as we go (either reused from old parts\n        // or created for new keys in this update). This is saved in the above\n        // cache at the end of the update.\n        const newParts: NodePart[] = [];\n\n        // New value list is eagerly generated from items along with a parallel\n        // array indicating its key.\n        const newValues: unknown[] = [];\n        const newKeys: unknown[] = [];\n        let index = 0;\n        for (const item of items) {\n          newKeys[index] = keyFn ? keyFn(item, index) : index;\n          newValues[index] = template !(item, index);\n          index++;\n        }\n\n        // Maps from key to index for current and previous update; these are\n        // generated lazily only when needed as a performance optimization,\n        // since they are only required for multiple non-contiguous changes in\n        // the list, which are less common.\n        let newKeyToIndexMap!: Map<unknown, number>;\n        let oldKeyToIndexMap!: Map<unknown, number>;\n\n        // Head and tail pointers to old parts and new values\n        let oldHead = 0;\n        let oldTail = oldParts.length - 1;\n        let newHead = 0;\n        let newTail = newValues.length - 1;\n\n        // Overview of O(n) reconciliation algorithm (general approach based on\n        // ideas found in ivi, vue, snabbdom, etc.):\n        //\n        // * We start with the list of old parts and new values (and arrays of\n        //   their respective keys), head/tail pointers into each, and we build\n        //   up the new list of parts by updating (and when needed, moving) old\n        //   parts or creating new ones. The initial scenario might look like\n        //   this (for brevity of the diagrams, the numbers in the array reflect\n        //   keys associated with the old parts or new values, although keys and\n        //   parts/values are actually stored in parallel arrays indexed using\n        //   the same head/tail pointers):\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new item\n        //   order\n        //      newHead ^                 ^ newTail\n        //\n        // * Iterate old & new lists from both sides, updating, swapping, or\n        //   removing parts at the head/tail locations until neither head nor\n        //   tail can move.\n        //\n        // * Example below: keys at head pointers match, so update old part 0\n        // in-\n        //   place (no need to move it) and record part 0 in the `newParts`\n        //   list. The last thing we do is advance the `oldHead` and `newHead`\n        //   pointers (will be reflected in the next diagram).\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance both oldHead & newHead\n        //      newHead ^                 ^ newTail\n        //\n        // * Example below: head pointers don't match, but tail pointers do, so\n        //   update part 6 in place (no need to move it), and record part 6 in\n        //   the `newParts` list. Last, advance the `oldTail` and `oldHead`\n        //   pointers.\n        //\n        //         oldHead v              v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance both oldTail & newTail\n        //         newHead ^              ^ newTail\n        //\n        // * If neither head nor tail match; next check if one of the old\n        // head/tail\n        //   items was removed. We first need to generate the reverse map of new\n        //   keys to index (`newKeyToIndexMap`), which is done once lazily as a\n        //   performance optimization, since we only hit this case if multiple\n        //   non-contiguous changes were made. Note that for contiguous removal\n        //   anywhere in the list, the head and tails would advance from either\n        //   end and pass each other before we get to this case and removals\n        //   would be handled in the final while loop without needing to\n        //   generate the map.\n        //\n        // * Example below: The key at `oldTail` was removed (no longer in the\n        //   `newKeyToIndexMap`), so remove that part from the DOM and advance\n        //   just the `oldTail` pointer.\n        //\n        //         oldHead v           v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map; remove 5 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance oldTail\n        //         newHead ^           ^ newTail\n        //\n        // * Once head and tail cannot move, any mismatches are due to either\n        // new or\n        //   moved items; if a new key is in the previous \"old key to old index\"\n        //   map, move the old part to the new location, otherwise create and\n        //   insert a new part. Note that when moving an old part we null its\n        //   position in the oldParts array if it lies between the head and tail\n        //   so we know to skip it when the pointers get there.\n        //\n        // * Example below: neither head nor tail match, and neither were\n        // removed;\n        //   so find the `newHead` key in the `oldKeyToIndexMap`, and move that\n        //   old part's DOM into the next head position (before\n        //   `oldParts[oldHead]`). Last, null the part in the `oldPart` array\n        //   since it was somewhere in the remaining oldParts still to be\n        //   scanned (between the head and tail pointers) so that we know to\n        //   skip that old part on future iterations.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck; update & move 2 into\n        //   place newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance newHead\n        //         newHead ^           ^ newTail\n        //\n        // * Note that for moves/insertions like the one above, a part inserted\n        // at\n        //   the head pointer is inserted before the current\n        //   `oldParts[oldHead]`, and a part inserted at the tail pointer is\n        //   inserted before `newParts[newTail+1]`. The seeming asymmetry lies\n        //   in the fact that new parts are moved into place outside in, so to\n        //   the right of the head pointer are old parts, and to the right of\n        //   the tail pointer are new parts.\n        //\n        // * We always restart back from the top of the algorithm, allowing\n        // matching\n        //   and simple updates in place to continue...\n        //\n        // * Example below: the head pointers once again match, so simply update\n        //   part 1 and record it in the `newParts` array.  Last, advance both\n        //   head pointers.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched; update 1 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance both oldHead & newHead\n        //            newHead ^        ^ newTail\n        //\n        // * As mentioned above, items that were moved as a result of being\n        // stuck\n        //   (the final else clause in the code below) are marked with null, so\n        //   we always advance old pointers over these so we're comparing the\n        //   next actual old value on either end.\n        //\n        // * Example below: `oldHead` is null (already placed in newParts), so\n        //   advance `oldHead`.\n        //\n        //            oldHead v     v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] // old head already used; advance\n        //   newParts: [0, 2, 1,  ,  ,  , 6] // oldHead\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //               newHead ^     ^ newTail\n        //\n        // * Note it's not critical to mark old parts as null when they are\n        // moved\n        //   from head to tail or tail to head, since they will be outside the\n        //   pointer range and never visited again.\n        //\n        // * Example below: Here the old tail key matches the new head key, so\n        //   the part at the `oldTail` position and move its DOM to the new\n        //   head position (before `oldParts[oldHead]`). Last, advance `oldTail`\n        //   and `newHead` pointers.\n        //\n        //               oldHead v  v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new head:\n        //   update newKeys:  [0, 2, 1, 4, 3, 7, 6]   & move 4, advance oldTail\n        //   & newHead\n        //               newHead ^     ^ newTail\n        //\n        // * Example below: Old and new head keys match, so update the old head\n        //   part in place, and advance the `oldHead` and `newHead` pointers.\n        //\n        //               oldHead v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3 and\n        //   advance newKeys:  [0, 2, 1, 4, 3, 7, 6]    oldHead & newHead\n        //                  newHead ^  ^ newTail\n        //\n        // * Once the new or old pointers move past each other then all we have\n        //   left is additions (if old list exhausted) or removals (if new list\n        //   exhausted). Those are handled in the final while loops at the end.\n        //\n        // * Example below: `oldHead` exceeded `oldTail`, so we're done with the\n        //   main loop.  Create the remaining part and insert it at the new head\n        //   position, and the update is complete.\n        //\n        //                   (oldHead > oldTail)\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //                     newHead ^ newTail\n        //\n        // * Note that the order of the if/else clauses is not important to the\n        //   algorithm, as long as the null checks come first (to ensure we're\n        //   always working on valid old parts) and that the final else clause\n        //   comes last (since that's where the expensive moves occur). The\n        //   order of remaining clauses is is just a simple guess at which cases\n        //   will be most common.\n        //\n        // * TODO(kschaaf) Note, we could calculate the longest increasing\n        //   subsequence (LIS) of old items in new position, and only move those\n        //   not in the LIS set. However that costs O(nlogn) time and adds a bit\n        //   more code, and only helps make rare types of mutations require\n        //   fewer moves. The above handles removes, adds, reversal, swaps, and\n        //   single moves of contiguous items in linear time, in the minimum\n        //   number of moves. As the number of multiple moves where LIS might\n        //   help approaches a random shuffle, the LIS optimization becomes less\n        //   helpful, so it seems not worth the code at this point. Could\n        //   reconsider if a compelling case arises.\n\n        while (oldHead <= oldTail && newHead <= newTail) {\n          if (oldParts[oldHead] === null) {\n            // `null` means old part at head has already been used below; skip\n            oldHead++;\n          } else if (oldParts[oldTail] === null) {\n            // `null` means old part at tail has already been used below; skip\n            oldTail--;\n          } else if (oldKeys[oldHead] === newKeys[newHead]) {\n            // Old head matches new head; update in place\n            newParts[newHead] =\n                updatePart(oldParts[oldHead]!, newValues[newHead]);\n            oldHead++;\n            newHead++;\n          } else if (oldKeys[oldTail] === newKeys[newTail]) {\n            // Old tail matches new tail; update in place\n            newParts[newTail] =\n                updatePart(oldParts[oldTail]!, newValues[newTail]);\n            oldTail--;\n            newTail--;\n          } else if (oldKeys[oldHead] === newKeys[newTail]) {\n            // Old head matches new tail; update and move to new tail\n            newParts[newTail] =\n                updatePart(oldParts[oldHead]!, newValues[newTail]);\n            insertPartBefore(\n                containerPart, oldParts[oldHead]!, newParts[newTail + 1]);\n            oldHead++;\n            newTail--;\n          } else if (oldKeys[oldTail] === newKeys[newHead]) {\n            // Old tail matches new head; update and move to new head\n            newParts[newHead] =\n                updatePart(oldParts[oldTail]!, newValues[newHead]);\n            insertPartBefore(\n                containerPart, oldParts[oldTail]!, oldParts[oldHead]!);\n            oldTail--;\n            newHead++;\n          } else {\n            if (newKeyToIndexMap === undefined) {\n              // Lazily generate key-to-index maps, used for removals & moves\n              // below\n              newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n              oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n            }\n            if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n              // Old head is no longer in new list; remove\n              removePart(oldParts[oldHead]!);\n              oldHead++;\n            } else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n              // Old tail is no longer in new list; remove\n              removePart(oldParts[oldTail]!);\n              oldTail--;\n            } else {\n              // Any mismatches at this point are due to additions or moves; see\n              // if we have an old part we can reuse and move into place\n              const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n              const oldPart =\n                  oldIndex !== undefined ? oldParts[oldIndex] : null;\n              if (oldPart === null) {\n                // No old part for this value; create a new one and insert it\n                const newPart =\n                    createAndInsertPart(containerPart, oldParts[oldHead]!);\n                updatePart(newPart, newValues[newHead]);\n                newParts[newHead] = newPart;\n              } else {\n                // Reuse old part\n                newParts[newHead] = updatePart(oldPart, newValues[newHead]);\n                insertPartBefore(containerPart, oldPart, oldParts[oldHead]!);\n                // This marks the old part as having been used, so that it will\n                // be skipped in the first two checks above\n                oldParts[oldIndex as number] = null;\n              }\n              newHead++;\n            }\n          }\n        }\n        // Add parts for any remaining new values\n        while (newHead <= newTail) {\n          // For all remaining additions, we insert before last new tail,\n          // since old pointers are no longer valid\n          const newPart =\n              createAndInsertPart(containerPart, newParts[newTail + 1]!);\n          updatePart(newPart, newValues[newHead]);\n          newParts[newHead++] = newPart;\n        }\n        // Remove any remaining unused old parts\n        while (oldHead <= oldTail) {\n          const oldPart = oldParts[oldHead++];\n          if (oldPart !== null) {\n            removePart(oldPart);\n          }\n        }\n        // Save order of new parts for next round\n        partListCache.set(containerPart, newParts);\n        keyListCache.set(containerPart, newKeys);\n      };\n    });\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isPrimitive} from '../lib/parts.js';\nimport {directive, NodePart, Part} from '../lit-html.js';\n\ninterface PreviousValue {\n  value: any;\n  fragment: DocumentFragment;\n}\n\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues = new WeakMap<NodePart, PreviousValue>();\n\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nexport const unsafeHTML = directive((value: any) => (part: Part): void => {\n  if (!(part instanceof NodePart)) {\n    throw new Error('unsafeHTML can only be used in text bindings');\n  }\n\n  const previousValue = previousValues.get(part);\n\n  if (previousValue !== undefined && isPrimitive(value) &&\n      value === previousValue.value && part.value === previousValue.fragment) {\n    return;\n  }\n\n  const template = document.createElement('template');\n  template.innerHTML = value;\n  const fragment = document.importNode(template.content, true);\n  part.setValue(fragment);\n  previousValues.set(part, {value, fragment});\n});\n","\nimport { createHoc } from './hoc/createHoc';\n\nimport { html as htmlFn, render } from 'lit-html';\nimport { guard } from 'lit-html/directives/guard.js';\nimport { repeat} from 'lit-html/directives/repeat.js';\nimport { unsafeHTML} from 'lit-html/directives/unsafe-html.js';\n\nconst html = htmlFn;\nhtml.guard = guard;\nhtml.repeat = repeat;\nhtml.unsafeHTML = unsafeHTML;\n\nexport {\n  html,\n  render,\n  createHoc,\n};\n\n","\nimport { html, createHoc } from './ui';\n\nexport function createClient(args) {\n\n  const {\n    Store,\n    lib,\n    components,\n    fragments,\n  } = args;\n\n  // Initialization\n  const client = {\n    html,\n    ui: {},\n  };\n\n  // Store is necessary to create the HOC\n  client.hoc = createHoc(Store, client);\n\n  // Attach lib for convenience\n  client.lib = lib;\n\n  // Components will be available to fragments and pages\n  client.ui.components = Object.keys(components).reduce((acum, key) => {\n    return {\n      ...acum,\n      [key]: components[key](client),\n    };\n  }, {});\n\n  // Fragments will be available to pages\n  client.ui.fragments = Object.keys(fragments).reduce((acum, key) => {\n    return {\n      ...acum,\n      [key]: fragments[key](client),\n    };\n  }, {});\n\n  return client;\n\n}\n\n","\nimport createStore from './store';\nimport { createClient } from './createClient';\nimport { render } from './ui';\nimport globals from './globals';\n\nconst isProduction = process.env.NODE_ENV === 'production';\n\nexport const client = {\n\n  init: args => {\n\n    const {\n      store,\n      lib,\n      rootComponent,\n      components = {},\n      fragments = {},\n    } = args;\n\n    const Store = createStore(store, render);\n    if (!isProduction) window.Store = Store;\n\n    const _client = createClient({\n      Store,\n      lib,\n      components,\n      fragments,\n    });\n\n    window.onload = () => {\n      Store.methods.startApp({\n        appData: window[globals.WINDOW_APP_DATA],\n        rootComponent: rootComponent(_client),\n      });\n    };\n\n    return _client;\n\n  },\n\n};\n\n","\nimport config from '../config.js';\n\nlet client;\nconst isProduction = process.env.NODE_ENV === 'production';\n\nif (isProduction) {\n  client = window.jmaguirrei_client.init(config.client);\n} else {\n  client = require('@jmaguirrei/client').default.init(config.client);\n}\n\nexport default client;\n"]}