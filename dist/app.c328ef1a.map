{"version":3,"sources":["../../../../../libs/ui/src/styles/registerStyles.js","../../../../../libs/ui/node_modules/stylis/stylis.js","../../../../../libs/ui/src/styles/processStyle.js","../../../../../libs/ui/src/styles/getClasses.js","../../../../../libs/ui/src/styles/getStyles.js","../../../../../libs/ui/src/styles/index.js","../../../../../libs/ui/src/hoc/custom/getFinalProps.js","../../../../../libs/ui/src/hoc/custom/getStore.js","../../../../../libs/ui/src/hoc/custom/create.js","../../../../../libs/ui/src/hoc/createHoc.js","../../../../../libs/ui/src/lit-html-server/index.js","../src/lib/directive.ts","../src/lib/dom.ts","../src/lib/part.ts","../src/lib/template.ts","../src/lib/template-instance.ts","../src/lib/template-result.ts","../src/lib/parts.ts","../src/lib/default-template-processor.ts","../src/lib/template-factory.ts","../src/lib/render.ts","src/lit-html.ts","../src/directives/repeat.ts","../src/directives/guard.ts","../src/directives/unsafe-html.ts","../../../../../libs/ui/src/index.js","../../../../../libs/store/src/methods/get.js","../../../../../libs/store/src/methods/subscribe.js","../../../../../libs/store/src/methods/set.js","../../../../../libs/store/src/methods/setItem.js","../../../../../libs/store/src/methods/toggle.js","../../../../../libs/store/src/methods/notify.js","../../../../../libs/store/src/methods/compute.js","../../../../../libs/store/src/methods/computeAll.js","../../../../../libs/store/src/methods/emit.js","../../../../../libs/store/src/methods/registerComponent.js","../../../../../libs/store/src/methods/on.js","../../../../../libs/store/src/methods/once.js","../../../../../libs/store/src/methods/render.js","../../../../../libs/store/src/methods/check.js","../../../../../libs/store/src/methods/alertOn.js","../../../../../libs/store/src/methods/alertOff.js","../../../../../libs/store/src/methods/callServerMethod.js","../../../../../libs/store/src/db/getDataFromServer.js","../../../../../libs/store/src/db/syncDataToDB.js","../../../../../libs/store/src/db/getDBMetadata.js","../../../../../libs/store/src/db/updateDBControl.js","../../../../../libs/store/src/db/getModelData.js","../../../../../libs/store/src/db/start.js","../../../../../libs/store/src/db/hydrate.js","../../../../../libs/store/src/db/query.js","../../../../../libs/store/src/db/index.js","../../../../../libs/store/src/sockets/initSocket.js","../../../../../libs/store/src/sockets/onMessage.js","../../../../../libs/store/src/sockets/index.js","../../../../../../../../../../usr/local/lib/node_modules/parcel/node_modules/process/browser.js","../../../../../libs/store/src/lifecycle/connectStoreToServer.js","../../../../../libs/store/src/methods/startApp.js","../../../../../libs/store/src/methods/index.js","../../../../../libs/store/src/queue/addToQueue.js","../../../../../libs/store/src/queue/createProcesses.js","../../../../../libs/store/src/queue/processOptimistic.js","../../../../../libs/store/src/queue/processStep.js","../../../../../libs/store/src/queue/processor.js","../../../../../libs/store/src/queue/runTask.js","../../../../../libs/store/src/queue/index.js","../../../../../libs/store/src/lifecycle/createStore.js","../../../../../libs/store/src/index.js","../../src/module/store/actions/changeRoute.js","../../../../../libs/belt/src/compact.js","../../../../../libs/belt/src/get.js","../../../../../libs/belt/src/has.js","../../../../../libs/belt/src/last.js","../../../../../libs/belt/src/omit.js","../../../../../libs/belt/src/pick.js","../../../../../libs/belt/src/random.js","../../../../../libs/belt/src/range.js","../../../../../libs/belt/src/sample.js","../../../../../libs/belt/src/uid.js","../../../../../libs/belt/src/uniq.js","../../../../../libs/belt/src/index.js","../../src/module/store/actions/signupEmail.js","../../src/module/store/actions/signupPassword.js","../../src/module/store/actions/signupToken.js","../../src/module/store/actions/signinEmail.js","../../src/module/store/actions/signinPassword.js","../../src/module/store/actions/forgotEmail.js","../../src/module/store/actions/forgotPassword.js","../../src/module/store/actions/forgotToken.js","../../src/module/store/actions/index.js","../../src/module/store/checks/name.js","../../src/module/store/checks/email.js","../../src/module/store/checks/password.js","../../src/module/store/checks/index.js","../../src/module/store/alerts/index.js","../../src/module/store/index.js","../../src/module/ui/components/Button.js","../../src/module/ui/components/Carrousel.js","../../src/module/ui/components/Icons.js","../../src/module/ui/components/Input.js","../../src/module/ui/components/Modal.js","../../src/module/ui/components/Navigation.js","../../src/module/ui/components/NotFound.js","../../src/module/ui/components/NumKeyboard.js","../../src/module/ui/components/Progress.js","../../src/module/ui/components/Token.js","../../src/module/ui/components/index.js","../../src/module/ui/fragments/Header.js","../../src/module/ui/fragments/Tabs.js","../../src/module/ui/fragments/PasswordOptions.js","../../src/module/ui/fragments/index.js","../../src/module/ui/lib/Assets.js","../../src/module/ui/lib/Colors.js","../../src/module/ui/lib/IconsSVGs.js","../../src/module/ui/lib/Sizes.js","../../src/module/ui/lib/index.js","../../src/module/ui/pages/<SignIn>/<>/Email.js","../../src/module/ui/pages/<SignIn>/<>/Password.js","../../src/module/ui/pages/<SignIn>/SignIn.js","../../src/module/ui/pages/<SignUp>/<>/Name.js","../../src/module/ui/pages/<SignUp>/<>/Email.js","../../src/module/ui/pages/<SignUp>/<>/Password.js","../../src/module/ui/pages/<SignUp>/<>/Token.js","../../src/module/ui/pages/<SignUp>/SignUp.js","../../src/module/ui/pages/<Welcome>/Welcome.js","../../src/module/ui/pages/<Forgot>/<>/Email.js","../../src/module/ui/pages/<Forgot>/<>/Password.js","../../src/module/ui/pages/<Forgot>/<>/Token.js","../../src/module/ui/pages/<Forgot>/Forgot.js","../../src/module/ui/Container.js","../../src/module/routes.js","../../src/module/context.js","app.js"],"names":["registerStyles","isBrowser","registerNumber","styledRules","node","document","getElementById","alreadyRegistered","innerHTML","indexOf","global","__componentStyles","processStyle","key","rules","out","substr","length","getClasses","componentStyles","styleKeys","Object","keys","mapping","reduce","acum","newClassName","getStyles","isFunction","getFinalProps","args","store","componentDef","classesMapping","processedStyles","state","actions","classes","props","styles","getStore","Store","alerts","objects","check","methods","toggle","measure","utils","set","setItem","call","process","get","db","query","undefined","registerComponent","processedClasses","solveProps","renderComponent","children","render","finalProps","rendered","createHoc","unsafeCode","manageFunction","str","indexOfHandler","trim","manageVal","leftValue","isArray","Array","join","endsWith","replace","match","html","fixed","dynamic","value","i","dynVal","valString","String","repeat","data","map","guard","item","unsafeHTML","htmlString","require","litHtmlServer","field","subscribe","observables","observable","findListener","listeners","find","console","log","currentListeners","components","isSubscribed","push","isPlainValue","v","includes","wasChanged","v1","v2","object","forEach","previousValue","previousValueClone","nextValue","warn","shouldNotify","notify","findIndex","x","id","cb","currentValue","computed","take","compute","flags","IS_MOUNTED","calc","values","computeAll","emit","eventStr","cbProps","reactions","filter","keepAlive","done","reaction","callback","currentRegisterNumber","definition","instances","on","once","renderer","Comp","defaultComponent","isString","parentNode","Component","checks","name","result","message","alertOn","obj","rand1000","Math","floor","random","timestamp","Date","now","_id","isVisible","timeout","setTimeout","alertOff","findAlert","callServerMethod","siteUrl","method","Promise","resolve","reject","xhr","window","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","statusCode","status","responseReturned","responseText","JSON","parse","payloadString","stringify","send","getDataFromServer","instance","user_id","lastTimestamp","localEntitiesIds","requestArgs","then","items","newTimestamp","catch","syncDataToDB","counter","modelStore","transaction","objectStore","requestPrevRecords","getAll","onsuccess","previousRecords","attrs","findRecord","rec","putRequest","put","domain","getDBMetadata","controlStore","requestControlRecords","controlRecords","requestModelKeys","getAllKeys","onerror","updateDBControl","getModelData","requestRecords","start","version","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","request","error","onupgradeneeded","e","target","model","createObjectStore","keyPath","control","getCurrentAttrs","dbValue","hydrate","initSocket","socketUrl","onMessage","wsSupport","ws","WebSocket","sendJSON","onopen","isInitial","onclose","onmessage","payload","findEntity","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","nextTick","arguments","Item","array","prototype","apply","title","browser","env","argv","versions","noop","addListener","off","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","connectStoreToServer","config","sockets","startApp","appData","routes","router","useServiceWorker","navigator","serviceWorker","register","scope","Container","currentPage","user","pages","addToQueue","steps","onError","objToQueue","splice","runTask","createProcesses","processes","singleAction","processOptimistic","isOK","entity","processStep","step","previousArgs","sideEffect","optimistic","resolveOptimistic","response","err","processor","promises","proceed","p","fn","res","task","createStore","hoc","page","action","history","replaceState","pushState","back","compact","Boolean","defaultValue","splittedKeys","split","exit","has","hasKey","last","slice","omit","pick","low","high","range","elem","sample","rand","uid","strLength","middlePos","ceil","availableChars","availableCharsLength","randChar","charAt","uniq","pos","arr","email","_","password","language","tokenDigits","token","isPasswordOK","location","MIN_LENGTH","en","es","REGEX","test","noSpaces","EMAIL_ALREADY_REGISTERED","INVALID_SIGNUP_TOKEN","INVALID_FORGOT_TOKEN","EMAIL_IS_NOT_REGISTERED","PASSWORD_IS_NOT_CORRECT","Button","ui","div","a","color","bgColor","height","text","href","onClick","Carrousel","container","inner","currentStep","screen","screens","Icons","IconsSVGs","lib","size","enabled","inStyle","icon","className","Input","input","onKeyDown","keyCode","preventDefault","onClickRight","type","placeholder","onInput","breakpoint","Modal","subcomponent","isSelected","modal","component","Navigation","IconsComp","Colors","GREEN_SIGNUP","BLUE_SIGNIN","onClickLeft","leftEnabled","rightEnabled","NotFound","NumKeyboard","digitspan","digit","isSvg","onPressNum","onPressDel","ranges","Progress","numSteps","Token","Header","Sizes","HEADER_HEIGHT","onNavigateBack","image","src","Assets","COMPANY_LOGO","Tabs","TABS_HEIGHT","onSelectSignUp","onSelectSignIn","tab","isSignupSelected","PasswordOptions","onClickEye","onClickForgot","isPasswordVisible","isIconVisible","forgot","IMAGES_BASE_PATH","RED_WARNING","backspace","eyeOn","eyeOff","close","chevronLeft","chevronRight","linkedin","google","facebook","wrapper","subtitle","fragments","Email","Password","SigninControl","currentCheck","checkResult","alert","checkText","alertText","Name","SignupControl","button","ForgotControl","findRoute","signin","SignIn","signup","SignUp","welcome","Welcome","Forgot","_root_","default","isProduction","uiFramework","StoreDefinition","uiLib","framework","onload","__APP_DATA__","app"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGO,SAASA,cAAT,CAAwBC,SAAxB,EAAmCC,cAAnC,EAAmDC,WAAnD,EAAgE;AAErE,MAAI,CAACA,WAAL,EAAkB;;AAElB,MAAIF,SAAJ,EAAe;AACb,QAAMG,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAb;AACA,QAAMC,iBAAiB,GAAGH,IAAI,CAACI,SAAL,CAAeC,OAAf,aAA4BP,cAA5B,KAAgD,CAAC,CAA3E;AACA,QAAI,CAACK,iBAAL,EAAwBH,IAAI,CAACI,SAAL,IAAkBL,WAAlB;AACzB,GAJD,MAIO;AACL;AACA,QAAI,CAACO,MAAM,CAACC,iBAAZ,EAA+BD,MAAM,CAACC,iBAAP,GAA2B,EAA3B;AAC/BD,IAAAA,MAAM,CAACC,iBAAP,IAA4BR,WAA5B;AACD;AAEF;;;ACjBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9pDA;;;;AACA;AAEO,SAASS,YAAT,CAAsBC,GAAtB,EAA2BC,KAA3B,EAAkC;AAEvC,MAAID,GAAJ,EAAS,OAAO,gCAAWA,GAAX,GAAkBC,KAAlB,CAAP,CAF8B,CAIvC;;AACA,MAAMC,GAAG,GAAG,qBAAO,EAAP,EAAWD,KAAX,CAAZ;AACA,SAAOC,GAAG,CAACC,MAAJ,CAAW,CAAX,EAAcD,GAAG,CAACE,MAAJ,GAAa,CAA3B,CAAP;AAGD;;;;;;;;;ACbD;;AAEO,SAASC,UAAT,CAAoBhB,cAApB,EAA0D;AAAA,MAAtBiB,eAAsB,uEAAJ,EAAI;AAE/D,MAAMC,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYH,eAAZ,CAAlB;AACA,MAAMI,OAAO,GAAG,EAAhB;AAEA,MAAMT,KAAK,GAAGM,SAAS,CAACI,MAAV,CAAiB,UAACC,IAAD,EAAOZ,GAAP,EAAe;AAC5C,QAAMa,YAAY,aAAMb,GAAN,eAAcX,cAAd,CAAlB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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAO,OAAO,IAAI,OAAX,IAAsB,OAAO,IAAI,OAAxC,EAAiD;AAC/C,UAAI,QAAQ,CAAC,OAAD,CAAR,KAAsB,IAA1B,EAAgC;AAC9B;AACA,QAAA,OAAO;AACR,OAHD,MAGO,IAAI,QAAQ,CAAC,OAAD,CAAR,KAAsB,IAA1B,EAAgC;AACrC;AACA,QAAA,OAAO;AACR,OAHM,MAGA,IAAI,OAAO,CAAC,OAAD,CAAP,KAAqB,OAAO,CAAC,OAAD,CAAhC,EAA2C;AAChD;AACA,QAAA,QAAQ,CAAC,OAAD,CAAR,GACI,UAAU,CAAC,QAAQ,CAAC,OAAD,CAAT,EAAqB,SAAS,CAAC,OAAD,CAA9B,CADd;AAEA,QAAA,OAAO;AACP,QAAA,OAAO;AACR,OANM,MAMA,IAAI,OAAO,CAAC,OAAD,CAAP,KAAqB,OAAO,CAAC,OAAD,CAAhC,EAA2C;AAChD;AACA,QAAA,QAAQ,CAAC,OAAD,CAAR,GACI,UAAU,CAAC,QAAQ,CAAC,OAAD,CAAT,EAAqB,SAAS,CAAC,OAAD,CAA9B,CADd;AAEA,QAAA,OAAO;AACP,QAAA,OAAO;AACR,OANM,MAMA,IAAI,OAAO,CAAC,OAAD,CAAP,KAAqB,OAAO,CAAC,OAAD,CAAhC,EAA2C;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","file":"app.c328ef1a.map","sourceRoot":"../public/app","sourcesContent":["\r\r\rexport function registerStyles(isBrowser, registerNumber, styledRules) {\r\r  if (!styledRules) return;\r\r  if (isBrowser) {\r    const node = document.getElementById('component-styles');\r    const alreadyRegistered = node.innerHTML.indexOf(`--${registerNumber}`) > -1;\r    if (!alreadyRegistered) node.innerHTML += styledRules;\r  } else {\r    // global.__componentStyles used in SSR Server Side Rendering\r    if (!global.__componentStyles) global.__componentStyles = '';\r    global.__componentStyles += styledRules;\r  }\r\r}\r\r\r","/*\n *          __        ___\n *    _____/ /___  __/ (_)____\n *   / ___/ __/ / / / / / ___/\n *  (__  ) /_/ /_/ / / (__  )\n * /____/\\__/\\__, /_/_/____/\n *          /____/\n *\n * light - weight css preprocessor @licence MIT\n */\n(function (factory) {/* eslint-disable */\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? (module['exports'] = factory(null)) :\n\t\ttypeof define === 'function' && define['amd'] ? define(factory(null)) :\n\t\t\t(window['stylis'] = factory(null))\n}(/** @param {*=} options */function factory (options) {/* eslint-disable */\n\n\t'use strict'\n\n\t/**\n\t * Notes\n\t *\n\t * The ['<method name>'] pattern is used to support closure compiler\n\t * the jsdoc signatures are also used to the same effect\n\t *\n\t * ----\n\t *\n\t * int + int + int === n4 [faster]\n\t *\n\t * vs\n\t *\n\t * int === n1 && int === n2 && int === n3\n\t *\n\t * ----\n\t *\n\t * switch (int) { case ints...} [faster]\n\t *\n\t * vs\n\t *\n\t * if (int == 1 && int === 2 ...)\n\t *\n\t * ----\n\t *\n\t * The (first*n1 + second*n2 + third*n3) format used in the property parser\n\t * is a simple way to hash the sequence of characters\n\t * taking into account the index they occur in\n\t * since any number of 3 character sequences could produce duplicates.\n\t *\n\t * On the other hand sequences that are directly tied to the index of the character\n\t * resolve a far more accurate measure, it's also faster\n\t * to evaluate one condition in a switch statement\n\t * than three in an if statement regardless of the added math.\n\t *\n\t * This allows the vendor prefixer to be both small and fast.\n\t */\n\n\tvar nullptn = /^\\0+/g /* matches leading null characters */\n\tvar formatptn = /[\\0\\r\\f]/g /* matches new line, null and formfeed characters */\n\tvar colonptn = /: */g /* splits animation rules */\n\tvar cursorptn = /zoo|gra/ /* assert cursor varient */\n\tvar transformptn = /([,: ])(transform)/g /* vendor prefix transform, older webkit */\n\tvar animationptn = /,+\\s*(?![^(]*[)])/g /* splits multiple shorthand notation animations */\n\tvar propertiesptn = / +\\s*(?![^(]*[)])/g /* animation properties */\n\tvar elementptn = / *[\\0] */g /* selector elements */\n\tvar selectorptn = /,\\r+?/g /* splits selectors */\n\tvar andptn = /([\\t\\r\\n ])*\\f?&/g /* match & */\n\tvar escapeptn = /:global\\(((?:[^\\(\\)\\[\\]]*|\\[.*\\]|\\([^\\(\\)]*\\))*)\\)/g /* matches :global(.*) */\n\tvar invalidptn = /\\W+/g /* removes invalid characters from keyframes */\n\tvar keyframeptn = /@(k\\w+)\\s*(\\S*)\\s*/ /* matches @keyframes $1 */\n\tvar plcholdrptn = /::(place)/g /* match ::placeholder varient */\n\tvar readonlyptn = /:(read-only)/g /* match :read-only varient */\n\tvar beforeptn = /\\s+(?=[{\\];=:>])/g /* matches \\s before ] ; = : */\n\tvar afterptn = /([[}=:>])\\s+/g /* matches \\s after characters [ } = : */\n\tvar tailptn = /(\\{[^{]+?);(?=\\})/g /* matches tail semi-colons ;} */\n\tvar whiteptn = /\\s{2,}/g /* matches repeating whitespace */\n\tvar pseudoptn = /([^\\(])(:+) */g /* pseudo element */\n\tvar writingptn = /[svh]\\w+-[tblr]{2}/ /* match writing mode property values */\n\tvar gradientptn = /([\\w-]+t\\()/g /* match *gradient property */\n\tvar supportsptn = /\\(\\s*(.*)\\s*\\)/g /* match supports (groups) */\n\tvar propertyptn = /([\\s\\S]*?);/g /* match properties leading semicolon */\n\tvar selfptn = /-self|flex-/g /* match flex- and -self in align-self: flex-*; */\n\tvar pseudofmt = /[^]*?(:[rp][el]a[\\w-]+)[^]*/ /* extrats :readonly or :placholder from selector */\n\tvar trimptn = /[ \\t]+$/ /* match tail whitspace */\n\tvar dimensionptn = /stretch|:\\s*\\w+\\-(?:conte|avail)/ /* match max/min/fit-content, fill-available */\n\tvar imgsrcptn = /([^-])(image-set\\()/\n\n\t/* vendors */\n\tvar webkit = '-webkit-'\n\tvar moz = '-moz-'\n\tvar ms = '-ms-'\n\n\t/* character codes */\n\tvar SEMICOLON = 59 /* ; */\n\tvar CLOSEBRACES = 125 /* } */\n\tvar OPENBRACES = 123 /* { */\n\tvar OPENPARENTHESES = 40 /* ( */\n\tvar CLOSEPARENTHESES = 41 /* ) */\n\tvar OPENBRACKET = 91 /* [ */\n\tvar CLOSEBRACKET = 93 /* ] */\n\tvar NEWLINE = 10 /* \\n */\n\tvar CARRIAGE = 13 /* \\r */\n\tvar TAB = 9 /* \\t */\n\tvar AT = 64 /* @ */\n\tvar SPACE = 32 /*   */\n\tvar AND = 38 /* & */\n\tvar DASH = 45 /* - */\n\tvar UNDERSCORE = 95 /* _ */\n\tvar STAR = 42 /* * */\n\tvar COMMA = 44 /* , */\n\tvar COLON = 58 /* : */\n\tvar SINGLEQUOTE = 39 /* ' */\n\tvar DOUBLEQUOTE = 34 /* \" */\n\tvar FOWARDSLASH = 47 /* / */\n\tvar GREATERTHAN = 62 /* > */\n\tvar PLUS = 43 /* + */\n\tvar TILDE = 126 /* ~ */\n\tvar NULL = 0 /* \\0 */\n\tvar FORMFEED = 12 /* \\f */\n\tvar VERTICALTAB = 11 /* \\v */\n\n\t/* special identifiers */\n\tvar KEYFRAME = 107 /* k */\n\tvar MEDIA = 109 /* m */\n\tvar SUPPORTS = 115 /* s */\n\tvar PLACEHOLDER = 112 /* p */\n\tvar READONLY = 111 /* o */\n\tvar IMPORT = 105 /* <at>i */\n\tvar CHARSET = 99 /* <at>c */\n\tvar DOCUMENT = 100 /* <at>d */\n\tvar PAGE = 112 /* <at>p */\n\n\tvar column = 1 /* current column */\n\tvar line = 1 /* current line numebr */\n\tvar pattern = 0 /* :pattern */\n\n\tvar cascade = 1 /* #id h1 h2 vs h1#id h2#id  */\n\tvar prefix = 1 /* vendor prefix */\n\tvar escape = 1 /* escape :global() pattern */\n\tvar compress = 0 /* compress output */\n\tvar semicolon = 0 /* no/semicolon option */\n\tvar preserve = 0 /* preserve empty selectors */\n\n\t/* empty reference */\n\tvar array = []\n\n\t/* plugins */\n\tvar plugins = []\n\tvar plugged = 0\n\tvar should = null\n\n\t/* plugin context */\n\tvar POSTS = -2\n\tvar PREPS = -1\n\tvar UNKWN = 0\n\tvar PROPS = 1\n\tvar BLCKS = 2\n\tvar ATRUL = 3\n\n\t/* plugin newline context */\n\tvar unkwn = 0\n\n\t/* keyframe animation */\n\tvar keyed = 1\n\tvar key = ''\n\n\t/* selector namespace */\n\tvar nscopealt = ''\n\tvar nscope = ''\n\n\t/**\n\t * Compile\n\t *\n\t * @param {Array<string>} parent\n\t * @param {Array<string>} current\n\t * @param {string} body\n\t * @param {number} id\n\t * @param {number} depth\n\t * @return {string}\n\t */\n\tfunction compile (parent, current, body, id, depth) {\n\t\tvar bracket = 0 /* brackets [] */\n\t\tvar comment = 0 /* comments /* // or /* */\n\t\tvar parentheses = 0 /* functions () */\n\t\tvar quote = 0 /* quotes '', \"\" */\n\n\t\tvar first = 0 /* first character code */\n\t\tvar second = 0 /* second character code */\n\t\tvar code = 0 /* current character code */\n\t\tvar tail = 0 /* previous character code */\n\t\tvar trail = 0 /* character before previous code */\n\t\tvar peak = 0 /* previous non-whitespace code */\n\n\t\tvar counter = 0 /* count sequence termination */\n\t\tvar context = 0 /* track current context */\n\t\tvar atrule = 0 /* track @at-rule context */\n\t\tvar pseudo = 0 /* track pseudo token index */\n\t\tvar caret = 0 /* current character index */\n\t\tvar format = 0 /* control character formating context */\n\t\tvar insert = 0 /* auto semicolon insertion */\n\t\tvar invert = 0 /* inverted selector pattern */\n\t\tvar length = 0 /* generic length address */\n\t\tvar eof = body.length /* end of file(length) */\n\t\tvar eol = eof - 1 /* end of file(characters) */\n\n\t\tvar char = '' /* current character */\n\t\tvar chars = '' /* current buffer of characters */\n\t\tvar child = '' /* next buffer of characters */\n\t\tvar out = '' /* compiled body */\n\t\tvar children = '' /* compiled children */\n\t\tvar flat = '' /* compiled leafs */\n\t\tvar selector /* generic selector address */\n\t\tvar result /* generic address */\n\n\t\t// ...build body\n\t\twhile (caret < eof) {\n\t\t\tcode = body.charCodeAt(caret)\n\n\t\t\t// eof varient\n\t\t\tif (caret === eol) {\n\t\t\t\t// last character + noop context, add synthetic padding for noop context to terminate\n\t\t\t\tif (comment + quote + parentheses + bracket !== 0) {\n\t\t\t\t\tif (comment !== 0) {\n\t\t\t\t\t\tcode = comment === FOWARDSLASH ? NEWLINE : FOWARDSLASH\n\t\t\t\t\t}\n\n\t\t\t\t\tquote = parentheses = bracket = 0\n\t\t\t\t\teof++\n\t\t\t\t\teol++\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (comment + quote + parentheses + bracket === 0) {\n\t\t\t\t// eof varient\n\t\t\t\tif (caret === eol) {\n\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\tchars = chars.replace(formatptn, '')\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chars.trim().length > 0) {\n\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\t\tcase NEWLINE: {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tchars += body.charAt(caret)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcode = SEMICOLON\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// auto semicolon insertion\n\t\t\t\tif (insert === 1) {\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t// false flags\n\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\tcase SINGLEQUOTE:\n\t\t\t\t\t\tcase OPENPARENTHESES:\n\t\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// ignore\n\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// valid\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\t\tlength = caret\n\t\t\t\t\t\t\tfirst = code\n\t\t\t\t\t\t\tcaret--\n\t\t\t\t\t\t\tcode = SEMICOLON\n\n\t\t\t\t\t\t\twhile (length < eof) {\n\t\t\t\t\t\t\t\tswitch (body.charCodeAt(length++)) {\n\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\t\t\t\tcase SEMICOLON: {\n\t\t\t\t\t\t\t\t\t\t++caret\n\t\t\t\t\t\t\t\t\t\tcode = first\n\t\t\t\t\t\t\t\t\t\tlength = eof\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\t\t\t\t\t\t++caret\n\t\t\t\t\t\t\t\t\t\t\tcode = first\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\t\t\t\t\tlength = eof\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// token varient\n\t\t\t\tswitch (code) {\n\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\tchars = chars.trim()\n\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\t\t\t\t\t\tcounter = 1\n\t\t\t\t\t\tlength = ++caret\n\n\t\t\t\t\t\twhile (caret < eof) {\n\t\t\t\t\t\t\tswitch (code = body.charCodeAt(caret)) {\n\t\t\t\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\t\t\t\tcounter++\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\t\t\t\t\tcounter--\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\t\t\t\t\tswitch (second = body.charCodeAt(caret + 1)) {\n\t\t\t\t\t\t\t\t\t\t// /*, //\n\t\t\t\t\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\t\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\t\t\t\t\t\t\tcaret = delimited(second, caret, eol, body)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// given \"[\" === 91 & \"]\" === 93 hence forth 91 + 1 + 1 === 93\n\t\t\t\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\t\t\t\tcode++\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// given \"(\" === 40 & \")\" === 41 hence forth 40 + 1 === 41\n\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\tcode++\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// quote tail delimiter is identical to the head delimiter hence noop,\n\t\t\t\t\t\t\t\t// fallthrough clauses have been shifted to the correct tail delimiter\n\t\t\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\t\t\tcase SINGLEQUOTE: {\n\t\t\t\t\t\t\t\t\twhile (caret++ < eol) {\n\t\t\t\t\t\t\t\t\t\tif (body.charCodeAt(caret) === code) {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (counter === 0) {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcaret++\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tchild = body.substring(length, caret)\n\n\t\t\t\t\t\tif (first === NULL) {\n\t\t\t\t\t\t\tfirst = (chars = chars.replace(nullptn, '').trim()).charCodeAt(0)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tswitch (first) {\n\t\t\t\t\t\t\t// @at-rule\n\t\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\t\t\t\tchars = chars.replace(formatptn, '')\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsecond = chars.charCodeAt(1)\n\n\t\t\t\t\t\t\t\tswitch (second) {\n\t\t\t\t\t\t\t\t\tcase DOCUMENT:\n\t\t\t\t\t\t\t\t\tcase MEDIA:\n\t\t\t\t\t\t\t\t\tcase SUPPORTS:\n\t\t\t\t\t\t\t\t\tcase DASH: {\n\t\t\t\t\t\t\t\t\t\tselector = current\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tselector = array\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tchild = compile(current, selector, child, second, depth+1)\n\t\t\t\t\t\t\t\tlength = child.length\n\n\t\t\t\t\t\t\t\t// preserve empty @at-rule\n\t\t\t\t\t\t\t\tif (preserve > 0 && length === 0) {\n\t\t\t\t\t\t\t\t\tlength = chars.length\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// execute plugins, @at-rule context\n\t\t\t\t\t\t\t\tif (plugged > 0) {\n\t\t\t\t\t\t\t\t\tselector = select(array, chars, invert)\n\t\t\t\t\t\t\t\t\tresult = proxy(ATRUL, child, selector, current, line, column, length, second, depth, id)\n\t\t\t\t\t\t\t\t\tchars = selector.join('')\n\n\t\t\t\t\t\t\t\t\tif (result !== void 0) {\n\t\t\t\t\t\t\t\t\t\tif ((length = (child = result.trim()).length) === 0) {\n\t\t\t\t\t\t\t\t\t\t\tsecond = 0\n\t\t\t\t\t\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (length > 0) {\n\t\t\t\t\t\t\t\t\tswitch (second) {\n\t\t\t\t\t\t\t\t\t\tcase SUPPORTS: {\n\t\t\t\t\t\t\t\t\t\t\tchars = chars.replace(supportsptn, supports)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcase DOCUMENT:\n\t\t\t\t\t\t\t\t\t\tcase MEDIA:\n\t\t\t\t\t\t\t\t\t\tcase DASH: {\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + '{' + child + '}'\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcase KEYFRAME: {\n\t\t\t\t\t\t\t\t\t\t\tchars = chars.replace(keyframeptn, '$1 $2' + (keyed > 0 ? key : ''))\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + '{' + child + '}'\n\n\t\t\t\t\t\t\t\t\t\t\tif (prefix === 1 || (prefix === 2 && vendor('@'+child, 3))) {\n\t\t\t\t\t\t\t\t\t\t\t\tchild = '@' + webkit + child + '@' + child\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tchild = '@' + child\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + child\n\n\t\t\t\t\t\t\t\t\t\t\tif (id === PAGE) {\n\t\t\t\t\t\t\t\t\t\t\t\tchild = (out += child, '')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// selector\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tchild = compile(current, select(current, chars, invert), child, id, depth+1)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tchildren += child\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tcontext = 0\n\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\tformat = 0\n\t\t\t\t\t\tinvert = 0\n\t\t\t\t\t\tatrule = 0\n\t\t\t\t\t\tchars = ''\n\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\tcode = body.charCodeAt(++caret)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\tcase SEMICOLON: {\n\t\t\t\t\t\tchars = (format > 0 ? chars.replace(formatptn, '') : chars).trim()\n\n\t\t\t\t\t\tif ((length = chars.length) > 1) {\n\t\t\t\t\t\t\t// monkey-patch missing colon\n\t\t\t\t\t\t\tif (pseudo === 0) {\n\t\t\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\n\t\t\t\t\t\t\t\t// first character is a letter or dash, buffer has a space character\n\t\t\t\t\t\t\t\tif ((first === DASH || first > 96 && first < 123)) {\n\t\t\t\t\t\t\t\t\tlength = (chars = chars.replace(' ', ':')).length\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// execute plugins, property context\n\t\t\t\t\t\t\tif (plugged > 0) {\n\t\t\t\t\t\t\t\tif ((result = proxy(PROPS, chars, current, parent, line, column, out.length, id, depth, id)) !== void 0) {\n\t\t\t\t\t\t\t\t\tif ((length = (chars = result.trim()).length) === 0) {\n\t\t\t\t\t\t\t\t\t\tchars = '\\0\\0'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\t\t\t\t\t\t\tsecond = chars.charCodeAt(1)\n\n\t\t\t\t\t\t\tswitch (first) {\n\t\t\t\t\t\t\t\tcase NULL: {\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\t\t\tif (second === IMPORT || second === CHARSET) {\n\t\t\t\t\t\t\t\t\t\tflat += chars + body.charAt(caret)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\tif (chars.charCodeAt(length-1) === COLON) {\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tout += property(chars, first, second, chars.charCodeAt(2))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tcontext = 0\n\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\tformat = 0\n\t\t\t\t\t\tinvert = 0\n\t\t\t\t\t\tchars = ''\n\t\t\t\t\t\tcode = body.charCodeAt(++caret)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// parse characters\n\t\t\tswitch (code) {\n\t\t\t\tcase CARRIAGE:\n\t\t\t\tcase NEWLINE: {\n\t\t\t\t\t// auto insert semicolon\n\t\t\t\t\tif (comment + quote + parentheses + bracket + semicolon === 0) {\n\t\t\t\t\t\t// valid non-whitespace characters that\n\t\t\t\t\t\t// may precede a newline\n\t\t\t\t\t\tswitch (peak) {\n\t\t\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\t\t\tcase SINGLEQUOTE:\n\t\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\t\tcase AT:\n\t\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\t\tcase FOWARDSLASH:\n\t\t\t\t\t\t\tcase DASH:\n\t\t\t\t\t\t\tcase COLON:\n\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t// current buffer has a colon\n\t\t\t\t\t\t\t\tif (pseudo > 0) {\n\t\t\t\t\t\t\t\t\tinsert = 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// terminate line comment\n\t\t\t\t\tif (comment === FOWARDSLASH) {\n\t\t\t\t\t\tcomment = 0\n\t\t\t\t\t} else if (cascade + context === 0 && id !== KEYFRAME && chars.length > 0) {\n\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\tchars += '\\0'\n\t\t\t\t\t}\n\n\t\t\t\t\t// execute plugins, newline context\n\t\t\t\t\tif (plugged * unkwn > 0) {\n\t\t\t\t\t\tproxy(UNKWN, chars, current, parent, line, column, out.length, id, depth, id)\n\t\t\t\t\t}\n\n\t\t\t\t\t// next line, reset column position\n\t\t\t\t\tcolumn = 1\n\t\t\t\t\tline++\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tcase SEMICOLON:\n\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\tif (comment + quote + parentheses + bracket === 0) {\n\t\t\t\t\t\tcolumn++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\t// increment column position\n\t\t\t\t\tcolumn++\n\n\t\t\t\t\t// current character\n\t\t\t\t\tchar = body.charAt(caret)\n\n\t\t\t\t\t// remove comments, escape functions, strings, attributes and prepare selectors\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\tif (quote + bracket + comment === 0) {\n\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\t\tcase COLON:\n\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\t\t\t\tchar = ''\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tif (code !== SPACE) {\n\t\t\t\t\t\t\t\t\t\t\tchar = ' '\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// escape breaking control characters\n\t\t\t\t\t\tcase NULL: {\n\t\t\t\t\t\t\tchar = '\\\\0'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase FORMFEED: {\n\t\t\t\t\t\t\tchar = '\\\\f'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase VERTICALTAB: {\n\t\t\t\t\t\t\tchar = '\\\\v'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// &\n\t\t\t\t\t\tcase AND: {\n\t\t\t\t\t\t\t// inverted selector pattern i.e html &\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0 && cascade > 0) {\n\t\t\t\t\t\t\t\tinvert = 1\n\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\tchar = '\\f' + char\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// ::p<l>aceholder, l\n\t\t\t\t\t\t// :read-on<l>y, l\n\t\t\t\t\t\tcase 108: {\n\t\t\t\t\t\t\tif (quote + comment + bracket + pattern === 0 && pseudo > 0) {\n\t\t\t\t\t\t\t\tswitch (caret - pseudo) {\n\t\t\t\t\t\t\t\t\t// ::placeholder\n\t\t\t\t\t\t\t\t\tcase 2: {\n\t\t\t\t\t\t\t\t\t\tif (tail === PLACEHOLDER && body.charCodeAt(caret-3) === COLON) {\n\t\t\t\t\t\t\t\t\t\t\tpattern = tail\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// :read-only\n\t\t\t\t\t\t\t\t\tcase 8: {\n\t\t\t\t\t\t\t\t\t\tif (trail === READONLY) {\n\t\t\t\t\t\t\t\t\t\t\tpattern = trail\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// :<pattern>\n\t\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tpseudo = caret\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// selectors\n\t\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\t\tif (comment + parentheses + quote + bracket === 0) {\n\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\tchar += '\\r'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// quotes\n\t\t\t\t\t\tcase DOUBLEQUOTE:\n\t\t\t\t\t\tcase SINGLEQUOTE: {\n\t\t\t\t\t\t\tif (comment === 0) {\n\t\t\t\t\t\t\t\tquote = quote === code ? 0 : (quote === 0 ? code : quote)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// attributes\n\t\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\t\tif (quote + comment + parentheses === 0) {\n\t\t\t\t\t\t\t\tbracket++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase CLOSEBRACKET: {\n\t\t\t\t\t\t\tif (quote + comment + parentheses === 0) {\n\t\t\t\t\t\t\t\tbracket--\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// functions\n\t\t\t\t\t\tcase CLOSEPARENTHESES: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tparentheses--\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\tswitch (tail*2 + trail*3) {\n\t\t\t\t\t\t\t\t\t\t// :matches\n\t\t\t\t\t\t\t\t\t\tcase 533: {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// :global, :not, :nth-child etc...\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tcounter = 0\n\t\t\t\t\t\t\t\t\t\t\tcontext = 1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tparentheses++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\tif (comment + parentheses + quote + bracket + pseudo + atrule === 0) {\n\t\t\t\t\t\t\t\tatrule = 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// block/line comments\n\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\t\t\tif (quote + bracket + parentheses > 0) {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tswitch (comment) {\n\t\t\t\t\t\t\t\t// initialize line/block comment context\n\t\t\t\t\t\t\t\tcase 0: {\n\t\t\t\t\t\t\t\t\tswitch (code*2 + body.charCodeAt(caret+1)*3) {\n\t\t\t\t\t\t\t\t\t\t// //\n\t\t\t\t\t\t\t\t\t\tcase 235: {\n\t\t\t\t\t\t\t\t\t\t\tcomment = FOWARDSLASH\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// /*\n\t\t\t\t\t\t\t\t\t\tcase 220: {\n\t\t\t\t\t\t\t\t\t\t\tlength = caret\n\t\t\t\t\t\t\t\t\t\t\tcomment = STAR\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// end block comment context\n\t\t\t\t\t\t\t\tcase STAR: {\n\t\t\t\t\t\t\t\t\tif (code === FOWARDSLASH && tail === STAR && length + 2 !== caret) {\n\t\t\t\t\t\t\t\t\t\t// /*<!> ... */, !\n\t\t\t\t\t\t\t\t\t\tif (body.charCodeAt(length+2) === 33) {\n\t\t\t\t\t\t\t\t\t\t\tout += body.substring(length, caret+1)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tchar = ''\n\t\t\t\t\t\t\t\t\t\tcomment = 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// ignore comment blocks\n\t\t\t\t\tif (comment === 0) {\n\t\t\t\t\t\t// aggressive isolation mode, divide each individual selector\n\t\t\t\t\t\t// including selectors in :not function but excluding selectors in :global function\n\t\t\t\t\t\tif (cascade + quote + bracket + atrule === 0 && id !== KEYFRAME && code !== SEMICOLON) {\n\t\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\t\t// outside of an isolated context i.e nth-child(<...>)\n\t\t\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\t\t\tcase CARRIAGE: {\n\t\t\t\t\t\t\t\t\t\t\t\tchar = char + '\\0'\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tchar = '\\0' + char + (code === COMMA ? '' : '\\0')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// within an isolated context, sleep untill it's terminated\n\t\t\t\t\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\t\t\t\t// :globa<l>(\n\t\t\t\t\t\t\t\t\t\t\t\tif (pseudo + 7 === caret && tail === 108) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tcontext = ++counter\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tcase CLOSEPARENTHESES: {\n\t\t\t\t\t\t\t\t\t\t\t\tif ((context = --counter) === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t\t\t\t\tchar += '\\0'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\t\tcase NULL:\n\t\t\t\t\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\t\t\tcase FORMFEED:\n\t\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\t\tcase CARRIAGE: {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t// ignore in isolated contexts\n\t\t\t\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t\t\t\tchar += '\\0'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// concat buffer of characters\n\t\t\t\t\t\tchars += char\n\n\t\t\t\t\t\t// previous non-whitespace character code\n\t\t\t\t\t\tif (code !== SPACE && code !== TAB) {\n\t\t\t\t\t\t\tpeak = code\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tail character codes\n\t\t\ttrail = tail\n\t\t\ttail = code\n\n\t\t\t// visit every character\n\t\t\tcaret++\n\t\t}\n\n\t\tlength = out.length\n\n\t\t// preserve empty selector\n \t\tif (preserve > 0) {\n \t\t\tif (length === 0 && children.length === 0 && (current[0].length === 0) === false) {\n \t\t\t\tif (id !== MEDIA || (current.length === 1 && (cascade > 0 ? nscopealt : nscope) === current[0])) {\n\t\t\t\t\tlength = current.join(',').length + 2\n \t\t\t\t}\n \t\t\t}\n\t\t}\n\n\t\tif (length > 0) {\n\t\t\t// cascade isolation mode?\n\t\t\tselector = cascade === 0 && id !== KEYFRAME ? isolate(current) : current\n\n\t\t\t// execute plugins, block context\n\t\t\tif (plugged > 0) {\n\t\t\t\tresult = proxy(BLCKS, out, selector, parent, line, column, length, id, depth, id)\n\n\t\t\t\tif (result !== void 0 && (out = result).length === 0) {\n\t\t\t\t\treturn flat + out + children\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tout = selector.join(',') + '{' + out + '}'\n\n\t\t\tif (prefix*pattern !== 0) {\n\t\t\t\tif (prefix === 2 && !vendor(out, 2))\n\t\t\t\t\tpattern = 0\n\n\t\t\t\tswitch (pattern) {\n\t\t\t\t\t// ::read-only\n\t\t\t\t\tcase READONLY: {\n\t\t\t\t\t\tout = out.replace(readonlyptn, ':'+moz+'$1')+out\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// ::placeholder\n\t\t\t\t\tcase PLACEHOLDER: {\n\t\t\t\t\t\tout = (\n\t\t\t\t\t\t\tout.replace(plcholdrptn, '::' + webkit + 'input-$1') +\n\t\t\t\t\t\t\tout.replace(plcholdrptn, '::' + moz + '$1') +\n\t\t\t\t\t\t\tout.replace(plcholdrptn, ':' + ms + 'input-$1') + out\n\t\t\t\t\t\t)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tpattern = 0\n\t\t\t}\n\t\t}\n\n\t\treturn flat + out + children\n\t}\n\n\t/**\n\t * Select\n\t *\n\t * @param {Array<string>} parent\n\t * @param {string} current\n\t * @param {number} invert\n\t * @return {Array<string>}\n\t */\n\tfunction select (parent, current, invert) {\n\t\tvar selectors = current.trim().split(selectorptn)\n\t\tvar out = selectors\n\n\t\tvar length = selectors.length\n\t\tvar l = parent.length\n\n\t\tswitch (l) {\n\t\t\t// 0-1 parent selectors\n\t\t\tcase 0:\n\t\t\tcase 1: {\n\t\t\t\tfor (var i = 0, selector = l === 0 ? '' : parent[0] + ' '; i < length; ++i) {\n\t\t\t\t\tout[i] = scope(selector, out[i], invert, l).trim()\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// >2 parent selectors, nested\n\t\t\tdefault: {\n\t\t\t\tfor (var i = 0, j = 0, out = []; i < length; ++i) {\n\t\t\t\t\tfor (var k = 0; k < l; ++k) {\n\t\t\t\t\t\tout[j++] = scope(parent[k] + ' ', selectors[i], invert, l).trim()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Scope\n\t *\n\t * @param {string} parent\n\t * @param {string} current\n\t * @param {number} invert\n\t * @param {number} level\n\t * @return {string}\n\t */\n\tfunction scope (parent, current, invert, level) {\n\t\tvar selector = current\n\t\tvar code = selector.charCodeAt(0)\n\n\t\t// trim leading whitespace\n\t\tif (code < 33) {\n\t\t\tcode = (selector = selector.trim()).charCodeAt(0)\n\t\t}\n\n\t\tswitch (code) {\n\t\t\t// &\n\t\t\tcase AND: {\n\t\t\t\tswitch (cascade + level) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\tcase 1: {\n\t\t\t\t\t\tif (parent.trim().length === 0) {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treturn selector.replace(andptn, '$1'+parent.trim())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// :\n\t\t\tcase COLON: {\n\t\t\t\tswitch (selector.charCodeAt(1)) {\n\t\t\t\t\t// g in :global\n\t\t\t\t\tcase 103: {\n\t\t\t\t\t\tif (escape > 0 && cascade > 0) {\n\t\t\t\t\t\t\treturn selector.replace(escapeptn, '$1').replace(andptn, '$1'+nscope)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\t// :hover\n\t\t\t\t\t\treturn parent.trim() + selector.replace(andptn, '$1'+parent.trim())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\t// html &\n\t\t\t\tif (invert*cascade > 0 && selector.indexOf('\\f') > 0) {\n\t\t\t\t\treturn selector.replace(andptn, (parent.charCodeAt(0) === COLON ? '' : '$1')+parent.trim())\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn parent + selector\n\t}\n\n\t/**\n\t * Property\n\t *\n\t * @param {string} input\n\t * @param {number} first\n\t * @param {number} second\n\t * @param {number} third\n\t * @return {string}\n\t */\n\tfunction property (input, first, second, third) {\n\t\tvar index = 0\n\t\tvar out = input + ';'\n\t\tvar hash = (first*2) + (second*3) + (third*4)\n\t\tvar cache\n\n\t\t// animation: a, n, i characters\n\t\tif (hash === 944) {\n\t\t\treturn animation(out)\n\t\t} else if (prefix === 0 || (prefix === 2 && !vendor(out, 1))) {\n\t\t\treturn out\n\t\t}\n\n\t\t// vendor prefix\n\t\tswitch (hash) {\n\t\t\t// text-decoration/text-size-adjust/text-shadow/text-align/text-transform: t, e, x\n\t\t\tcase 1015: {\n\t\t\t\t// text-shadow/text-align/text-transform, a\n\t\t\t\treturn out.charCodeAt(10) === 97 ? webkit + out + out : out\n\t\t\t}\n\t\t\t// filter/fill f, i, l\n\t\t\tcase 951: {\n\t\t\t\t// filter, t\n\t\t\t\treturn out.charCodeAt(3) === 116 ? webkit + out + out : out\n\t\t\t}\n\t\t\t// color/column, c, o, l\n\t\t\tcase 963: {\n\t\t\t\t// column, n\n\t\t\t\treturn out.charCodeAt(5) === 110 ? webkit + out + out : out\n\t\t\t}\n\t\t\t// box-decoration-break, b, o, x\n\t\t\tcase 1009: {\n\t\t\t\tif (out.charCodeAt(4) !== 100) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\t// mask, m, a, s\n\t\t\t// clip-path, c, l, i\n\t\t\tcase 969:\n\t\t\tcase 942: {\n\t\t\t\treturn webkit + out + out\n\t\t\t}\n\t\t\t// appearance: a, p, p\n\t\t\tcase 978: {\n\t\t\t\treturn webkit + out + moz + out + out\n\t\t\t}\n\t\t\t// hyphens: h, y, p\n\t\t\t// user-select: u, s, e\n\t\t\tcase 1019:\n\t\t\tcase 983: {\n\t\t\t\treturn webkit + out + moz + out + ms + out + out\n\t\t\t}\n\t\t\t// background/backface-visibility, b, a, c\n\t\t\tcase 883: {\n\t\t\t\t// backface-visibility, -\n\t\t\t\tif (out.charCodeAt(8) === DASH) {\n\t\t\t\t\treturn webkit + out + out\n\t\t\t\t}\n\n\t\t\t\t// image-set(...)\n\t\t\t\tif (out.indexOf('image-set(', 11) > 0) {\n\t\t\t\t\treturn out.replace(imgsrcptn, '$1'+webkit+'$2') + out\n\t\t\t\t}\n\n\t\t\t\treturn out\n\t\t\t}\n\t\t\t// flex: f, l, e\n\t\t\tcase 932: {\n\t\t\t\tif (out.charCodeAt(4) === DASH) {\n\t\t\t\t\tswitch (out.charCodeAt(5)) {\n\t\t\t\t\t\t// flex-grow, g\n\t\t\t\t\t\tcase 103: {\n\t\t\t\t\t\t\treturn webkit + 'box-' + out.replace('-grow', '') + webkit + out + ms + out.replace('grow', 'positive') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// flex-shrink, s\n\t\t\t\t\t\tcase 115: {\n\t\t\t\t\t\t\treturn webkit + out + ms + out.replace('shrink', 'negative') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// flex-basis, b\n\t\t\t\t\t\tcase 98: {\n\t\t\t\t\t\t\treturn webkit + out + ms + out.replace('basis', 'preferred-size') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn webkit + out + ms + out + out\n\t\t\t}\n\t\t\t// order: o, r, d\n\t\t\tcase 964: {\n\t\t\t\treturn webkit + out + ms + 'flex' + '-' + out + out\n\t\t\t}\n\t\t\t// justify-items/justify-content, j, u, s\n\t\t\tcase 1023: {\n\t\t\t\t// justify-content, c\n\t\t\t\tif (out.charCodeAt(8) !== 99) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\tcache = out.substring(out.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify')\n\t\t\t\treturn webkit + 'box-pack' + cache + webkit + out + ms + 'flex-pack' + cache + out\n\t\t\t}\n\t\t\t// cursor, c, u, r\n\t\t\tcase 1005: {\n\t\t\t\treturn cursorptn.test(out) ? out.replace(colonptn, ':' + webkit) + out.replace(colonptn, ':' + moz) + out : out\n\t\t\t}\n\t\t\t// writing-mode, w, r, i\n\t\t\tcase 1000: {\n\t\t\t\tcache = out.substring(13).trim()\n\t\t\t\tindex = cache.indexOf('-') + 1\n\n\t\t\t\tswitch (cache.charCodeAt(0)+cache.charCodeAt(index)) {\n\t\t\t\t\t// vertical-lr\n\t\t\t\t\tcase 226: {\n\t\t\t\t\t\tcache = out.replace(writingptn, 'tb')\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// vertical-rl\n\t\t\t\t\tcase 232: {\n\t\t\t\t\t\tcache = out.replace(writingptn, 'tb-rl')\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// horizontal-tb\n\t\t\t\t\tcase 220: {\n\t\t\t\t\t\tcache = out.replace(writingptn, 'lr')\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treturn out\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn webkit + out + ms + cache + out\n\t\t\t}\n\t\t\t// position: sticky\n\t\t\tcase 1017: {\n\t\t\t\tif (out.indexOf('sticky', 9) === -1) {\n\t\t\t\t\treturn out\n\t\t\t\t}\n\t\t\t}\n\t\t\t// display(flex/inline-flex/inline-box): d, i, s\n\t\t\tcase 975: {\n\t\t\t\tindex = (out = input).length - 10\n\t\t\t\tcache = (out.charCodeAt(index) === 33 ? out.substring(0, index) : out).substring(input.indexOf(':', 7) + 1).trim()\n\n\t\t\t\tswitch (hash = cache.charCodeAt(0) + (cache.charCodeAt(7)|0)) {\n\t\t\t\t\t// inline-\n\t\t\t\t\tcase 203: {\n\t\t\t\t\t\t// inline-box\n\t\t\t\t\t\tif (cache.charCodeAt(8) < 111) {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// inline-box/sticky\n\t\t\t\t\tcase 115: {\n\t\t\t\t\t\tout = out.replace(cache, webkit+cache)+';'+out\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// inline-flex\n\t\t\t\t\t// flex\n\t\t\t\t\tcase 207:\n\t\t\t\t\tcase 102: {\n\t\t\t\t\t\tout = (\n\t\t\t\t\t\t\tout.replace(cache, webkit+(hash > 102 ? 'inline-' : '')+'box')+';'+\n\t\t\t\t\t\t\tout.replace(cache, webkit+cache)+';'+\n\t\t\t\t\t\t\tout.replace(cache, ms+cache+'box')+';'+\n\t\t\t\t\t\t\tout\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn out + ';'\n\t\t\t}\n\t\t\t// align-items, align-center, align-self: a, l, i, -\n\t\t\tcase 938: {\n\t\t\t\tif (out.charCodeAt(5) === DASH) {\n\t\t\t\t\tswitch (out.charCodeAt(6)) {\n\t\t\t\t\t\t// align-items, i\n\t\t\t\t\t\tcase 105: {\n\t\t\t\t\t\t\tcache = out.replace('-items', '')\n\t\t\t\t\t\t\treturn webkit + out + webkit + 'box-' + cache + ms + 'flex-' + cache + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// align-self, s\n\t\t\t\t\t\tcase 115: {\n\t\t\t\t\t\t\treturn webkit + out + ms + 'flex-item-' + out.replace(selfptn, '') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// align-content\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\treturn webkit + out + ms + 'flex-line-pack' + out.replace('align-content', '').replace(selfptn, '') + out\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// min/max\n\t\t\tcase 973:\n\t\t\tcase 989: {\n\t\t\t\t// min-/max- height/width/block-size/inline-size\n\t\t\t\tif (out.charCodeAt(3) !== DASH || out.charCodeAt(4) === 122) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\t// height/width: min-content / width: max-content\n\t\t\tcase 931:\n\t\t\tcase 953: {\n\t\t\t\tif (dimensionptn.test(input) === true) {\n\t\t\t\t\t// stretch\n\t\t\t\t\tif ((cache = input.substring(input.indexOf(':') + 1)).charCodeAt(0) === 115)\n\t\t\t\t\t\treturn property(input.replace('stretch', 'fill-available'), first, second, third).replace(':fill-available', ':stretch')\n\t\t\t\t\telse\n\t\t\t\t\t\treturn out.replace(cache, webkit + cache) + out.replace(cache, moz + cache.replace('fill-', '')) + out\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// transform, transition: t, r, a\n\t\t\tcase 962: {\n\t\t\t\tout = webkit + out + (out.charCodeAt(5) === 102 ? ms + out : '') + out\n\n\t\t\t\t// transitions\n\t\t\t\tif (second + third === 211 && out.charCodeAt(13) === 105 && out.indexOf('transform', 10) > 0) {\n\t\t\t\t\treturn out.substring(0, out.indexOf(';', 27) + 1).replace(transformptn, '$1' + webkit + '$2') + out\n\t\t\t\t}\n\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Vendor\n\t *\n\t * @param {string} content\n\t * @param {number} context\n\t * @return {boolean}\n\t */\n\tfunction vendor (content, context) {\n\t\tvar index = content.indexOf(context === 1 ? ':' : '{')\n\t\tvar key = content.substring(0, context !== 3 ? index : 10)\n\t\tvar value = content.substring(index + 1, content.length - 1)\n\n\t\treturn should(context !== 2 ? key : key.replace(pseudofmt, '$1'), value, context)\n\t}\n\n\t/**\n\t * Supports\n\t *\n\t * @param {string} match\n\t * @param {string} group\n\t * @return {string}\n\t */\n\tfunction supports (match, group) {\n\t\tvar out = property(group, group.charCodeAt(0), group.charCodeAt(1), group.charCodeAt(2))\n\n\t\treturn out !== group+';' ? out.replace(propertyptn, ' or ($1)').substring(4) : '('+group+')'\n\t}\n\n\t/**\n\t * Animation\n\t *\n\t * @param {string} input\n\t * @return {string}\n\t */\n\tfunction animation (input) {\n\t\tvar length = input.length\n\t\tvar index = input.indexOf(':', 9) + 1\n\t\tvar declare = input.substring(0, index).trim()\n\t\tvar out = input.substring(index, length-1).trim()\n\n\t\tswitch (input.charCodeAt(9)*keyed) {\n\t\t\tcase 0: {\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// animation-*, -\n\t\t\tcase DASH: {\n\t\t\t\t// animation-name, n\n\t\t\t\tif (input.charCodeAt(10) !== 110) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\t// animation/animation-name\n\t\t\tdefault: {\n\t\t\t\t// split in case of multiple animations\n\t\t\t\tvar list = out.split((out = '', animationptn))\n\n\t\t\t\tfor (var i = 0, index = 0, length = list.length; i < length; index = 0, ++i) {\n\t\t\t\t\tvar value = list[i]\n\t\t\t\t\tvar items = value.split(propertiesptn)\n\n\t\t\t\t\twhile (value = items[index]) {\n\t\t\t\t\t\tvar peak = value.charCodeAt(0)\n\n\t\t\t\t\t\tif (keyed === 1 && (\n\t\t\t\t\t\t\t// letters\n\t\t\t\t\t\t\t(peak > AT && peak < 90) || (peak > 96 && peak < 123) || peak === UNDERSCORE ||\n\t\t\t\t\t\t\t// dash but not in sequence i.e --\n\t\t\t\t\t\t\t(peak === DASH && value.charCodeAt(1) !== DASH)\n\t\t\t\t\t\t)) {\n\t\t\t\t\t\t\t// not a number/function\n\t\t\t\t\t\t\tswitch (isNaN(parseFloat(value)) + (value.indexOf('(') !== -1)) {\n\t\t\t\t\t\t\t\tcase 1: {\n\t\t\t\t\t\t\t\t\tswitch (value) {\n\t\t\t\t\t\t\t\t\t\t// not a valid reserved keyword\n\t\t\t\t\t\t\t\t\t\tcase 'infinite': case 'alternate': case 'backwards': case 'running':\n\t\t\t\t\t\t\t\t\t\tcase 'normal': case 'forwards': case 'both': case 'none': case 'linear':\n\t\t\t\t\t\t\t\t\t\tcase 'ease': case 'ease-in': case 'ease-out': case 'ease-in-out':\n\t\t\t\t\t\t\t\t\t\tcase 'paused': case 'reverse': case 'alternate-reverse': case 'inherit':\n\t\t\t\t\t\t\t\t\t\tcase 'initial': case 'unset': case 'step-start': case 'step-end': {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tvalue += key\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titems[index++] = value\n\t\t\t\t\t}\n\n\t\t\t\t\tout += (i === 0 ? '' : ',') + items.join(' ')\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tout = declare + out + ';'\n\n\t\tif (prefix === 1 || (prefix === 2 && vendor(out, 1)))\n\t\t\treturn webkit + out + out\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Isolate\n\t *\n\t * @param {Array<string>} current\n\t */\n\tfunction isolate (current) {\n\t\tfor (var i = 0, length = current.length, selector = Array(length), padding, element; i < length; ++i) {\n\t\t\t// split individual elements in a selector i.e h1 h2 === [h1, h2]\n\t\t\tvar elements = current[i].split(elementptn)\n\t\t\tvar out = ''\n\n\t\t\tfor (var j = 0, size = 0, tail = 0, code = 0, l = elements.length; j < l; ++j) {\n\t\t\t\t// empty element\n\t\t\t\tif ((size = (element = elements[j]).length) === 0 && l > 1) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\ttail = out.charCodeAt(out.length-1)\n\t\t\t\tcode = element.charCodeAt(0)\n\t\t\t\tpadding = ''\n\n\t\t\t\tif (j !== 0) {\n\t\t\t\t\t// determine if we need padding\n\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\tcase OPENPARENTHESES:  {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\tpadding = ' '\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tswitch (code) {\n\t\t\t\t\tcase AND: {\n\t\t\t\t\t\telement = padding + nscopealt\n\t\t\t\t\t}\n\t\t\t\t\tcase TILDE:\n\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\tcase PLUS:\n\t\t\t\t\tcase SPACE:\n\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\telement = padding + element + nscopealt\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\tswitch (element.charCodeAt(1)*2 + element.charCodeAt(2)*3) {\n\t\t\t\t\t\t\t// :global\n\t\t\t\t\t\t\tcase 530: {\n\t\t\t\t\t\t\t\tif (escape > 0) {\n\t\t\t\t\t\t\t\t\telement = padding + element.substring(8, size - 1)\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// :hover, :nth-child(), ...\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tif (j < 1 || elements[j-1].length < 1) {\n\t\t\t\t\t\t\t\t\telement = padding + nscopealt + element\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\tpadding = ''\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tif (size > 1 && element.indexOf(':') > 0) {\n\t\t\t\t\t\t\telement = padding + element.replace(pseudoptn, '$1' + nscopealt + '$2')\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement = padding + element + nscopealt\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tout += element\n\t\t\t}\n\n\t\t\tselector[i] = out.replace(formatptn, '').trim()\n\t\t}\n\n\t\treturn selector\n\t}\n\n\t/**\n\t * Proxy\n\t *\n\t * @param {number} context\n\t * @param {string} content\n\t * @param {Array<string>} selectors\n\t * @param {Array<string>} parents\n\t * @param {number} line\n\t * @param {number} column\n\t * @param {number} length\n\t * @param {number} id\n\t * @param {number} depth\n\t * @param {number} at\n\t * @return {(string|void|*)}\n\t */\n\tfunction proxy (context, content, selectors, parents, line, column, length, id, depth, at) {\n\t\tfor (var i = 0, out = content, next; i < plugged; ++i) {\n\t\t\tswitch (next = plugins[i].call(stylis, context, out, selectors, parents, line, column, length, id, depth, at)) {\n\t\t\t\tcase void 0:\n\t\t\t\tcase false:\n\t\t\t\tcase true:\n\t\t\t\tcase null: {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tout = next\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (out !== content) {\n\t\t  return out\n\t\t}\n\t}\n\n\t/**\n\t * @param {number} code\n\t * @param {number} index\n\t * @param {number} length\n\t * @param {string} body\n\t * @return {number}\n\t */\n\tfunction delimited (code, index, length, body) {\n\t\tfor (var i = index + 1; i < length; ++i) {\n\t\t\tswitch (body.charCodeAt(i)) {\n\t\t\t\t// /*\n\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\tif (code === STAR) {\n\t\t\t\t\t\tif (body.charCodeAt(i - 1) === STAR &&  index + 2 !== i) {\n\t\t\t\t\t\t\treturn i + 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// //\n\t\t\t\tcase NEWLINE: {\n\t\t\t\t\tif (code === FOWARDSLASH) {\n\t\t\t\t\t\treturn i + 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn i\n\t}\n\n\t/**\n\t * @param {number} type\n\t * @param {number} index\n\t * @param {number} length\n\t * @param {number} find\n\t * @param {string} body\n\t * @return {number}\n\t */\n\tfunction match (type, index, length, body) {\n\t\tfor (var i = index + 1; i < length; ++i) {\n\t\t\tswitch (body.charCodeAt(i)) {\n\t\t\t\tcase type: {\n\t\t\t\t\treturn i\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn i\n\t}\n\n\t/**\n\t * Minify\n\t *\n\t * @param {(string|*)} output\n\t * @return {string}\n\t */\n\tfunction minify (output) {\n\t\treturn output\n\t\t\t.replace(formatptn, '')\n\t\t\t.replace(beforeptn, '')\n\t\t\t.replace(afterptn, '$1')\n\t\t\t.replace(tailptn, '$1')\n\t\t\t.replace(whiteptn, ' ')\n\t}\n\n\t/**\n\t * Use\n\t *\n\t * @param {(Array<function(...?)>|function(...?)|number|void)?} plugin\n\t */\n\tfunction use (plugin) {\n\t\tswitch (plugin) {\n\t\t\tcase void 0:\n\t\t\tcase null: {\n\t\t\t\tplugged = plugins.length = 0\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tif (typeof plugin === 'function') {\n\t\t\t\t\tplugins[plugged++] = plugin\n\t\t\t\t}\telse if (typeof plugin === 'object') {\n\t\t\t\t\tfor (var i = 0, length = plugin.length; i < length; ++i) {\n\t\t\t\t\t\tuse(plugin[i])\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tunkwn = !!plugin|0\n\t\t\t\t}\n\t\t\t}\n \t\t}\n\n \t\treturn use\n\t}\n\n\t/**\n\t * Set\n\t *\n\t * @param {*} options\n\t */\n\tfunction set (options) {\n\t\tfor (var name in options) {\n\t\t\tvar value = options[name]\n\t\t\tswitch (name) {\n\t\t\t\tcase 'keyframe': keyed = value|0; break\n\t\t\t\tcase 'global': escape = value|0; break\n\t\t\t\tcase 'cascade': cascade = value|0; break\n\t\t\t\tcase 'compress': compress = value|0; break\n\t\t\t\tcase 'semicolon': semicolon = value|0; break\n\t\t\t\tcase 'preserve': preserve = value|0; break\n\t\t\t\tcase 'prefix':\n\t\t\t\t\tshould = null\n\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tprefix = 0\n\t\t\t\t\t} else if (typeof value !== 'function') {\n\t\t\t\t\t\tprefix = 1\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprefix = 2\n\t\t\t\t\t\tshould = value\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn set\n\t}\n\n\t/**\n\t * Stylis\n\t *\n\t * @param {string} selector\n\t * @param {string} input\n\t * @return {*}\n\t */\n\tfunction stylis (selector, input) {\n\t\tif (this !== void 0 && this.constructor === stylis) {\n\t\t\treturn factory(selector)\n\t\t}\n\n\t\t// setup\n\t\tvar ns = selector\n\t\tvar code = ns.charCodeAt(0)\n\n\t\t// trim leading whitespace\n\t\tif (code < 33) {\n\t\t\tcode = (ns = ns.trim()).charCodeAt(0)\n\t\t}\n\n\t\t// keyframe/animation namespace\n\t\tif (keyed > 0) {\n\t\t\tkey = ns.replace(invalidptn, code === OPENBRACKET ? '' : '-')\n\t\t}\n\n\t\t// reset, used to assert if a plugin is moneky-patching the return value\n\t\tcode = 1\n\n\t\t// cascade/isolate\n\t\tif (cascade === 1) {\n\t\t\tnscope = ns\n\t\t} else {\n\t\t\tnscopealt = ns\n\t\t}\n\n\t\tvar selectors = [nscope]\n\t\tvar result\n\n\t\t// execute plugins, pre-process context\n\t\tif (plugged > 0) {\n\t\t\tresult = proxy(PREPS, input, selectors, selectors, line, column, 0, 0, 0, 0)\n\n\t\t\tif (result !== void 0 && typeof result === 'string') {\n\t\t\t\tinput = result\n\t\t\t}\n\t\t}\n\n\t\t// build\n\t\tvar output = compile(array, selectors, input, 0, 0)\n\n\t\t// execute plugins, post-process context\n\t\tif (plugged > 0) {\n\t\t\tresult = proxy(POSTS, output, selectors, selectors, line, column, output.length, 0, 0, 0)\n\n\t\t\t// bypass minification\n\t\t\tif (result !== void 0 && typeof(output = result) !== 'string') {\n\t\t\t\tcode = 0\n\t\t\t}\n\t\t}\n\n\t\t// reset\n\t\tkey = ''\n\t\tnscope = ''\n\t\tnscopealt = ''\n\t\tpattern = 0\n\t\tline = 1\n\t\tcolumn = 1\n\n\t\treturn compress*code === 0 ? output : minify(output)\n\t}\n\n\tstylis['use'] = use\n\tstylis['set'] = set\n\n\tif (options !== void 0) {\n\t\tset(options)\n\t}\n\n\treturn stylis\n}));\n","\r\rimport stylis from 'stylis';\r// stylis minify CSS and add vendor prefixes\r\rexport function processStyle(key, rules) {\r\r  if (key) return stylis(`.${key}`, rules);\r\r  // Inline styles does not need the class selector\r  const out = stylis('', rules);\r  return out.substr(1, out.length - 2);\r\r\r}\r","\rimport { processStyle } from './processStyle';\r\rexport function getClasses(registerNumber, componentStyles = {}) {\r\r  const styleKeys = Object.keys(componentStyles);\r  const mapping = {};\r\r  const rules = styleKeys.reduce((acum, key) => {\r    const newClassName = `${key}--${registerNumber}`;\r    mapping[key] = newClassName;\r    return `${acum}${processStyle(newClassName, componentStyles[key])}`;\r  }, '');\r\r\r  return {\r    rules,\r    mapping,\r  };\r\r}\r\r","\rimport { processStyle } from './processStyle';\r\rexport function getStyles(componentStyles = {}) {\r\r  const styleKeys = Object.keys(componentStyles);\r\r  // Return only inlineStyles to be attached to the component\r  return styleKeys.reduce((acum, key) => {\r    const isFunction = typeof componentStyles[key] === 'function';\r    return {\r      ...acum,\r      [key]: isFunction\r        ? (...args) => processStyle(null, componentStyles[key](...args))\r        : processStyle(null, componentStyles[key]),\r    };\r  }, {});\r\r}\r","\r\rimport { registerStyles } from './registerStyles';\rimport { getClasses } from './getClasses';\rimport { getStyles } from './getStyles';\r\r\rexport default {\r\r  registerStyles,\r  getClasses,\r  getStyles,\r\r};\r","\r\rexport function getFinalProps(args) {\r\r  const {\r    store,\r    componentDef,\r    classesMapping,\r    processedStyles,\r  } = args;\r\r  const {\r    state = () => ({}),\r    actions = () => ({}),\r  } = componentDef;\r\r  const classes = {\r    ...Object.keys(classesMapping).reduce((acum, key) => {\r      return { ...acum, [key]: classesMapping[key] };\r    }, {}),\r  };\r\r  return (props = {}) => {\r\r    return {\r      props,\r      state: state(props, store),\r      actions: actions(props, store),\r      styles: processedStyles,\r      classes,\r    };\r\r  };\r\r}\r\r","\r\rexport function getStore(Store, registerNumber) {\r\r  return {\r    alerts: Store.objects.alerts,\r    check: Store.methods.check,\r    toggle: Store.methods.toggle,\r    measure: Store.utils.measure,\r    set: Store.methods.set,\r    setItem: Store.methods.setItem,\r    call: Store.process.call,\r    get: Store.methods.get(registerNumber),\r    db: Store.db ? Store.db.query : () => undefined,\r  };\r\r}\r\r","\rimport styles from '../../styles';\r\rimport { getFinalProps } from './getFinalProps';\rimport { getStore } from './getStore';\r\rexport default (isBrowser, Store) => componentDef => {\r\r  const registerNumber = Store.methods.registerComponent(componentDef);\r  const processedClasses = styles.getClasses(registerNumber, componentDef.classes);\r  // Provoque Side Effect for classes styles\r  styles.registerStyles(isBrowser, registerNumber, processedClasses.rules);\r\r  const store = getStore(Store, registerNumber);\r  const processedStyles = styles.getStyles(componentDef.styles);\r\r  const solveProps = getFinalProps({\r    store,\r    componentDef,\r    classesMapping: processedClasses.mapping || {},\r    processedStyles,\r  });\r\r\r  return function renderComponent(props, children) {\r\r\r    // Called on inital render and every update\r    const render = () => {\r      const finalProps = solveProps(props);\r      const rendered = componentDef.render(finalProps, children);\r      return rendered;\r    };\r\r    // console.log('-------------------', component);\r    const rendered = render();\r\r    return rendered;\r\r  };\r\r};\r","\r\rimport createCustomHoc from './custom/create';\r\rexport function createHoc(isBrowser) {\r\r  return Store => {\r    return createCustomHoc(isBrowser, Store);\r  };\r\r}\r\r","\nconst unsafeCode = '@__unsafe__';\n\nfunction manageFunction(str) {\n  const indexOfHandler = str.indexOf('@');\n  return str.substr(0, indexOfHandler).trim();\n}\n\nfunction manageVal(leftValue, str) {\n  const isArray = Array.isArray(str);\n  if (isArray) return str.join('');\n  if (str.length === 0) {\n    if (leftValue.endsWith('=')) return '\"\"';\n    return '';\n  }\n  if (str.indexOf(unsafeCode) > -1) return str.replace(unsafeCode, '');\n  if (str.match(/\\r|\\n/)) return str;\n  return `\"${str}\"`;\n}\n\nexport const html = (fixed, ...dynamic) => {\n  return fixed.reduce((acum, value, i) => {\n    const dynVal = dynamic[i] || '';\n    const isFunction = typeof dynVal === 'function';\n    if (isFunction) return `${acum}${manageFunction(value)}`;\n    const valString = manageVal(value, String(dynVal));\n    return `${acum}${value}${valString}`.replace(/>\\s*,\\s*</, '><');\n\n  }, '');\n};\n\nexport const repeat = (data, key, render) => {\n  return data.map(render);\n};\n\nexport const guard = (item, render) => {\n  return render();\n};\n\nexport const unsafeHTML = htmlString => {\n  return `${unsafeCode}${htmlString.trim()}`;\n};\n\n// Not used in SSR\nexport const render = () => undefined;\n","\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<any, Boolean>();\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive so that lit-html will call the function\n * during template rendering, rather than passing as a value.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object\n *\n * @example\n *\n * ```\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n * ```\n */\nexport const directive = <F extends Function>(f: F): F =>\n    ((...args: any[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as unknown as F;\n\nexport const isDirective = (o: any) =>\n    typeof o === 'function' && directives.has(o);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as any).polyfillWrapFlushCallback !== undefined;\n\n/**\n * Reparents nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), into another container (could be the same container), before\n * `beforeNode`. If `beforeNode` is null, it appends the nodes to the\n * container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      let node = start;\n      while (node !== end) {\n        const n = node!.nextSibling;\n        container.insertBefore(node!, before as Node);\n        node = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), from `container`.\n */\nexport const removeNodes =\n    (container: Node, startNode: Node|null, endNode: Node|null = null):\n        void => {\n          let node = startNode;\n          while (node !== endNode) {\n            const n = node!.nextSibling;\n            container.removeChild(node!);\n            node = n;\n          }\n        };\n","/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  value: any;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: any): void;\n\n  /**\n   * Commits the current part value, cause it to actually be written to the DOM.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  parts: TemplatePart[] = [];\n  element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n    let index = -1;\n    let partIndex = 0;\n    const nodesToRemove: Node[] = [];\n    const _prepareTemplate = (template: HTMLTemplateElement) => {\n      const content = template.content;\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          content,\n          133 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT |\n                 NodeFilter.SHOW_TEXT */\n          ,\n          null as any,\n          false);\n      // The actual previous node, accounting for removals: if a node is removed\n      // it will never be the previousNode.\n      let previousNode: Node|undefined;\n      // Used to set previousNode at the top of the loop.\n      let currentNode: Node|undefined;\n      while (walker.nextNode()) {\n        index++;\n        previousNode = currentNode;\n        const node = currentNode = walker.currentNode as Element;\n        if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n          if (node.hasAttributes()) {\n            const attributes = node.attributes;\n            // Per\n            // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n            // attributes are not guaranteed to be returned in document order.\n            // In particular, Edge/IE can return them out of order, so we cannot\n            // assume a correspondance between part index and attribute index.\n            let count = 0;\n            for (let i = 0; i < attributes.length; i++) {\n              if (attributes[i].value.indexOf(marker) >= 0) {\n                count++;\n              }\n            }\n            while (count-- > 0) {\n              // Get the template literal section leading up to the first\n              // expression in this attribute\n              const stringForPart = result.strings[partIndex];\n              // Find the attribute name\n              const name = lastAttributeNameRegex.exec(stringForPart)![2];\n              // Find the corresponding attribute\n              // All bound attributes have had a suffix added in\n              // TemplateResult#getHTML to opt out of special attribute\n              // handling. To look up the attribute value we also need to add\n              // the suffix.\n              const attributeLookupName =\n                  name.toLowerCase() + boundAttributeSuffix;\n              const attributeValue = node.getAttribute(attributeLookupName)!;\n              const strings = attributeValue.split(markerRegex);\n              this.parts.push({type: 'attribute', index, name, strings});\n              node.removeAttribute(attributeLookupName);\n              partIndex += strings.length - 1;\n            }\n          }\n          if (node.tagName === 'TEMPLATE') {\n            _prepareTemplate(node as HTMLTemplateElement);\n          }\n        } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n          const nodeValue = node.nodeValue!;\n          if (nodeValue.indexOf(marker) < 0) {\n            continue;\n          }\n          const parent = node.parentNode!;\n          const strings = nodeValue.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // We have a part for each match found\n          partIndex += lastIndex;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            parent.insertBefore(\n                (strings[i] === '') ? createMarker() :\n                                      document.createTextNode(strings[i]),\n                node);\n            this.parts.push({type: 'node', index: index++});\n          }\n          parent.insertBefore(\n              strings[lastIndex] === '' ?\n                  createMarker() :\n                  document.createTextNode(strings[lastIndex]),\n              node);\n          nodesToRemove.push(node);\n        } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n          if (node.nodeValue === marker) {\n            const parent = node.parentNode!;\n            // Add a new marker node to be the startNode of the Part if any of\n            // the following are true:\n            //  * We don't have a previousSibling\n            //  * previousSibling is being removed (thus it's not the\n            //    `previousNode`)\n            //  * previousSibling is not a Text node\n            //\n            // TODO(justinfagnani): We should be able to use the previousNode\n            // here as the marker node and reduce the number of extra nodes we\n            // add to a template. See\n            // https://github.com/PolymerLabs/lit-html/issues/147\n            const previousSibling = node.previousSibling;\n            if (previousSibling === null || previousSibling !== previousNode ||\n                previousSibling.nodeType !== Node.TEXT_NODE) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            this.parts.push({type: 'node', index: index++});\n            nodesToRemove.push(node);\n            // If we don't have a nextSibling add a marker node.\n            // We don't have to check if the next node is going to be removed,\n            // because that node will induce a new marker if so.\n            if (node.nextSibling === null) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            currentNode = previousNode;\n            partIndex++;\n          } else {\n            let i = -1;\n            while ((i = node.nodeValue!.indexOf(marker, i + 1)) !== -1) {\n              // Comment node has a binding marker inside, make an inactive part\n              // The binding won't work, but subsequent bindings will\n              // TODO (justinfagnani): consider whether it's even worth it to\n              // make bindings in comments work\n              this.parts.push({type: 'node', index: -1});\n            }\n          }\n        }\n      }\n    };\n    _prepareTemplate(element);\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  type: 'node',\n  index: number\n}|{type: 'attribute', index: number, name: string, strings: string[]};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#attributes-0\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-character\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \\x09\\x0a\\x0c\\x0d\"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  _parts: Array<Part|undefined> = [];\n  processor: TemplateProcessor;\n  options: RenderOptions;\n  template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: any[]) {\n    let i = 0;\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // When using the Custom Elements polyfill, clone the node, rather than\n    // importing it, to keep the fragment in the template's document. This\n    // leaves the fragment inert so custom elements won't upgrade and\n    // potentially modify their contents by creating a polyfilled ShadowRoot\n    // while we traverse the tree.\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const parts = this.template.parts;\n    let partIndex = 0;\n    let nodeIndex = 0;\n    const _prepareInstance = (fragment: DocumentFragment) => {\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          fragment,\n          133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n          null as any,\n          false);\n      let node = walker.nextNode();\n      // Loop through all the nodes and parts of a template\n      while (partIndex < parts.length && node !== null) {\n        const part = parts[partIndex];\n        // Consecutive Parts may have the same node index, in the case of\n        // multiple bound attributes on an element. So each iteration we either\n        // increment the nodeIndex, if we aren't on a node with a part, or the\n        // partIndex if we are. By not incrementing the nodeIndex when we find a\n        // part, we allow for the next part to be associated with the current\n        // node if neccessasry.\n        if (!isTemplatePartActive(part)) {\n          this._parts.push(undefined);\n          partIndex++;\n        } else if (nodeIndex === part.index) {\n          if (part.type === 'node') {\n            const part = this.processor.handleTextExpression(this.options);\n            part.insertAfterNode(node);\n            this._parts.push(part);\n          } else {\n            this._parts.push(...this.processor.handleAttributeExpressions(\n                node as Element, part.name, part.strings, this.options));\n          }\n          partIndex++;\n        } else {\n          nodeIndex++;\n          if (node.nodeName === 'TEMPLATE') {\n            _prepareInstance((node as HTMLTemplateElement).content);\n          }\n          node = walker.nextNode();\n        }\n      }\n    };\n    _prepareInstance(fragment);\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  strings: TemplateStringsArray;\n  values: any[];\n  type: string;\n  processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: any[], type: string,\n      processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const endIndex = this.strings.length - 1;\n    let html = '';\n    for (let i = 0; i < endIndex; i++) {\n      const s = this.strings[i];\n      // This replace() call does two things:\n      // 1) Appends a suffix to all bound attribute names to opt out of special\n      // attribute value parsing that IE11 and Edge do, like for style and\n      // many SVG attributes. The Template class also appends the same suffix\n      // when looking up attributes to creat Parts.\n      // 2) Adds an unquoted-attribute-safe marker for the first expression in\n      // an attribute. Subsequent attribute expressions will use node markers,\n      // and this is safe since attributes with multiple expressions are\n      // guaranteed to be quoted.\n      let addedMarker = false;\n      html += s.replace(\n          lastAttributeNameRegex, (_match, whitespace, name, value) => {\n            addedMarker = true;\n            return whitespace + name + boundAttributeSuffix + value + marker;\n          });\n      if (!addedMarker) {\n        html += nodeMarker;\n      }\n    }\n    return html + this.strings[endIndex];\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTMl in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\nexport const isPrimitive = (value: any) =>\n    (value === null ||\n     !(typeof value === 'object' || typeof value === 'function'));\n\n/**\n * Sets attribute values for AttributeParts, so that the value is only set once\n * even if there are multiple parts for an attribute.\n */\nexport class AttributeCommitter {\n  element: Element;\n  name: string;\n  strings: string[];\n  parts: AttributePart[];\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      this.parts[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): any {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (v != null &&\n            (Array.isArray(v) || typeof v !== 'string' && v[Symbol.iterator])) {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        } else {\n          text += typeof v === 'string' ? v : String(v);\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue());\n    }\n  }\n}\n\nexport class AttributePart implements Part {\n  committer: AttributeCommitter;\n  value: any = undefined;\n\n  constructor(comitter: AttributeCommitter) {\n    this.committer = comitter;\n  }\n\n  setValue(value: any): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\nexport class NodePart implements Part {\n  options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Inserts this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part between `ref` and `ref`'s next sibling. Both `ref` and\n   * its next sibling must be static, unchanging nodes such as those that appear\n   * in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part._insert(this.startNode = createMarker());\n    part._insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Appends this part after `ref`\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref._insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    const value = this._pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this._commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this._commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this._commitNode(value);\n    } else if (Array.isArray(value) || value[Symbol.iterator]) {\n      this._commitIterable(value);\n    } else {\n      // Fallback, will render the string representation\n      this._commitText(value);\n    }\n  }\n\n  private _insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private _commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this._insert(value);\n    this.value = value;\n  }\n\n  private _commitText(value: string): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === Node.TEXT_NODE) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      node.textContent = value;\n    } else {\n      this._commitNode(document.createTextNode(\n          typeof value === 'string' ? value : String(value)));\n    }\n    this.value = value;\n  }\n\n  private _commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value && this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this._commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private _commitIterable(value: any): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart!.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  element: Element;\n  name: string;\n  strings: string[];\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n    const value = !!this._pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n    }\n    this.value = value;\n    this._pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  single: boolean;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  window.addEventListener('test', options as any, options);\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\nexport class EventPart implements Part {\n  element: Element;\n  eventName: string;\n  eventContext?: EventTarget;\n  value: any = undefined;\n  _options?: AddEventListenerOptions;\n  _pendingValue: any = undefined;\n  _boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this._boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this._pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    if (shouldAddListener) {\n      this._options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    this.value = newListener;\n    this._pendingValue = noChange;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      this.value.handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: any) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): Part[] {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const comitter = new PropertyCommitter(element, name.slice(1), strings);\n      return comitter.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const comitter = new AttributeCommitter(element, name, strings);\n    return comitter.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  stringsArray: WeakMap<TemplateStringsArray, Template>;\n  keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\nimport {TemplateResult} from './template-result.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: any[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: any[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {DirectiveFn} from '../lib/directive.js';\nimport {createMarker, directive, NodePart, Part, removeNodes, reparentNodes} from '../lit-html.js';\n\nexport type KeyFn<T> = (item: T, index: number) => any;\nexport type ItemTemplate<T> = (item: T, index: number) => any;\n\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart =\n    (containerPart: NodePart, beforePart?: NodePart): NodePart => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = beforePart === undefined ? containerPart.endNode :\n                                                    beforePart.startNode;\n      const startNode = container.insertBefore(createMarker(), beforeNode);\n      container.insertBefore(createMarker(), beforeNode);\n      const newPart = new NodePart(containerPart.options);\n      newPart.insertAfterNode(startNode);\n      return newPart;\n    };\n\nconst updatePart = (part: NodePart, value: unknown) => {\n  part.setValue(value);\n  part.commit();\n  return part;\n};\n\nconst insertPartBefore =\n    (containerPart: NodePart, part: NodePart, ref?: NodePart) => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = ref ? ref.startNode : containerPart.endNode;\n      const endNode = part.endNode.nextSibling;\n      if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n      }\n    };\n\nconst removePart = (part: NodePart) => {\n  removeNodes(\n      part.startNode.parentNode!, part.startNode, part.endNode.nextSibling);\n};\n\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list: unknown[], start: number, end: number) => {\n  const map = new Map();\n  for (let i = start; i <= end; i++) {\n    map.set(list[i], i);\n  }\n  return map;\n};\n\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap<NodePart, (NodePart | null)[]>();\nconst keyListCache = new WeakMap<NodePart, unknown[]>();\n\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * amd removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat = directive(\n    <T>(items: Iterable<T>,\n        keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n        template?: ItemTemplate<T>): DirectiveFn => {\n      let keyFn: KeyFn<T>;\n      if (template === undefined) {\n        template = keyFnOrTemplate;\n      } else if (keyFnOrTemplate !== undefined) {\n        keyFn = keyFnOrTemplate as KeyFn<T>;\n      }\n\n      return (containerPart: Part): void => {\n        if (!(containerPart instanceof NodePart)) {\n          throw new Error('repeat can only be used in text bindings');\n        }\n        // Old part & key lists are retrieved from the last update (associated\n        // with the part for this instance of the directive)\n        const oldParts = partListCache.get(containerPart) || [];\n        const oldKeys = keyListCache.get(containerPart) || [];\n\n        // New part list will be built up as we go (either reused from old parts\n        // or created for new keys in this update). This is saved in the above\n        // cache at the end of the update.\n        const newParts: NodePart[] = [];\n\n        // New value list is eagerly generated from items along with a parallel\n        // array indicating its key.\n        const newValues: unknown[] = [];\n        const newKeys: unknown[] = [];\n        let index = 0;\n        for (const item of items) {\n          newKeys[index] = keyFn ? keyFn(item, index) : index;\n          newValues[index] = template !(item, index);\n          index++;\n        }\n\n        // Maps from key to index for current and previous update; these are\n        // generated lazily only when needed as a performance optimization,\n        // since they are only required for multiple non-contiguous changes in\n        // the list, which are less common.\n        let newKeyToIndexMap!: Map<unknown, number>;\n        let oldKeyToIndexMap!: Map<unknown, number>;\n\n        // Head and tail pointers to old parts and new values\n        let oldHead = 0;\n        let oldTail = oldParts.length - 1;\n        let newHead = 0;\n        let newTail = newValues.length - 1;\n\n        // Overview of O(n) reconciliation algorithm (general approach based on\n        // ideas found in ivi, vue, snabbdom, etc.):\n        //\n        // * We start with the list of old parts and new values (and arrays of\n        //   their respective keys), head/tail pointers into each, and we build\n        //   up the new list of parts by updating (and when needed, moving) old\n        //   parts or creating new ones. The initial scenario might look like\n        //   this (for brevity of the diagrams, the numbers in the array reflect\n        //   keys associated with the old parts or new values, although keys and\n        //   parts/values are actually stored in parallel arrays indexed using\n        //   the same head/tail pointers):\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new item\n        //   order\n        //      newHead ^                 ^ newTail\n        //\n        // * Iterate old & new lists from both sides, updating, swapping, or\n        //   removing parts at the head/tail locations until neither head nor\n        //   tail can move.\n        //\n        // * Example below: keys at head pointers match, so update old part 0\n        // in-\n        //   place (no need to move it) and record part 0 in the `newParts`\n        //   list. The last thing we do is advance the `oldHead` and `newHead`\n        //   pointers (will be reflected in the next diagram).\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance both oldHead & newHead\n        //      newHead ^                 ^ newTail\n        //\n        // * Example below: head pointers don't match, but tail pointers do, so\n        //   update part 6 in place (no need to move it), and record part 6 in\n        //   the `newParts` list. Last, advance the `oldTail` and `oldHead`\n        //   pointers.\n        //\n        //         oldHead v              v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance both oldTail & newTail\n        //         newHead ^              ^ newTail\n        //\n        // * If neither head nor tail match; next check if one of the old\n        // head/tail\n        //   items was removed. We first need to generate the reverse map of new\n        //   keys to index (`newKeyToIndexMap`), which is done once lazily as a\n        //   performance optimization, since we only hit this case if multiple\n        //   non-contiguous changes were made. Note that for contiguous removal\n        //   anywhere in the list, the head and tails would advance from either\n        //   end and pass each other before we get to this case and removals\n        //   would be handled in the final while loop without needing to\n        //   generate the map.\n        //\n        // * Example below: The key at `oldTail` was removed (no longer in the\n        //   `newKeyToIndexMap`), so remove that part from the DOM and advance\n        //   just the `oldTail` pointer.\n        //\n        //         oldHead v           v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map; remove 5 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance oldTail\n        //         newHead ^           ^ newTail\n        //\n        // * Once head and tail cannot move, any mismatches are due to either\n        // new or\n        //   moved items; if a new key is in the previous \"old key to old index\"\n        //   map, move the old part to the new location, otherwise create and\n        //   insert a new part. Note that when moving an old part we null its\n        //   position in the oldParts array if it lies between the head and tail\n        //   so we know to skip it when the pointers get there.\n        //\n        // * Example below: neither head nor tail match, and neither were\n        // removed;\n        //   so find the `newHead` key in the `oldKeyToIndexMap`, and move that\n        //   old part's DOM into the next head position (before\n        //   `oldParts[oldHead]`). Last, null the part in the `oldPart` array\n        //   since it was somewhere in the remaining oldParts still to be\n        //   scanned (between the head and tail pointers) so that we know to\n        //   skip that old part on future iterations.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck; update & move 2 into\n        //   place newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance newHead\n        //         newHead ^           ^ newTail\n        //\n        // * Note that for moves/insertions like the one above, a part inserted\n        // at\n        //   the head pointer is inserted before the current\n        //   `oldParts[oldHead]`, and a part inserted at the tail pointer is\n        //   inserted before `newParts[newTail+1]`. The seeming asymmetry lies\n        //   in the fact that new parts are moved into place outside in, so to\n        //   the right of the head pointer are old parts, and to the right of\n        //   the tail pointer are new parts.\n        //\n        // * We always restart back from the top of the algorithm, allowing\n        // matching\n        //   and simple updates in place to continue...\n        //\n        // * Example below: the head pointers once again match, so simply update\n        //   part 1 and record it in the `newParts` array.  Last, advance both\n        //   head pointers.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched; update 1 and\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    advance both oldHead & newHead\n        //            newHead ^        ^ newTail\n        //\n        // * As mentioned above, items that were moved as a result of being\n        // stuck\n        //   (the final else clause in the code below) are marked with null, so\n        //   we always advance old pointers over these so we're comparing the\n        //   next actual old value on either end.\n        //\n        // * Example below: `oldHead` is null (already placed in newParts), so\n        //   advance `oldHead`.\n        //\n        //            oldHead v     v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] // old head already used; advance\n        //   newParts: [0, 2, 1,  ,  ,  , 6] // oldHead\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //               newHead ^     ^ newTail\n        //\n        // * Note it's not critical to mark old parts as null when they are\n        // moved\n        //   from head to tail or tail to head, since they will be outside the\n        //   pointer range and never visited again.\n        //\n        // * Example below: Here the old tail key matches the new head key, so\n        //   the part at the `oldTail` position and move its DOM to the new\n        //   head position (before `oldParts[oldHead]`). Last, advance `oldTail`\n        //   and `newHead` pointers.\n        //\n        //               oldHead v  v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new head:\n        //   update newKeys:  [0, 2, 1, 4, 3, 7, 6]   & move 4, advance oldTail\n        //   & newHead\n        //               newHead ^     ^ newTail\n        //\n        // * Example below: Old and new head keys match, so update the old head\n        //   part in place, and advance the `oldHead` and `newHead` pointers.\n        //\n        //               oldHead v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3 and\n        //   advance newKeys:  [0, 2, 1, 4, 3, 7, 6]    oldHead & newHead\n        //                  newHead ^  ^ newTail\n        //\n        // * Once the new or old pointers move past each other then all we have\n        //   left is additions (if old list exhausted) or removals (if new list\n        //   exhausted). Those are handled in the final while loops at the end.\n        //\n        // * Example below: `oldHead` exceeded `oldTail`, so we're done with the\n        //   main loop.  Create the remaining part and insert it at the new head\n        //   position, and the update is complete.\n        //\n        //                   (oldHead > oldTail)\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //                     newHead ^ newTail\n        //\n        // * Note that the order of the if/else clauses is not important to the\n        //   algorithm, as long as the null checks come first (to ensure we're\n        //   always working on valid old parts) and that the final else clause\n        //   comes last (since that's where the expensive moves occur). The\n        //   order of remaining clauses is is just a simple guess at which cases\n        //   will be most common.\n        //\n        // * TODO(kschaaf) Note, we could calculate the longest increasing\n        //   subsequence (LIS) of old items in new position, and only move those\n        //   not in the LIS set. However that costs O(nlogn) time and adds a bit\n        //   more code, and only helps make rare types of mutations require\n        //   fewer moves. The above handles removes, adds, reversal, swaps, and\n        //   single moves of contiguous items in linear time, in the minimum\n        //   number of moves. As the number of multiple moves where LIS might\n        //   help approaches a random shuffle, the LIS optimization becomes less\n        //   helpful, so it seems not worth the code at this point. Could\n        //   reconsider if a compelling case arises.\n\n        while (oldHead <= oldTail && newHead <= newTail) {\n          if (oldParts[oldHead] === null) {\n            // `null` means old part at head has already been used below; skip\n            oldHead++;\n          } else if (oldParts[oldTail] === null) {\n            // `null` means old part at tail has already been used below; skip\n            oldTail--;\n          } else if (oldKeys[oldHead] === newKeys[newHead]) {\n            // Old head matches new head; update in place\n            newParts[newHead] =\n                updatePart(oldParts[oldHead]!, newValues[newHead]);\n            oldHead++;\n            newHead++;\n          } else if (oldKeys[oldTail] === newKeys[newTail]) {\n            // Old tail matches new tail; update in place\n            newParts[newTail] =\n                updatePart(oldParts[oldTail]!, newValues[newTail]);\n            oldTail--;\n            newTail--;\n          } else if (oldKeys[oldHead] === newKeys[newTail]) {\n            // Old head matches new tail; update and move to new tail\n            newParts[newTail] =\n                updatePart(oldParts[oldHead]!, newValues[newTail]);\n            insertPartBefore(\n                containerPart, oldParts[oldHead]!, newParts[newTail + 1]);\n            oldHead++;\n            newTail--;\n          } else if (oldKeys[oldTail] === newKeys[newHead]) {\n            // Old tail matches new head; update and move to new head\n            newParts[newHead] =\n                updatePart(oldParts[oldTail]!, newValues[newHead]);\n            insertPartBefore(\n                containerPart, oldParts[oldTail]!, oldParts[oldHead]!);\n            oldTail--;\n            newHead++;\n          } else {\n            if (newKeyToIndexMap === undefined) {\n              // Lazily generate key-to-index maps, used for removals & moves\n              // below\n              newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n              oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n            }\n            if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n              // Old head is no longer in new list; remove\n              removePart(oldParts[oldHead]!);\n              oldHead++;\n            } else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n              // Old tail is no longer in new list; remove\n              removePart(oldParts[oldTail]!);\n              oldTail--;\n            } else {\n              // Any mismatches at this point are due to additions or moves; see\n              // if we have an old part we can reuse and move into place\n              const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n              const oldPart =\n                  oldIndex !== undefined ? oldParts[oldIndex] : null;\n              if (oldPart === null) {\n                // No old part for this value; create a new one and insert it\n                const newPart =\n                    createAndInsertPart(containerPart, oldParts[oldHead]!);\n                updatePart(newPart, newValues[newHead]);\n                newParts[newHead] = newPart;\n              } else {\n                // Reuse old part\n                newParts[newHead] = updatePart(oldPart, newValues[newHead]);\n                insertPartBefore(containerPart, oldPart, oldParts[oldHead]!);\n                // This marks the old part as having been used, so that it will\n                // be skipped in the first two checks above\n                oldParts[oldIndex as number] = null;\n              }\n              newHead++;\n            }\n          }\n        }\n        // Add parts for any remaining new values\n        while (newHead <= newTail) {\n          // For all remaining additions, we insert before last new tail,\n          // since old pointers are no longer valid\n          const newPart =\n              createAndInsertPart(containerPart, newParts[newTail + 1]!);\n          updatePart(newPart, newValues[newHead]);\n          newParts[newHead++] = newPart;\n        }\n        // Remove any remaining unused old parts\n        while (oldHead <= oldTail) {\n          const oldPart = oldParts[oldHead++];\n          if (oldPart !== null) {\n            removePart(oldPart);\n          }\n        }\n        // Save order of new parts for next round\n        partListCache.set(containerPart, newParts);\n        keyListCache.set(containerPart, newKeys);\n      };\n    });\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {directive, Part} from '../lit-html.js';\n\nconst previousValues = new WeakMap<Part, unknown>();\n\n/**\n * Prevents re-render of a template function until a single value or an array of\n * values changes.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([user.id, company.id], () => html`...`)}\n *   </div>\n * ```\n *\n * In this case, the template only renders if either `user.id` or `company.id`\n * changes.\n *\n * guard() is useful with immutable data patterns, by preventing expensive work\n * until data updates.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([immutableItems], () => immutableItems.map(i => html`${i}`))}\n *   </div>\n * ```\n *\n * In this case, items are mapped over only when the array reference changes.\n *\n * @param value the value to check before re-rendering\n * @param f the template function\n */\nexport const guard =\n    directive((value: unknown, f: () => unknown) => (part: Part): void => {\n      const previousValue = previousValues.get(part);\n      if (Array.isArray(value)) {\n        // Dirty-check arrays by item\n        if (Array.isArray(previousValue) &&\n            previousValue.length === value.length &&\n            value.every((v, i) => v === previousValue[i])) {\n          return;\n        }\n      } else if (\n          previousValue === value &&\n          (value !== undefined || previousValues.has(part))) {\n        // Dirty-check non-arrays by identity\n        return;\n      }\n\n      part.setValue(f());\n      // Copy the value if it's an array so that if it's mutated we don't forget\n      // what the previous values were.\n      previousValues.set(\n          part, Array.isArray(value) ? Array.from(value) : value);\n    });\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {directive, isPrimitive, NodePart, Part} from '../lit-html.js';\n\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\n\nconst previousValues = new WeakMap<NodePart, string>();\n\nexport const unsafeHTML = directive((value: any) => (part: Part): void => {\n  if (!(part instanceof NodePart)) {\n    throw new Error('unsafeHTML can only be used in text bindings');\n  }\n  // Dirty check primitive values\n  const previousValue = previousValues.get(part);\n  if (previousValue === value && isPrimitive(value)) {\n    return;\n  }\n\n  // Use a <template> to parse HTML into Nodes\n  const tmp = document.createElement('template');\n  tmp.innerHTML = value;\n  part.setValue(document.importNode(tmp.content, true));\n  previousValues.set(part, value);\n});\n","\nimport { createHoc } from './hoc/createHoc';\nimport * as litHtmlServer from './lit-html-server';\n\nexport default isBrowser => {\n\n  if (isBrowser) {\n    return {\n      html: require('lit-html').html,\n      render: require('lit-html').render,\n      repeat: require('lit-html/directives/repeat.js').repeat,\n      guard: require('lit-html/directives/guard.js').guard,\n      unsafeHTML: require('lit-html/directives/unsafe-html.js').unsafeHTML,\n      createHoc: createHoc(true),\n    };\n  }\n\n  return {\n    html: litHtmlServer.html,\n    render: litHtmlServer.render,\n    repeat: litHtmlServer.repeat,\n    guard: litHtmlServer.guard,\n    unsafeHTML: litHtmlServer.unsafeHTML,\n    createHoc: createHoc(false),\n  };\n\n};\n\n","\r\rexport function get(Store) {\r\r  return registerNumber => field => {\r    Store.methods.subscribe(registerNumber, field);\r    return Store.objects.observables[field];\r  };\r\r}\r\r\r","\rexport function subscribe(Store) {\r\r  return (registerNumber, observable) => {\r    const findListener = Store.objects.listeners.find(item => item.observable === observable);\r    if (!findListener) return console.log(`Listener not found on observable ${observable}`);\r    const currentListeners = findListener.components;\r    const isSubscribed = currentListeners.find(item => item.registerNumber === registerNumber);\r    if (!isSubscribed) currentListeners.push({ registerNumber });\r  };\r\r}\r\r\r","\r\rconst isPlainValue = v => ([ 'string', 'number', 'boolean' ].includes(typeof v));\rconst wasChanged = (v1, v2) => (v1 !== v2);\r\rexport function set(Store) {\r\r  return object => {\r\r    if (!object) return;\r\r    Object.keys(object).forEach(key => {\r\r      const previousValue = Store.objects.observables[key];\r      const previousValueClone = Array.isArray(previousValue)\r        ? [ ...previousValue ]\r        : typeof previousValue === 'object'\r          ? { ...previousValue }\r          : previousValue;\r\r      const nextValue = typeof object[key] === 'function'\r        ? object[key](previousValueClone)\r        : object[key];\r\r      if (typeof previousValue !== typeof nextValue) {\r        console.warn(`Type does not match previous type in ${key}`);\r      } else {\r        const shouldNotify = !isPlainValue(nextValue) ||\r          (isPlainValue(nextValue) && wasChanged(previousValue, nextValue));\r        if (shouldNotify) {\r          Store.objects.observables[key] = nextValue;\r          Store.methods.notify(key);\r        }\r      }\r\r    });\r  };\r\r}\r\r","\r\r\rexport function setItem(Store) {\r\r  return (observable, item) => {\r    const findIndex = Store.objects.observables[observable].findIndex(x => x.id === item.id);\r    Store.objects.observables[observable][findIndex] = item;\r    Store.methods.notify(observable);\r  };\r\r}\r\r","\r\rexport function toggle(Store) {\r\r  return (observable, cb) => {\r    const currentValue = Store.objects.observables[observable];\r    if (typeof currentValue === 'undefined') {\r      console.warn(`Observable [${observable}] does not exists.`);\r    } else if (typeof currentValue !== 'boolean') {\r      console.warn(`Observable [${observable}] is not a boolean.`);\r    } else {\r      Store.methods.set({ [observable]: !currentValue });\r      if (cb) cb(!currentValue);\r    }\r  };\r\r}\r\r\r","\r\rexport function notify(Store) {\r\r  return observable => {\r\r    // Notify computed\r    if (observable) {\r      Object.keys(Store.objects.computed).forEach(key => {\r        const { take } = Store.objects.computed[key];\r        if (take.includes(observable)) Store.methods.compute(key);\r      });\r    }\r\r    // Notify components\r    if (Store.flags.IS_MOUNTED) Store.methods.render();\r    // const findListener = Store.objects.listeners.find(item => item.observable === observable);\r    // if (findListener && findListener.components) {\r    //   findListener.components.forEach(item => {\r    //     const { registerNumber } = item;\r    //     const componentDefinition = Store.objects.components[registerNumber];\r    //     componentDefinition.definition._render();\r    //   });\r    // }\r\r  };\r\r}\r\r","\r\rexport function compute(Store) {\r\r  return key => {\r    const { take, calc } = Store.objects.computed[key];\r    const values = take.map(field => Store.objects.observables[field]);\r    Store.objects.observables[key] = calc(...values);\r  };\r\r}\r\r","\r\rexport function computeAll(Store) {\r\r  return () => {\r    Object.keys(Store.objects.computed).forEach(key => {\r      Store.methods.compute(key);\r    });\r  };\r\r}\r\r","\r\rexport function emit(Store) {\r\r  return (eventStr, cbProps) => {\r\r    if (eventStr === 'MOUNTED') Store.flags.IS_MOUNTED = true;\r\r    const reactions = Store.objects.reactions.filter(item => {\r      if (item.keepAlive) return item.eventStr === eventStr;\r      return item.eventStr === eventStr && !item.done;\r    });\r\r    reactions.forEach(reaction => {\r      reaction.done = true;\r      reaction.callback(cbProps);\r    });\r  };\r\r}\r\r","\rlet currentRegisterNumber = 1000;\r\rexport function registerComponent(Store) {\r\r  return componentDef => {\r    currentRegisterNumber++;\r    Store.objects.components[currentRegisterNumber] = {\r      definition: componentDef,\r      instances: {},\r    };\r    return currentRegisterNumber;\r  };\r\r\r}\r\r\r","\r\rexport function on(Store) {\r\r  return (eventStr, callback) => {\r    Store.objects.reactions.push({ eventStr, callback, keepAlive: true });\r  };\r\r}\r\r","\r\rexport function once(Store) {\r\r  return (eventStr, callback) => {\r    Store.objects.reactions.push({ eventStr, callback, done: false });\r  };\r\r}\r\r","\r\rexport function render(Store, renderer) {\r\r  return (Comp, props = {}, node = 'root') => {\r\r    // console.log(\"render ------------------------------->\", Comp, props, node);\r\r    if (!Store.objects.defaultComponent) Store.objects.defaultComponent = () => Comp(props);\r    const isString = typeof node === 'string';\r    const parentNode = isString ? document.getElementById(node) : node;\r    const Component = Comp || Store.objects.defaultComponent;\r    renderer(Component(props), parentNode);\r\r  };\r\r}\r\r","\r// import _ from '/framework/belt';\r\rexport function check(Store, checks) {\r\r  return (name, str) => {\r\r    const { result, message } = checks[name](str);\r    return { result, message };\r\r  };\r\r}\r","\r\rexport function alertOn(Store, alerts) {\r\r  return (obj = {}) => {\r\r    const rand1000 = Math.floor(1000 * Math.random());\r    const timestamp = Date.now();\r    const _id = `${timestamp}--${rand1000}`;\r\r    const message = obj.name ? alerts[obj.name] : obj.name;\r\r    Store.objects.alerts.push({\r      _id,\r      ...obj,\r      message,\r      timestamp,\r      isVisible: true,\r    });\r\r    // Maybe later we are going to notify only the exact component using alerts\r    Store.methods.notify(null);\r\r    if (obj.timeout) {\r      setTimeout(() => {\r        Store.methods.alertOff({ _id });\r      }, obj.timeout);\r    }\r\r  };\r\r}\r","\rexport function alertOff(Store) {\r\r  return ({ _id }) => {\r    const findAlert = Store.objects.alerts.find(item => item._id === _id);\r\r    if (findAlert) {\r      findAlert.isVisible = false;\r      // Maybe later we are going to notify only the exact component using alerts\r      Store.methods.notify(null);\r    }\r\r  };\r\r}\r","\r\rexport function callServerMethod(siteUrl) {\r\r  return (method, args = {}) => {\r\r    // For each query string parameter sent, add it to the path\r    // const requestUrl = Object.keys(queryStringObject).reduce((acum, key, index) => {\r    //   const queryStr = `${key}=${queryStringObject[key]}`;\r    //   if (index === 0) return `${acum}?${queryStr}`;\r    //   return `${acum}&${queryStr}`;\r    // }, `${baseUrl}/${path}`);\r\r    return new Promise((resolve, reject) => {\r\r      // Form the http request as a JSON type\r      const xhr = new window.XMLHttpRequest();\r      xhr.open('POST', `${siteUrl}/api/methods`, true);\r      xhr.setRequestHeader('Content-type', 'application/json');\r\r      // For each header sent, add it to the request\r      // Object.keys(headers).forEach(key => {\r      //   xhr.setRequestHeader(key, headers[key]);\r      // });\r\r      // When the request comes back, handle the response\r      xhr.onreadystatechange = () => {\r        if (xhr.readyState === window.XMLHttpRequest.DONE) {\r\r          const statusCode = xhr.status;\r          if (![ 200, 201 ].includes(statusCode)) reject('XHR request failed');\r\r          const responseReturned = xhr.responseText;\r          resolve(JSON.parse(responseReturned));\r\r        }\r      };\r\r      // Send the payload as JSON\r      const payloadString = JSON.stringify({ method, args });\r      xhr.send(payloadString);\r\r    });\r\r  };\r\r}\r\r","\rexport function getDataFromServer(Store) {\r\r  return args => {\r\r    const {\r      instance = null,\r      user_id,\r      lastTimestamp = 0,\r      localEntitiesIds = [],\r    } = args;\r\r    const requestArgs = {\r      user_id,\r      lastTimestamp,\r      localEntitiesIds,\r    };\r\r    return new Promise((resolve, reject) => {\r\r      // Special method available ony for internal libs\r      Store.methods.callServerMethod('@server-model.getData', requestArgs)\r      .then(items => {\r        if (!items) reject('Could not get data from server');\r        const newTimestamp = Date.now();\r        resolve({ instance, items, newTimestamp });\r      })\r      .catch(reject);\r\r    });\r\r  };\r\r}\r","\r\rexport function syncDataToDB({ instance, items, newTimestamp }) {\r\r  let counter = 0;\r  return new Promise(resolve => {\r\r    if (items.length === 0) resolve({ instance, counter, newTimestamp });\r\r    const modelStore = instance.transaction([ 'model' ], 'readwrite').objectStore('model');\r    const requestPrevRecords = modelStore.getAll();\r\r    requestPrevRecords.onsuccess = () => {\r      const previousRecords = requestPrevRecords.result;\r\r      items.forEach(item => {\r\r        if (item.attrs.length > 0) {\r          const findRecord = previousRecords.find(rec => rec._id === item._id);\r          const putRequest = modelStore.put({\r            _id: item._id,\r            domain: item.domain,\r            attrs: findRecord ? [\r              ...findRecord.attrs,\r              ...item.attrs,\r            ] : item.attrs,\r          });\r\r          putRequest.onsuccess = () => {\r            counter++;\r            if (counter === items.length) resolve({ instance, counter, newTimestamp });\r          };\r        }\r\r      });\r    };\r\r  });\r\r\r}\r\r","\rexport function getDBMetadata({ instance, user_id }) {\r\r  return new Promise((resolve, reject) => {\r\r    const controlStore = instance.transaction('control').objectStore('control');\r    const requestControlRecords = controlStore.getAll();\r\r\r    requestControlRecords.onsuccess = () => {\r      const controlRecords = requestControlRecords.result || [];\r      const lastTimestamp = controlRecords.length > 0\r        ? controlRecords[controlRecords.length - 1].lastTimestamp\r        : 0;\r\r      const modelStore = instance.transaction('model').objectStore('model');\r      const requestModelKeys = modelStore.getAllKeys();\r\r      requestModelKeys.onsuccess = () => {\r        const localEntitiesIds = requestModelKeys.result || [];\r        resolve({\r          instance,\r          user_id,\r          lastTimestamp,\r          localEntitiesIds,\r        });\r      };\r\r      requestModelKeys.onerror = () => reject('Error getting Model Keys');\r\r    };\r\r    requestControlRecords.onerror = () => reject('Error getting Control Records');\r\r  });\r\r\r}\r\r","\r\rexport function updateDBControl({ instance, counter, newTimestamp }) {\r\r  return new Promise(resolve => {\r\r    const controlStore = instance.transaction([ 'control' ], 'readwrite').objectStore('control');\r\r    const putRequest = controlStore.put({\r      _id: newTimestamp,\r      lastTimestamp: newTimestamp,\r      counter,\r    });\r\r    putRequest.onsuccess = () => {\r      resolve({ instance });\r    };\r\r\r  });\r\r\r}\r\r","\r\rexport function getModelData({ instance }) {\r\r  return new Promise(resolve => {\r\r    const modelStore = instance.transaction('model').objectStore('model');\r    const requestRecords = modelStore.getAll();\r\r    requestRecords.onsuccess = () => {\r      return resolve(requestRecords.result);\r    };\r\r  });\r\r\r}\r\r","\rimport { getDataFromServer } from './getDataFromServer';\rimport { syncDataToDB } from './syncDataToDB';\rimport { getDBMetadata } from './getDBMetadata';\rimport { updateDBControl } from './updateDBControl';\rimport { getModelData } from './getModelData';\r\rexport function start(Store, { name, version, user_id }) {\r\r  const indexedDB = window.indexedDB ||\r    window.mozIndexedDB ||\r    window.webkitIndexedDB ||\r    window.msIndexedDB;\r\r  // No indexedDB, we just request all data always\r  if (!indexedDB) {\r    return new Promise((resolve, reject) => {\r      getDataFromServer({ user_id })\r      .then(({ items }) => resolve(items))\r      .catch(reject);\r    });\r  }\r\r  return new Promise((resolve, reject) => {\r\r    const request = indexedDB.open(name, version);\r    request.onsuccess = () => resolve({ instance: request.result, user_id });\r    request.onerror = () => reject(request.error);\r\r    request.onupgradeneeded = e => {\r      const instance = e.target.result;\r      instance.model = instance.createObjectStore('model', { keyPath: '_id' });\r      instance.control = instance.createObjectStore('control', { keyPath: '_id' });\r    };\r\r  })\r  .then(getDBMetadata)\r  .then(getDataFromServer(Store))\r  .then(syncDataToDB)\r  .then(updateDBControl)\r  .then(getModelData)\r  .catch(console.log);\r\r}\r\r","\r\rfunction getCurrentAttrs(attrs) {\r  return attrs.reduce((acum, item) => {\r    const { key, value, timestamp } = item;\r    /*\r      value:\r        is always what is displayed at the UI, used in calculations, etc.\r        can be in 2 status\r\r      status:\r        0: value is \"optimistic\" and has not been validated yet by the server\r        1: value coherent with the server initial load,\r        2: optimistic value that was confirmed by the server\r        3: value that came from the server through web-sockets\r\r      dbValue:\r        is the last value that was confirmed by the server\r        if null indicates that the whole record is not confirmed yet\r\r      timestamp:\r        is the timestamp that reflects the last status coming from the server\r\r    */\r    if (!acum[key]) acum[key] = { value, dbValue: value, status: 1, timestamp };\r    return {\r      ...acum,\r      [key]: timestamp > acum[key].timestamp\r        ? { value, dbValue: value, status: 1, timestamp }\r        : acum[key],\r    };\r  }, {});\r}\r\rexport function hydrate(Store) {\r\r  return data => {\r\r    if (data.length > 0) {\r\r      Store.db.data = data.reduce((acum, item) => {\r        const { _id, domain, attrs } = item;\r        if (!acum[domain]) acum[domain] = [];\r\r        return {\r          ...acum,\r          [domain]: [\r            ...acum[domain],\r            {\r              _id,\r              attrs: getCurrentAttrs(attrs),\r            },\r          ],\r        };\r\r      }, {});\r\r      // Renders the defaultComponent (Container)\r      if (Store.flags.IS_MOUNTED) Store.methods.render();\r\r    }\r\r  };\r\r}\r\r\r","\rexport function query(Store) {\r\r  return domain => {\r    if (!Store.db.data) return [];\r    return Store.db.data[domain] || [];\r  };\r\r}\r\r\r","\rexport { start } from './start';\rexport { hydrate } from './hydrate';\rexport { query } from './query';\r","\n\nexport function initSocket({ socketUrl, user_id, onMessage }) {\n\n  if (!socketUrl) {\n    console.log('SocketUrl not defined');\n    return () => undefined;\n  }\n\n  const wsSupport = 'WebSocket' in window;\n  if (!wsSupport) {\n    console.log('WebSocket not supported');\n    return () => undefined;\n  }\n\n  const ws = new window.WebSocket(socketUrl);\n\n  const sendJSON = obj => ws.send(JSON.stringify(obj));\n\n  ws.onopen = () => {\n    console.log('WebSocket opened');\n    // tell the server user_id is connected\n    if (user_id) sendJSON({ user_id, isInitial: true });\n  };\n\n  ws.onclose = x => console.log('WebSocket closed', x);\n  ws.onmessage = obj => {\n    onMessage(JSON.parse(obj.data));\n  };\n\n\n  return sendJSON;\n\n}\n\n","\n\nexport function onMessage(Store) {\n\n  return payload => {\n    const { data, isInitial } = payload;\n    if (isInitial) console.log('Socket first message --> ', payload);\n\n    if (data) {\n      const { _id, domain, attrs } = data;\n      if (!Store.db.data[domain]) Store.db.data[domain] = [];\n      const findEntity = Store.db.data[domain].find(item => item._id === _id);\n\n      if (!findEntity) {\n\n        // Create entity\n        Store.db.data[domain].push({\n          _id,\n          attrs: attrs.reduce((acum, item) => {\n            const { key, value, timestamp } = item;\n            return {\n              ...acum,\n              [key]: {\n                value,\n                dbValue: value,\n                status: 3,\n                timestamp,\n              },\n            };\n          }, {}),\n        });\n\n      } else {\n\n        // Update entity\n        attrs.forEach(item => {\n          const { key, value, timestamp } = item;\n          findEntity.attrs[key] = {\n            value,\n            dbValue: value,\n            status: 3,\n            timestamp,\n          };\n        });\n\n      }\n\n      Store.methods.render();\n\n    }\n  };\n\n}\n\n","\rexport { initSocket } from './initSocket';\rexport { onMessage } from './onMessage';\r","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\rimport * as db from '../db';\rimport * as sockets from '../sockets';\rimport { callServerMethod } from '../methods';\r\rconst isBrowser = process.browser;\r\rexport function connectStoreToServer(Store, { user_id, config }) {\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize db && sockets\r  ---------------------------------------------------------------------------------------------- */\r\r  const { siteUrl, socketUrl } = config;\r  Store.methods.callServerMethod = callServerMethod(siteUrl);\r\r  if (isBrowser) {\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize sockets\r  ---------------------------------------------------------------------------------------------- */\r\r    const sendJSON = sockets.initSocket({\r      socketUrl,\r      user_id,\r      onMessage: sockets.onMessage(Store),\r    });\r\r    Store.sockets = {\r      sendJSON,\r    };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize db\r  ---------------------------------------------------------------------------------------------- */\r\r    Store.db = {\r      data: null, // already transformed and living free after initialization\r      query: db.query(Store),\r    };\r\r    return db.start(Store, { name: 'asyncDB', version: 1, user_id })\r    .then(db.hydrate(Store))\r    .catch(console.log);\r\r  }\r\r}\r\r","\rimport { connectStoreToServer } from '../lifecycle/connectStoreToServer';\r\rexport function startApp(Store) {\r\r  return ({ appData, routes }) => {\r\r    const {\r      config = {},\r      router = {},\r      query = {},\r    } = appData;\r\r/* ------------------------------------------------------------------------------------------------\r  Register Service Worker\r------------------------------------------------------------------------------------------------ */\r\r    if (config.useServiceWorker && 'serviceWorker' in window.navigator) {\r      window.navigator.serviceWorker\r      .register('./sw.js', { scope: '/' })\r      .then(() => {\r        console.log('Service Worker registration OK');\r      })\r      .catch(error => {\r        console.log('Service Worker registration FAILED', error);\r      });\r    }\r\r\r/* ------------------------------------------------------------------------------------------------\r  First Render && Connect to Server data\r------------------------------------------------------------------------------------------------ */\r\r    const Container = routes['_root_'];\r\r    if (router.currentPage) Store.methods.set({ currentPage: router.currentPage });\r    if (query.user) Store.methods.set({ user_id: query.user });\r\r    connectStoreToServer(Store, { user_id: query.user, config })\r    .then(() => {\r      Store.methods.render(Container, {\r        router: {\r          pages: router.pages,\r          currentPage: router.currentPage,\r        },\r      }, 'root');\r      Store.methods.emit('MOUNTED');\r    });\r\r\r  };\r\r}\r","\rexport { get } from './get';\rexport { subscribe } from './subscribe';\rexport { set } from './set';\rexport { setItem } from './setItem';\rexport { toggle } from './toggle';\rexport { notify } from './notify';\rexport { compute } from './compute';\rexport { computeAll } from './computeAll';\rexport { emit } from './emit';\rexport { registerComponent } from './registerComponent';\rexport { on } from './on';\rexport { once } from './once';\rexport { render } from './render';\rexport { check } from './check';\rexport { alertOn } from './alertOn';\rexport { alertOff } from './alertOff';\rexport { callServerMethod } from './callServerMethod';\rexport { startApp } from './startApp';\r\r","\r\rexport function addToQueue(Store) {\r\r  return ({ name, steps, onError }) => {\r    const _id = Date.now();\r    const objToQueue = {\r      _id,\r      name,\r      steps,\r      done: false,\r    };\r\r    if (onError) objToQueue.onError = onError;\r    Store.process.queue.splice(0, 0, objToQueue); // ads into the first element\r    Store.process.runTask({ _id });\r\r  };\r\r}\r\r","\r\r\rexport function createProcesses(Store, actions) {\r\r  if (!actions) return () => undefined;\r\r  const processes = Object.keys(actions).reduce((acum, key) => {\r    const singleAction = actions[key];\r    /*\r      We dont want to pass the whole Store to the action, just observables\r      So, the actions consumes the Store like:\r      const { language } = Store.observables;\r    */\r    const { observables } = Store.objects;\r    return {\r      ...acum,\r      [key]: args => {\r        Store.process.addToQueue({\r          name: key,\r          ...singleAction({ observables })(args),\r        });\r      },\r    };\r  }, {});\r\r  return (name, args) => processes[name](args);\r\r\r}\r\r\r","\n\nexport function processOptimistic(Store, args) {\n\n  const { _id, domain, attrs } = args;\n\n  if (!Store.db.data[domain]) Store.db.data[domain] = [];\n  const findEntity = Store.db.data[domain].find(item => item._id === _id);\n\n  /*\n    Case 1: New Entity\n  */\n\n  if (!findEntity) {\n\n    // Create entity\n    Store.db.data[domain].push({\n      _id,\n      attrs: Object.keys(attrs).reduce((acum, key) => {\n        return {\n          ...acum,\n          [key]: {\n            value: attrs[key],\n            dbValue: null,\n            status: 0,\n            timestamp: Date.now(),\n          },\n        };\n      }, {}),\n    });\n\n  } else {\n\n  /*\n    Case 2: Existing entity, new attrs\n  */\n\n    // Update entity\n    Object.keys(attrs).forEach(key => {\n      const dbValue = attrs[key].value;\n      findEntity.attrs[key] = {\n        value: attrs[key],\n        dbValue,\n        status: 0,\n        timestamp: Date.now(),\n      };\n    });\n\n  }\n\n\n  Store.methods.render();\n\n  return isOK => {\n\n    if (!findEntity && !isOK) {\n      // New Entity + error => Remove the entity\n      Store.db.data[domain] = Store.db.data[domain].filter(item => item._id !== _id);\n\n    } else {\n      // New Entity + ok || Existing entity => Update fields\n\n      const entity = Store.db.data[domain].find(item => item._id === _id);\n\n      Object.keys(entity.attrs).forEach(key => {\n        const field = entity.attrs[key];\n        if (field.status === 0) {\n          field.status = isOK ? 2 : 1;\n          if (!isOK) field.value = field.dbValue;\n          if (isOK) field.dbValue = field.value;\n          field.timestamp = Date.now();\n        }\n      });\n\n    }\n\n    if (!isOK) Store.methods.render();\n\n  };\n\n}\n\n","\nimport { processOptimistic } from './processOptimistic';\n\nexport function processStep(Store, step, previousArgs = {}) {\n\n  const {\n    method,\n    domain,\n    args,\n    sideEffect,\n    optimistic = true,\n  } = step(previousArgs);\n\n  // Backend may return something valuable for the next step\n  if (domain === '_Backend_') {\n\n    const resolveOptimistic = optimistic\n      ? processOptimistic(Store, args)\n      : () => undefined;\n\n    return new Promise((resolve, reject) => {\n      return Store.methods.callServerMethod(method, args)\n        .then(response => {\n          const error = response.error;\n          const data = response.data;\n          resolveOptimistic(!error);\n          resolve({\n            error,\n            data: {\n              ...previousArgs.data,\n              ...data,\n            },\n          });\n        })\n        .catch(err => {\n          resolveOptimistic(false);\n          reject(err);\n        });\n    });\n  }\n\n  // Store works like simple local State\n  if (domain === '_Store_') {\n    Store.methods[method](args);\n    if (sideEffect) sideEffect();\n    return Promise.resolve(previousArgs);\n  }\n\n}\n\n","\n// import { resolveArgs } from './resolveArgs';\nimport { processStep } from './processStep';\n\nexport function processor(Store) {\n\n  return steps => {\n\n    // Promise build\n    const promises = steps.map(step => {\n\n      return previousArgs => {\n        // const args = resolveArgs(step.args, prevArgs);\n        // processStep(Store, step, args);\n        return processStep(Store, step, previousArgs);\n      };\n\n    });\n\n    // Promise execution\n    let proceed = true;\n\n    promises.reduce((p, fn) => {\n      return p\n        .then(res => {\n          if (proceed) return fn(res);\n        })\n        .catch(e => {\n          console.log('Error in Promise chain execution', e);\n          proceed = false;\n        });\n    }, Promise.resolve({}));\n\n  };\n\n}\n","\r// import _ from '/framework/belt';\r\rexport function runTask(Store) {\r\r  return ({ _id }) => {\r    const task = Store.process.queue.find(item => item._id === _id);\r    Store.process.processor(task.steps);\r    task.done = true;\r\r  };\r\r}\r\r","\rexport { addToQueue } from './addToQueue';\rexport { createProcesses } from './createProcesses';\rexport { processor } from './processor';\rexport { runTask } from './runTask';\r\r","\rimport * as methods from '../methods';\rimport * as queue from '../queue';\r\rexport function createStore(definition, renderer) {\r\r  const Store = {};\r\r  const {\r    observables = {},\r    computed = {},\r    actions = {},\r    alerts = {},\r    checks = {},\r  } = definition;\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize flags\r  ---------------------------------------------------------------------------------------------- */\r  Store.flags = {\r    IS_MOUNTED: false,\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize utils to the store for convenience.\r  ---------------------------------------------------------------------------------------------- */\r  Store.utils = {\r    hoc: null, // will be attached after ui initialization\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize observables\r  ---------------------------------------------------------------------------------------------- */\r  Store.objects = {\r    defaultComponent: null,\r    observables,\r    computed,\r    listeners: [],\r    reactions: [],\r    components: {},\r    alerts: [],\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize methods\r  ---------------------------------------------------------------------------------------------- */\r  Store.methods = {\r    check: methods.check(Store, checks),\r    get: methods.get(Store),\r    subscribe: methods.subscribe(Store),\r    set: methods.set(Store),\r    setItem: methods.setItem(Store),\r    toggle: methods.toggle(Store),\r    notify: methods.notify(Store),\r    emit: methods.emit(Store),\r    on: methods.on(Store),\r    once: methods.once(Store),\r    render: methods.render(Store, renderer),\r    compute: methods.compute(Store),\r    computeAll: methods.computeAll(Store),\r    registerComponent: methods.registerComponent(Store),\r    alertOn: methods.alertOn(Store, alerts),\r    alertOff: methods.alertOff(Store),\r    callServerMethod: () => undefined, // will be initialized on 'connectStoreToServer'\r    startApp: methods.startApp(Store),\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize queued processes\r  ---------------------------------------------------------------------------------------------- */\r  Store.process = {\r    queue: [],\r    addToQueue: queue.addToQueue(Store),\r    processor: queue.processor(Store),\r    runTask: queue.runTask(Store),\r    call: queue.createProcesses(Store, actions), // client side method call\r  };\r\r  /* ----------------------------------------------------------------------------------------------\r    Initialize listeners\r  ---------------------------------------------------------------------------------------------- */\r  Object.keys(Store.objects.observables).forEach(observable => {\r    Store.objects.listeners.push({ observable, components: [] });\r  });\r\r  /* ----------------------------------------------------------------------------------------------\r    Start with computed values up to date\r  ---------------------------------------------------------------------------------------------- */\r  Store.methods.computeAll();\r\r\r  return Store;\r\r}\r\r","\rimport { createStore } from './lifecycle/createStore';\r\rexport default createStore;\r","\r\rexport default () => args => {\r\r  const { page, action } = args;\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Store_',\r        method: 'set',\r        args: {\r          currentPage: page,\r        },\r        sideEffect: () => {\r          if (action === 'replace') window.history.replaceState(null, null, page);\r          if (action === 'push') window.history.pushState(null, null, page);\r          if (action === 'back') window.history.back();\r        },\r      }),\r    ],\r  };\r\r};\r\r","\n\nexport function compact(array) {\n\n  return array.filter(Boolean);\n\n}\n","\nexport function get(obj, key, defaultValue) {\n\n  // Undefined object\n  if (!obj) return defaultValue;\n  if (typeof obj === 'object' && Object.keys(obj).length === 0) return defaultValue;\n\n  // Key is number\n  if (typeof key === 'number') {\n    if (obj[key] === undefined) return defaultValue;\n    return obj[key];\n  }\n\n  // Key is string\n  const splittedKeys = key.split('.');\n  let exit = false;\n  return splittedKeys.reduce((acum, value) => {\n    if (exit) return defaultValue;\n    if (!acum[value]) {\n      exit = true;\n      return defaultValue;\n    }\n    return acum[value];\n  }, obj);\n\n\n}\n","\nexport function has(obj, key) {\n\n  const splittedKeys = key.split('.');\n\n  let hasKey = true;\n  splittedKeys.reduce((acum, value) => {\n    if (!hasKey) return null;\n    if (typeof acum[value] === 'undefined') {\n      hasKey = false;\n      return null;\n    }\n    return acum[value];\n  }, obj);\n\n  return hasKey;\n\n}\n","\n\nexport function last(array = []) {\n\n\n  if (array.length === 0) return null;\n\n  return [ ...array ].slice(-1)[0];\n\n\n}\n","\nexport function omit(obj, keys) {\n\n  return Object.keys(obj).reduce((acum, key) => {\n    if (keys.includes(key)) return acum;\n    if (typeof obj[key] === 'undefined') return acum;\n    return {\n      ...acum,\n      [key]: obj[key],\n    };\n  }, {});\n\n}\n","\nexport function pick(obj, keys) {\n\n  return Object.keys(obj).reduce((acum, key) => {\n    if (!keys.includes(key)) return acum;\n    if (typeof obj[key] === 'undefined') return acum;\n    return {\n      ...acum,\n      [key]: obj[key],\n    };\n  }, {});\n\n}\n","\n\nexport function random(low, high) {\n\n  if (!low && !high) return Math.random();\n  if (low && !high) return low * Math.random();\n  if (!low && high) return Math.random();\n\n  // Include boths edges as possible numbers\n  const length = high - low + 1;\n  return low + Math.floor(length * Math.random());\n\n}\n","\n\nexport function range(low = 0, high = 0) {\n\n  if (!high && low > 0) return [ ...Array(low).keys() ];\n\n  if (high - low <= 0) return [];\n\n  const array = [ ...Array(high - low).keys() ];\n  return array.map(elem => elem + low);\n\n}\n","\n\nexport function sample(array = []) {\n\n  if (array.length === 0) return null;\n\n  const rand = Math.floor(array.length * Math.random());\n  return array[rand];\n\n}\n","\nexport function uid(strLength = 6) {\n\n  const now = String(Date.now());\n  const middlePos = Math.ceil(now.length / 2);\n\n  const availableChars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  const availableCharsLength = availableChars.length;\n\n  // Start the final string\n  let str = '';\n  for (let i = 1; i <= strLength; i++) {\n    const randChar = availableChars.charAt(\n      Math.floor(Math.random() * availableCharsLength)\n    );\n    // Append this character to the string\n    str += randChar;\n  }\n\n  return `${now.substr(0, middlePos)}-${str}-${now.substr(middlePos)}`;\n\n}\n\n","\n\nexport function uniq(array) {\n\n  return array.filter((elem, pos, arr) => {\n    return arr.indexOf(elem) === pos;\n  });\n\n}\n","\nimport { compact } from './compact';\nimport { get } from './get';\nimport { has } from './has';\nimport { last } from './last';\nimport { omit } from './omit';\nimport { pick } from './pick';\nimport { random } from './random';\nimport { range } from './range';\nimport { sample } from './sample';\nimport { uid } from './uid';\nimport { uniq } from './uniq';\n\nexport default {\n\n  compact,\n  get,\n  has,\n  last,\n  omit,\n  pick,\n  random,\n  range,\n  sample,\n  uid,\n  uniq,\n\n};\n","\r\rimport _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const name = Store.observables['signup.name'];\r  const email = Store.observables['signup.email'];\r  const _id = _.uid();\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signupUserWithEmail',\r        optimistic: false,\r        args: {\r          _id,\r          name,\r          email,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          user_id: res.data._id,\r          'signup.currentStep': 2,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signin.email': email,\r          'forgot.email': email,\r          // if user goes to signin he has already the email typed\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const _id = Store.observables['user_id'];\r  const name = Store.observables['signup.name'];\r  const email = Store.observables['signup.email'];\r  const password = Store.observables['signup.password'];\r  const language = Store.observables.language;\r\r  return {\r    steps: [\r\r      /*\r        We go next step before setting password because there is no server validation\r        and email send takes time\r      */\r      () => ({\r        domain: '_Store_',\r        method: 'set',\r        args: {\r          'signup.currentStep': 3,\r        },\r      }),\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signupSendTokenEmail',\r        optimistic: false,\r        args: {\r          _id,\r          name: name.split(' ')[0],\r          language,\r          email,\r          password,\r        },\r      }),\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const _id = Store.observables['user_id'];\r  const password = Store.observables['signup.password'];\r  const tokenDigits = Store.observables['signup.tokenDigits'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signupFinishRegistration',\r        optimistic: false,\r        args: {\r          _id,\r          password,\r          token: tokenDigits.join(''),\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          'signup.currentStep': 0,\r          'signup.name': '',\r          'signup.email': '',\r          'signup.password': '',\r          'signup.tokenDigits': [],\r          currentPage: 'welcome',\r        },\r        sideEffect: () => {\r          if (!res.error) {\r            window.history.replaceState(null, null, '/welcome');\r          }\r        }\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signup.tokenDigits': [],\r        } : null,\r      }),\r\r\r    ],\r  };\r\r\r};\r","\r\r// import _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const email = Store.observables['signin.email'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signinValidateEmail',\r        optimistic: false,\r        args: {\r          email,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          'signin.name': res.data.name,\r          'signin.currentStep': 1,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signup.email': email,\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r","\r\r// import _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const email = Store.observables['signin.email'];\r  const password = Store.observables['signin.password'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'signinValidatePassword',\r        optimistic: false,\r        args: {\r          email,\r          password,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : null,\r        sideEffect: () => {\r          if (!res.error) {\r            const { user_id, isPasswordOK } = res.data;\r            if (isPasswordOK) {\r              window.location.replace(`https://museeker.io/app?user=${user_id}`);\r            }\r          }\r        },\r      }),\r\r\r    ],\r  };\r\r\r};\r","\r\r// import _ from '@jmaguirrei/belt';\r\rexport default Store => () => {\r\r  const email = Store.observables['forgot.email'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'forgotValidateEmail',\r        optimistic: false,\r        args: {\r          email,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          user_id: res.data.user_id,\r          'forgot.name': res.data.name,\r          'forgot.currentStep': 1,\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'signup.email': email,\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const _id = Store.observables['user_id'];\r  const name = Store.observables['forgot.name'];\r  const email = Store.observables['forgot.email'];\r  const password = Store.observables['forgot.password'];\r  const language = Store.observables.language;\r\r  return {\r    steps: [\r\r      /*\r        We go next step before setting password because there is no server validation\r        and email send takes time\r      */\r      () => ({\r        domain: '_Store_',\r        method: 'set',\r        args: {\r          'forgot.currentStep': 2,\r        },\r      }),\r\r      () => ({\r        domain: '_Backend_',\r        method: 'forgotSendTokenEmail',\r        optimistic: false,\r        args: {\r          _id,\r          name: name.split(' ')[0],\r          language,\r          email,\r          password,\r        },\r      }),\r\r\r    ],\r  };\r\r\r};\r","\r\rexport default Store => () => {\r\r  const email = Store.observables['signin.email'];\r  const password = Store.observables['forgot.password'];\r  const tokenDigits = Store.observables['forgot.tokenDigits'];\r\r  return {\r    steps: [\r\r      () => ({\r        domain: '_Backend_',\r        method: 'forgotSetNewPassword',\r        optimistic: false,\r        args: {\r          email,\r          password,\r          token: tokenDigits.join(''),\r        },\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: res.error ? 'alertOn' : 'set',\r        args: res.error ? {\r          name: res.error,\r          timeout: 4000,\r        } : {\r          'forgot.password': '',\r          'forgot.tokenDigits': [],\r        },\r        sideEffect: () => {\r          if (!res.error) {\r            const { user_id } = res.data;\r            window.location.replace(`https://app.museeker.io?user=${user_id}`);\r          }\r        }\r      }),\r\r      res => ({\r        domain: '_Store_',\r        method: 'set',\r        args: res.error ? {\r          'forgot.tokenDigits': [],\r        } : null,\r      }),\r\r    ],\r  };\r\r\r};\r\r","\r\r\rexport { default as changeRoute } from './changeRoute';\r\rexport { default as signupEmail } from './signupEmail';\rexport { default as signupPassword } from './signupPassword';\rexport { default as signupToken } from './signupToken';\r\rexport { default as signinEmail } from './signinEmail';\rexport { default as signinPassword } from './signinPassword';\r\rexport { default as forgotEmail } from './forgotEmail';\rexport { default as forgotPassword } from './forgotPassword';\rexport { default as forgotToken } from './forgotToken';\r\r","\rconst MIN_LENGTH = 5;\r\rexport const name = str => {\r\r  const result = str.trim().length >= MIN_LENGTH;\r\r  return {\r    result,\r    message: result ? null : {\r      en: `At least ${MIN_LENGTH} characters`,\r      es: `Mnimo ${MIN_LENGTH} caracteres`,\r    },\r  };\r\r};\r","\rconst REGEX = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\rexport const email = str => {\r\r  const result = REGEX.test(str);\r\r  return {\r    result,\r    message: null,\r  };\r\r};\r","\rconst MIN_LENGTH = 8;\r\rexport const password = str => {\r\r  const noSpaces = /^\\S+$/.test(str);\r\r  if (!noSpaces && str.length > 0) {\r    return {\r      result: false,\r      message: {\r        en: 'Password can\\'t contain white spaces',\r        es: 'La contrasea no puede contener espacios',\r      },\r    };\r  }\r\r  const result = str.length >= MIN_LENGTH;\r  return {\r    result,\r    message: result ? null : {\r      en: `At least ${MIN_LENGTH} characters`,\r      es: `Mnimo ${MIN_LENGTH} caracteres`,\r    },\r  };\r\r};\r","\rexport { name } from './name';\rexport { email } from './email';\rexport { password } from './password';\r\r\r/*\r\r  Standard checks fields need to pass before proceeding further\r\r*/\r","\rexport const EMAIL_ALREADY_REGISTERED = {\r\r  en: 'Email is already registered',\r  es: 'Este email ya est registrado',\r\r};\r\rexport const INVALID_SIGNUP_TOKEN = {\r\r  en: 'Code is not correct',\r  es: 'Cdigo incorrecto',\r\r};\r\r\rexport const INVALID_FORGOT_TOKEN = {\r\r  en: 'Code is not correct',\r  es: 'Cdigo incorrecto',\r\r};\r\r\rexport const EMAIL_IS_NOT_REGISTERED = {\r\r  en: 'This email is not registered',\r  es: 'Este email no est registrado',\r\r};\r\r\rexport const PASSWORD_IS_NOT_CORRECT = {\r\r  en: 'Password is not correct',\r  es: 'Contrasea incorrecta',\r\r};\r\r","\rimport * as actions from './actions';\rimport * as checks from './checks';\rimport * as alerts from './alerts';\r\rexport default {\r\r  actions,\r  checks,\r  alerts,\r\r  observables: {\r\r    // Domain properties\r    user_id: '',\r    language: 'en',\r\r    // pages\r    currentPage: '', // welcome, signin, signup, forgot\r\r    // signup\r    'signup.currentStep': 0, // Name, Email, Password, Token\r    'signup.name': '',\r    'signup.email': '',\r    'signup.password': '',\r    'signup.password.isVisible': false,\r    'signup.tokenDigits': [], // 6 position numeric array\r\r    // signin\r    'signin.currentStep': 0, // Email, Password\r    'signin.name': '', // setted after email is checked to be registered\r    'signin.email': '',\r    'signin.password': '',\r    'signin.password.isVisible': false,\r\r    // forgot\r    'forgot.currentStep': 0, // Password, Token\r    'forgot.name': '', // setted after email is checked to be registered\r    'forgot.email': '',\r    'forgot.password': '',\r    'forgot.password.isVisible': false,\r    'forgot.tokenDigits': [], // 6 position numeric array\r\r  },\r\r};\r\r\r\r","\n\n\nexport const Button = ui => {\n\n  return ui.hoc({\n\n    classes: {\n      div: `\n        cursor: pointer;\n        text-align: center;\n        transition: all .6s ease;\n        user-select: none;\n        width: 100%;\n        box-shadow: inset 0px 0px 200px hsla(0, 0%, 0%, 0), 0px 1px 3px -1px black;\n        &:hover {\n          box-shadow: inset 0px 0px 200px hsla(0, 0%, 0%, 0.3), 0px 1px 3px -1px black;\n        }\n      `,\n      a: `\n        text-decoration: none;\n        color: inherit;\n      `,\n    },\n\n    styles: {\n      div: (color, bgColor, height) => `\n        background-color: ${bgColor};\n        border-radius: ${height}px;\n        color: ${color};\n        height: ${height}px;\n        line-height: ${height}px;\n      `,\n    },\n\n    render({ props, classes, styles }) {\n\n      const {\n        text,\n        color,\n        bgColor,\n        height,\n        href,\n        onClick,\n      } = props;\n\n      return ui.html`\n        <div\n          @click=${onClick}\n          class=${classes.div}\n          style=${styles.div(color, bgColor, height)}\n        >\n          ${\n            href\n            ? ui.unsafeHTML(`<a href=${href} class=${classes.a}>${text}</a>`)\n            : text\n          }\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nexport const Carrousel = ui => {\n\n  return ui.hoc({\n\n    styles: {\n      container: `\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        padding: 10px 20px;\n      `,\n      inner: currentStep => `\n        display: flex;\n        transition: transform .4s ease;\n        transform: translate3d(${-100 * currentStep}%, 0, 0);\n      `,\n      screen: `\n        min-width: 100%;\n        padding: 20px 20px 40px;\n      `,\n    },\n\n    render({ props, styles }) {\n\n      const { screens, currentStep } = props;\n\n      return ui.html`\n        <div id='carrousel' style=${styles.container}>\n          <div style=${styles.inner(currentStep)}>\n            ${screens.map(screen => ui.html`\n              <div style=${styles.screen}>\n                ${screen()}\n              </div>\n            `)}\n          </div>\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nexport const Icons = ui => {\n\n  const { IconsSVGs } = ui.lib;\n\n  return ui.hoc({\n\n    styles: {\n      div: (size, enabled, inStyle = '') => `\n        transition: all .6s ease;\n        width: ${size}px;\n        height: ${size}px;\n        cursor: ${enabled ? 'pointer' : 'auto'};\n        opacity: ${enabled ? 1 : 0.5};\n        ${inStyle}\n      `,\n    },\n\n    render({ props, styles }) {\n\n      const {\n        icon,\n        size,\n        enabled = true,\n        inStyle,\n        className = ''\n      } = props;\n\n      if (!IconsSVGs[icon]) return '<>';\n\n      const onClick = () => enabled ? props.onClick() : undefined;\n\n      return ui.html`\n        <div\n          class=${className}\n          style=${styles.div(size, enabled, inStyle)}\n          @click=${onClick}\n        >\n          ${ui.unsafeHTML(IconsSVGs[icon])}\n        </div>\n      `;\n    }\n\n  });\n};\n\n","\r\rexport const Input = ui => {\r\r  return ui.hoc({\r\r    styles: {\r      input: `\r        font-size: 18px;\r        border: none;\r        outline: none;\r        padding: 20px;\r        background: hsl(0, 0%, 98%);\r        border-radius: 5px;\r        margin-bottom: 30px;\r      `,\r    },\r\r    actions(props, /* store */) {\r      return {\r        onKeyDown: e => {\r          // Tab pressed\r          if (e.keyCode === 9) {\r            e.preventDefault();\r            props.onClickRight();\r          }\r        },\r      };\r    },\r\r    render({ props, styles, actions }) {\r\r      const { type, placeholder, value, onInput } = props;\r\r      return ui.html`\r        <input\r          type=${type}\r          placeholder=${placeholder}\r          value=${value}\r          style=${styles.input}\r          @input=${onInput}\r          @keydown=${actions.onKeyDown}\r        />\r      `;\r\r    }\r\r  });\r\r};\r","\n\nconst breakpoint = '768px';\n\nexport const Modal = ui => {\n\n  return ui.hoc({\n\n    styles: {\n      subcomponent: isSelected => `\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        transition: opacity .3s ease;\n        opacity: ${isSelected ? 1 : 0};\n        pointer-events: ${isSelected ? 'auto' : 'none'};\n      `,\n    },\n\n    classes: {\n      container: `\n        display: flex;\n        align-items: center;\n        justify-content:center;\n        background: hsl(0, 0%, 20%);\n        position: fixed;\n        top: 0; bottom: 0; left: 0; right: 0;\n      `,\n      modal: `\n        position: relative;\n        background: white;\n        min-width: 500px;\n        width: 40%;\n        max-width: 500px;\n        min-height: 90%;\n        max-height: 90%;\n        border-radius: 10px;\n        overflow: hidden;\n        @media (max-width: ${breakpoint}) {\n          & {\n            min-height: 100%;\n            min-width: 100%;\n            max-width: 100%;\n            width: 100%;\n            border-radius: 0;\n          }\n        }\n      `,\n    },\n\n    render({ props, styles, classes }) {\n\n      // return ui.html`<div>Modal</div>`;\n      const { pages, currentPage } = props;\n\n      return ui.html`\n        <div id='modal' class=${classes.container}>\n          <div class=${classes.modal}>\n            ${Object.keys(pages).map(key => {\n              const component = pages[key];\n              return ui.html`\n                <div style=${styles.subcomponent(key === currentPage)}>\n                  ${component()}\n                </div>\n              `;\n            })}\n          </div>\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nimport { Icons } from './Icons';\n\nconst size = 50;\n\nexport const Navigation = ui => {\n\n  const IconsComp = Icons(ui);\n\n  return ui.hoc({\n\n    styles: {\n      container: `\n        display: flex;\n        align-items: center;\n        margin: 50px 30px;\n      `,\n      text: (text, color) => `\n        flex: 1;\n        text-align: center;\n        opacity: ${text ? 1 : 0};\n        transition: opacity .6s ease;\n        color: ${color || 'initial'};\n      `,\n    },\n\n    classes: {\n      'signup-right-enabled': `\n        background-position: center;\n        transition: background 0.3s;\n        background: ${ui.lib.Colors.GREEN_SIGNUP};\n        border-radius: 50%;\n        fill: white;\n        box-shadow: -1px 1px 3px -1px black;\n        &:active {\n          background-color: hsla(0, 0%, 0%, 0.8);\n          background-size: 100%;\n          transition: background 0s;\n        }\n      `,\n      'signin-right-enabled': `\n        background-position: center;\n        transition: background 0.3s;\n        background: ${ui.lib.Colors.BLUE_SIGNIN};\n        border-radius: 50%;\n        fill: white;\n        box-shadow: -1px 1px 3px -1px black;\n        &:active {\n          background-color: hsla(0, 0%, 0%, 0.8);\n          background-size: 100%;\n          transition: background 0s;\n        }\n      `,\n    },\n\n    render({ props, styles, classes }) {\n\n      const {\n        currentPage,\n        onClickLeft,\n        onClickRight,\n        leftEnabled,\n        rightEnabled,\n        text,\n        color,\n      } = props;\n\n      return ui.html`\n        <div id='navigation' style=${styles.container}>\n          ${IconsComp({\n            icon: 'chevron-left',\n            onClick: onClickLeft,\n            size,\n            enabled: leftEnabled,\n          })}\n          <div style=${styles.text(text, color)}>\n            ${text || ''}\n          </div>\n          ${IconsComp({\n            icon: 'chevron-right',\n            onClick: onClickRight,\n            size,\n            enabled: rightEnabled,\n            className: !rightEnabled\n              ? ''\n              : currentPage === 'signup'\n                ? classes['signup-right-enabled']\n                : classes['signin-right-enabled'], // forgot also uses signin styles\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n\n","\nexport const NotFound = ui => {\n\n  return ui.hoc({\n\n    render() {\n\n      return ui.html`\n        <div>\n          NOT FOUND\n        </div>\n      `;\n    }\n\n  });\n\n};\n\n","\n\nimport { Icons } from './Icons';\n\nexport const NumKeyboard = ui => {\n\n  const IconsComp = Icons(ui);\n\n  return ui.hoc({\n\n    classes: {\n      container: `\n        padding: 20px;\n      `,\n      range: `\n        display: flex;\n        justify-content:center;\n      `,\n      digitspan: `\n        user-select: none;\n      `,\n    },\n\n    styles: {\n      digit: isSvg => `\n        cursor: pointer;\n        background: hsl(0, 0%, 80%);\n        font-size: 24px;\n        font-family: sans-serif;\n        border-radius: 10px;\n        margin: 10px 5px;\n        min-width: 40px;\n        height: 40px;\n        text-align: center;\n        line-height: 40px;\n        box-shadow: 0px 1px 3px -1px black;\n        padding: ${isSvg ? '6px' : '0px'};\n      `,\n    },\n\n    render({ props, classes, styles }) {\n\n      const { onPressNum, onPressDel } = props;\n      const ranges = [ [ 1, 2, 3, 4, 5, 6 ], [ 7, 8, 9, 0 ] ];\n\n      return ui.html`\n        <div id='keyboard' class=${classes.container}>\n          <div class=${classes.range}>\n            ${ranges[0].map(i => {\n              return ui.html`\n                <div style=${styles.digit(false)} @click=${() => onPressNum(i)}>\n                  <span class=${classes.digitspan}>${i}</span>\n                </div>\n              `;\n            })}\n          </div>\n          <div class=${classes.range}>\n            ${ranges[1].map(i => {\n              return ui.html`\n                <div style=${styles.digit(false)} @click=${() => onPressNum(i)}>\n                  <span class=${classes.digitspan}>${i}</span>\n                </div>\n              `;\n            })}\n            <div style=${styles.digit(true)}>\n              ${IconsComp({\n                icon: 'backspace',\n                onClick: onPressDel,\n                size: 30,\n              })}\n            </div>\n          </div>\n\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nimport _ from '@jmaguirrei/belt';\n\nexport const Progress = ui => {\n\n  return ui.hoc({\n\n    styles: {\n      container: `\n        display: flex;\n        justify-content: center;\n        margin-top: 8px;\n      `,\n      item: isSelected => `\n        background: ${isSelected ? 'hsl(0, 0%, 80%)' : 'hsl(0, 0%, 90%)'};\n        width: 12px;\n        height: 12px;\n        border-radius: 50%;\n        margin: 0 5px;\n      `,\n    },\n\n    render({ props, styles }) {\n\n      const { numSteps, currentStep } = props;\n\n      return ui.html`\n        <div id='progress' style=${styles.container}>\n          ${_.range(numSteps).map(item => {\n            const isSelected = item === currentStep;\n            return ui.html`\n              <div style=${styles.item(isSelected)}></div>\n            `;\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nexport const Token = ui => {\n\n  return ui.hoc({\n\n    classes: {\n      container: `\n        display: flex;\n        margin: 10px 20px;\n        justify-content: space-between;\n      `,\n      digit: `\n        font-size: 34px;\n        flex: 1;\n        height: 50px;\n        line-height:50px;\n        text-align: center;\n        max-width: 50px;\n        background: hsl(0, 0%, 95%);\n        border: 1px solid hsl(0,0%,90%);\n        border-radius: 5px;\n        user-select: none;\n      `,\n    },\n\n    render({ props, classes }) {\n\n      const { tokenDigits } = props;\n      const range = [ 0, 1, 2, 3, 4, 5 ];\n\n      return ui.html`\n        <div id='token' class=${classes.container}>\n          ${range.map(i => {\n            return ui.html`\n              <div class=${classes.digit}>\n                ${tokenDigits[i] || ''}\n              </div>\n            `;\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n\n","\rimport { Button } from './Button';\rimport { Carrousel } from './Carrousel';\rimport { Icons } from './Icons';\rimport { Input } from './Input';\rimport { Modal } from './Modal';\rimport { Navigation } from './Navigation';\rimport { NotFound } from './NotFound';\rimport { NumKeyboard } from './NumKeyboard';\rimport { Progress } from './Progress';\rimport { Token } from './Token';\r\rexport default ui => ({\r\r  Button: Button(ui),\r  Carrousel: Carrousel(ui),\r  Icons: Icons(ui),\r  Input: Input(ui),\r  Modal: Modal(ui),\r  Navigation: Navigation(ui),\r  NotFound: NotFound(ui),\r  NumKeyboard: NumKeyboard(ui),\r  Progress: Progress(ui),\r  Token: Token(ui),\r\r});\r\r","\n\nexport const Header = ui => {\n\n  const size = ui.lib.Sizes.HEADER_HEIGHT;\n  const { Progress } = ui.components;\n\n  return ui.hoc({\n\n    actions(props, store) {\n      return {\n        onNavigateBack: () => store.call('changeRoute', { page: '', action: 'back' }),\n      };\n    },\n\n    classes: {\n      container: `\n        min-height: ${size};\n        max-height: ${size};\n        width: 100%;\n        display: flex;\n        align-items: center;\n        padding: 0 30px;\n        border-bottom: 1px solid hsl(0, 0%, 95%);\n      `,\n      image: `\n        max-height: 32px;\n      `,\n    },\n\n    styles: {\n      container: numSteps => `\n        justify-content: ${numSteps > 0 ? 'space-between' : 'center'};\n      `,\n\n    },\n\n    render({ props, classes, styles }) {\n\n      const { numSteps = 0, currentStep } = props;\n      const src = ui.lib.Assets.COMPANY_LOGO;\n\n      return ui.html`\n        <div\n          id='header'\n          class=${classes.container}\n          style=${styles.container(numSteps)}\n        >\n          <img src=${src} alt='company-name' class=${classes.image} />\n          ${numSteps > 0 ? Progress({ numSteps, currentStep }) : ''}\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nimport _ from '@jmaguirrei/belt';\n\nexport const Tabs = ui => {\n\n  const size = ui.lib.Sizes.TABS_HEIGHT;\n  const { GREEN_SIGNUP, BLUE_SIGNIN } = ui.lib.Colors;\n\n  return ui.hoc({\n\n    state(props, store) {\n      return {\n        language: store.get('language'),\n        currentPage: store.get('currentPage'),\n      };\n    },\n\n    actions(props, store) {\n      return {\n        onSelectSignUp: () => store.call('changeRoute', { page: 'signup', action: 'replace' }),\n        onSelectSignIn: () => store.call('changeRoute', { page: 'signin', action: 'replace' }),\n      };\n    },\n\n    classes: {\n      container: `\n        display: flex;\n        width: 100%;\n        align-items: center;\n        min-height: ${size};\n        max-height: ${size};\n      `,\n    },\n\n    styles: {\n      tab: (i, color, isSelected) => `\n        height: ${size};\n        padding: 8px 0px;\n        flex: 1;\n        font-size: 20px;\n        text-align: center;\n        cursor: pointer;\n        user-select: none;\n        color: ${isSelected ? color : 'hsl(0, 0%, 55%)'};\n        background: ${isSelected ? 'white' : 'hsl(0, 0%, 92%)'};\n        border-top: 1px solid hsl(0, 0%, ${isSelected ? 100 : 80}%);\n        border-right: ${isSelected && i === 0 ? '1px solid hsl(0, 0%, 80%)' : '1px solid transparent'};\n        border-left: ${isSelected && i === 1 ? '1px solid hsl(0, 0%, 80%)' : '1px solid transparent'};\n      `,\n    },\n\n    render({ styles, actions, state, classes }) {\n\n      const { language, currentPage } = state;\n      const { onSelectSignUp, onSelectSignIn } = actions;\n\n      const isSignupSelected = currentPage === 'signup';\n\n      return ui.html`\n        <div\n          id='tabs'\n          class=${classes.container}\n        >\n          <div\n            style=${styles.tab(0, GREEN_SIGNUP, isSignupSelected)}\n            @click=${onSelectSignUp}\n          >\n            ${_.get({ en: 'Sign Up', es: 'Registro' }, language)}\n          </div>\n          <div\n            style=${styles.tab(1, BLUE_SIGNIN, !isSignupSelected)}\n            @click=${onSelectSignIn}\n          >\n            ${_.get({ en: 'Sign In', es: 'Acceso' }, language)}\n          </div>\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\nimport _ from '@jmaguirrei/belt';\n\nexport const PasswordOptions = ui => {\n\n  const { Icons } = ui.components;\n\n  return ui.hoc({\n\n    actions(props, store) {\n      return {\n        onClickEye: () => store.toggle(`${props.page}.password.isVisible`),\n        onClickForgot: () => store.set({ currentPage: 'forgot' }),\n      };\n    },\n\n    state(props, store) {\n      return {\n        language: store.get('language'),\n        isPasswordVisible: store.get(`${props.page}.password.isVisible`),\n        isIconVisible: store.get(`${props.page}.password`).length > 0,\n      };\n    },\n\n    classes: {\n      container: `\n        width: 100%;\n        display: flex;\n        align-items: center;\n        padding: 10px;\n        margin-bottom: 30px;\n      `,\n    },\n\n    styles: {\n      forgot: forgot => `\n        font-size: 14px;\n        user-select: none;\n        flex: 1;\n        opacity: ${forgot ? 1 : 0};\n        pointer-events: ${forgot ? 'auto' : 'none'};\n        cursor: pointer;\n      `,\n      icon: isVisible => `\n        opacity: ${isVisible ? 1 : 0};\n        pointer-events: ${isVisible ? 'auto' : 'none'};\n      `,\n    },\n\n    render({ props, classes, state, actions, styles }) {\n\n      const { isPasswordVisible, isIconVisible, language } = state;\n      const { forgot = false } = props;\n\n      return ui.html`\n        <div\n          id='password-options'\n          class=${classes.container}\n        >\n          <div style=${styles.forgot(forgot)} @click=${actions.onClickForgot}>\n            ${_.get({\n              en: 'Forgot password?',\n              es: 'Olvidaste tu contrasea?',\n            }, language)}\n          </div>\n          ${Icons({\n            icon: isPasswordVisible ? 'eye-off' : 'eye-on',\n            size: 20,\n            onClick: isIconVisible ? actions.onClickEye : () => undefined,\n            inStyle: styles.icon(isIconVisible),\n          })}\n        </div>\n      `;\n    }\n\n  });\n\n};\n","\rimport { Header } from './Header';\rimport { Tabs } from './Tabs';\rimport { PasswordOptions } from './PasswordOptions';\r\rexport default ui => ({\r\r  Header: Header(ui),\r  Tabs: Tabs(ui),\r  PasswordOptions: PasswordOptions(ui),\r\r});\r\r","\r\rconst IMAGES_BASE_PATH = 'https://res.cloudinary.com/jmaguirrei/image/upload';\r\rexport const Assets = {\r\r  IMAGES_BASE_PATH,\r  COMPANY_LOGO: `${IMAGES_BASE_PATH}/company/internal/company.jpg`,\r\r};\r","\rexport const Colors = {\r\r  GREEN_SIGNUP: 'hsl(147, 50%, 47%)',\r  BLUE_SIGNIN: 'hsl(219, 79%, 58%)',\r  RED_WARNING: 'hsl(0, 65%, 60%)',\r\r};\r","\nconst backspace = `\n  <svg viewBox=\"0 0 24 24\">\n    <path fill=\"none\" d=\"M0 0h24v24H0V0z\"/>\n    <path d=\"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21v-2z\"/>\n  </svg>\n`;\n\nconst eyeOn = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z\">\n    </path>\n  </svg>\n`;\n\nconst eyeOff = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z\">\n    </path>\n  </svg>\n`;\n\nconst email = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z\">\n    </path>\n  </svg>\n`;\n\nconst close = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\">\n    </path>\n  </svg>\n`;\n\nconst chevronLeft = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z\">\n    </path>\n  </svg>\n`;\n\nconst chevronRight = `\n  <svg viewbox=\"0 0 24 24\">\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\">\n    </path>\n    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z\">\n    </path>\n  </svg>\n`;\n\nconst linkedin = `\n  <svg viewbox=\"0 0 24 24\">\n    <path fill=\"#0077B5\" d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\">\n    </path>\n  </svg>\n`;\n\nconst google = `\n  <svg viewBox=\"0 0 48 48\">\n    <defs>\n      <path id=\"a\" d=\"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z\"/>\n    </defs>\n    <clipPath id=\"b\">\n      <use xlink:href=\"#a\" overflow=\"visible\"/>\n    </clipPath>\n    <path clip-path=\"url(#b)\" fill=\"#FBBC05\" d=\"M0 37V11l17 13z\"/>\n    <path clip-path=\"url(#b)\" fill=\"#EA4335\" d=\"M0 11l17 13 7-6.1L48 14V0H0z\"/>\n    <path clip-path=\"url(#b)\" fill=\"#34A853\" d=\"M0 37l30-23 7.9 1L48 0v48H0z\"/>\n    <path clip-path=\"url(#b)\" fill=\"#4285F4\" d=\"M48 48L17 24l-4-3 35-10z\"/>\n  </svg>\n`;\n\nconst facebook = `\n  <svg viewbox=\"0 0 24 24\">\n    <path fill=\"#3B5998\" d=\"M22.676 0H1.324C.593 0 0 .593 0 1.324v21.352C0 23.408.593 24 1.324 24h11.494v-9.294H9.689v-3.621h3.129V8.41c0-3.099 1.894-4.785 4.659-4.785 1.325 0 2.464.097 2.796.141v3.24h-1.921c-1.5 0-1.792.721-1.792 1.771v2.311h3.584l-.465 3.63H16.56V24h6.115c.733 0 1.325-.592 1.325-1.324V1.324C24 .593 23.408 0 22.676 0\">\n    </path>\n  </svg>\n`;\n\n/* --------------------------------------------------------------------------------------------- */\n\nexport const IconsSVGs = {\n\n  // Keyboard\n  backspace,\n\n  // Forms\n  'eye-on': eyeOn,\n  'eye-off': eyeOff,\n  email,\n\n  // Navigation\n  close,\n  'chevron-left': chevronLeft,\n  'chevron-right': chevronRight,\n\n  // Social\n  facebook,\n  linkedin,\n  google,\n\n};\n","\rexport const Sizes = {\r\r  HEADER_HEIGHT: '55px',\r  TABS_HEIGHT: '50px',\r\r};\r","\rexport { Assets } from './Assets';\rexport { Colors } from './Colors';\rexport { IconsSVGs } from './IconsSVGs';\rexport { Sizes } from './Sizes';\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport { SigninControl } from '../SignIn';\r\rconst { Input } = ui.components;\r\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      email: store.get('signin.email'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onInput: e => {\r        const email = e.target.value;\r        store.set({ 'signin.email': email, 'forgot.email': email });\r      },\r      onClickRight: () => {\r        const { state, actions } = SigninControl(store);\r        const enabled = state.rightEnabled;\r        if (enabled) actions.onClickRight();\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, email } = state;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: 'Welcome back!',\r              es: 'Bienvenid@ de nuevo!',\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'Enter your email',\r              es: 'Ingresa tu email',\r            }, language)}\r          </div>\r        </div>\r        ${Input({\r          type: 'text',\r          placeholder: _.get({ en: 'Your email', es: 'Tu email' }, language),\r          value: email,\r          onInput: actions.onInput,\r          onClickRight: actions.onClickRight,\r        })}\r      </div>\r    `;\r\r  }\r\r});\r\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport { SigninControl } from '../SignIn';\r\rconst { Input } = ui.components;\rconst { PasswordOptions } = ui.fragments;\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      name: store.get('signin.name').split(' ')[0],\r      password: store.get('signin.password'),\r      isPasswordVisible: store.get('signin.password.isVisible'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onInput: e => {\r        store.set({ 'signin.password': e.target.value });\r      },\r      onClickRight: () => {\r        const { state, actions } = SigninControl(store);\r        const enabled = state.rightEnabled;\r        if (enabled) actions.onClickRight();\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r    'input-wrapper': `\r      display: flex;\r      flex-flow: column;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, name, password, isPasswordVisible } = state;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: `Hello ${name}!`,\r              es: `Hola ${name}!`,\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'Enter your password',\r              es: 'Ingresa tu contrasea',\r            }, language)}\r          </div>\r        </div>\r        <div style=${styles['input-wrapper']}>\r          ${Input({\r            type: isPasswordVisible ? 'text' : 'password',\r            placeholder: '********',\r            value: password,\r            onInput: actions.onInput,\r            onClickRight: actions.onClickRight,\r          })}\r          ${PasswordOptions({ forgot: true, page: 'signin' })}\r        </div>\r      </div>\r    `;\r\r  }\r\r});\r\r","/* ------------------------------------------------------------------------------------------------\r\r===== SIGNIN WORFLOW =====\r\r0: EMAIL\r    isRegistered ?\r    - false: error\r    - true: continue\r1: PASSWORD\r    - ko: error\r    - ok: => Dashboard!\r    - forgot => ===== FORGOT WORFLOW =====\r\r-------------------------------------------------------------------------------------------------*/\r\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport Email from './<>/Email';\rimport Password from './<>/Password';\r\r/* --------------------------------------------------------------------------------------------- */\r\rconst { Carrousel, Navigation } = ui.components;\rconst { Header, Tabs } = ui.fragments;\rconst screens = [ Email, Password ];\rconst numSteps = screens.length;\r\r/* --------------------------------------------------------------------------------------------- */\r\rexport const SigninControl = store => {\r\r  const language = store.get('language');\r  const currentStep = store.get('signin.currentStep');\r  const currentCheck = _.get({\r    0: store.check('email', store.get('signin.email')),\r    1: store.check('password', store.get('signin.password')),\r  }, currentStep, {});\r\r  const checkResult = _.get(currentCheck, 'result', false);\r  const alert = store.alerts.find(item => item.isVisible);\r\r  return {\r    state: {\r      currentStep,\r      leftEnabled: currentStep > 0,\r      rightEnabled: checkResult,\r      checkText: _.get(currentCheck, `message.${language}`, ''),\r      alertText: _.get(alert, `message.${language}`, ''),\r    },\r\r    actions: {\r      onClickLeft: () => {\r        // const currentStep = store.get('signin.currentStep');\r        if (currentStep > 0) store.set({ 'signin.currentStep': currentStep - 1 });\r      },\r      onClickRight: () => {\r        // const currentStep = store.get('signin.currentStep');\r        if (currentStep === 0) store.call('signinEmail');\r        if (currentStep === 1) store.call('signinPassword');\r      },\r    },\r\r  };\r\r};\r\r/* --------------------------------------------------------------------------------------------- */\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return SigninControl(store).state;\r  },\r\r  actions(props, store) {\r    return SigninControl(store).actions;\r  },\r\r  classes: {\r    container: `\r      display: flex;\r      flex-flow: column;\r      justify-content: space-around;\r      height: 100%;\r      position: relative;\r    `,\r  },\r\r  render({ state, actions, classes }) {\r\r    const { currentStep, leftEnabled, rightEnabled, checkText, alertText } = state;\r    const { onClickLeft, onClickRight } = actions;\r\r    return ui.html`\r      <div id='sign-in' class=${classes.container}>\r        ${Header({ numSteps, currentStep })}\r        ${Carrousel({ currentStep, screens })}\r        ${Navigation({\r          currentPage: 'signin',\r          onClickLeft,\r          onClickRight,\r          leftEnabled,\r          rightEnabled,\r          text: alertText || checkText,\r          color: alertText ? ui.lib.Colors.RED_WARNING : '',\r        })}\r        ${Tabs()}\r      </div>\r    `;\r\r  }\r\r});\r\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport { SignupControl } from '../SignUp';\r\rconst { Input } = ui.components;\r\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      name: store.get('signup.name'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onInput: e => {\r        store.set({ 'signup.name': e.target.value });\r      },\r      onClickRight: () => {\r        const { state, actions } = SignupControl(store);\r        const enabled = state.rightEnabled;\r        if (enabled) actions.onClickRight();\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, name } = state;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: 'Welcome!',\r              es: 'Bienvenid@!',\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'What\\'s your name?',\r              es: 'Cul es tu nombre?',\r            }, language)}\r          </div>\r        </div>\r        ${Input({\r          type: 'text',\r          placeholder: _.get({ en: 'Your name', es: 'Tu nombre' }, language),\r          value: name,\r          onInput: actions.onInput,\r          onClickRight: actions.onClickRight,\r        })}\r      </div>\r    `;\r\r  }\r\r});\r\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport { SignupControl } from '../SignUp';\r\rconst { Input } = ui.components;\r\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      name: store.get('signup.name').split(' ')[0],\r      email: store.get('signup.email'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onInput: e => {\r        store.set({ 'signup.email': e.target.value });\r      },\r      onClickRight: () => {\r        const { state, actions } = SignupControl(store);\r        const enabled = state.rightEnabled;\r        if (enabled) actions.onClickRight();\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, name, email } = state;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: `Hello ${name}!`,\r              es: `Hola ${name}!`,\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'What email do you want to use?',\r              es: 'Qu email deseas usar?',\r            }, language)}\r          </div>\r        </div>\r        ${Input({\r          type: 'text',\r          placeholder: _.get({ en: 'Your email', es: 'Tu email' }, language),\r          value: email,\r          onInput: actions.onInput,\r          onClickRight: actions.onClickRight,\r        })}\r      </div>\r    `;\r\r  }\r\r});\r\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport { SignupControl } from '../SignUp';\r\rconst { Input } = ui.components;\rconst { PasswordOptions } = ui.fragments;\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      password: store.get('signup.password'),\r      isPasswordVisible: store.get('signup.password.isVisible'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onInput: e => {\r        store.set({ 'signup.password': e.target.value });\r      },\r      onClickRight: () => {\r        const { state, actions } = SignupControl(store);\r        const enabled = state.rightEnabled;\r        if (enabled) actions.onClickRight();\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r    'input-wrapper': `\r      display: flex;\r      flex-flow: column;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, isPasswordVisible, password } = state;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: 'Perfect, now:',\r              es: 'Perfecto, ahora:',\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'Choose a password',\r              es: 'Elige una contrasea',\r            }, language)}\r          </div>\r        </div>\r        <div style=${styles['input-wrapper']}>\r          ${Input({\r            type: isPasswordVisible ? 'text' : 'password',\r            placeholder: '********',\r            value: password,\r            onInput: actions.onInput,\r            onClickRight: actions.onClickRight,\r          })}\r          ${PasswordOptions({ page: 'signup' })}\r        </div>\r      </div>\r    `;\r\r  }\r\r});\r\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\r\rconst { Token, NumKeyboard } = ui.components;\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      tokenDigits: store.get('signup.tokenDigits'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onPressNum: digit => {\r        if (store.get('signup.tokenDigits').length < 6) {\r          store.set({ 'signup.tokenDigits': value => value.concat(String(digit)) });\r        }\r      },\r      onPressDel: () => {\r        if (store.get('signup.tokenDigits').length > 0) {\r          store.set({ 'signup.tokenDigits': value => value.slice(0, -1) });\r        }\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, tokenDigits } = state;\r    const { onPressNum, onPressDel } = actions;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: 'Excelent! Last step:',\r              es: 'Excelente! ltimo paso:',\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'Enter the code received by email',\r              es: 'Ingresa el cdigo recibido por email',\r            }, language)}\r          </div>\r        </div>\r        ${Token({ tokenDigits })}\r        ${NumKeyboard({ onPressNum, onPressDel })}\r      </div>\r    `;\r\r  }\r\r});\r\r","/* ------------------------------------------------------------------------------------------------\r\r===== SIGNUP WORFLOW =====\r\r0: NAME\r1: EMAIL\r    isRegistered ?\r    - true: error\r    - false: continue\r2: PASSWORD\r    sendEmail (signupToken)\r3: TOKEN\r    - ko: error\r    - ok: isRegistered, setPassword => Welcome!\r\r-------------------------------------------------------------------------------------------------*/\r\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport Name from './<>/Name';\rimport Email from './<>/Email';\rimport Password from './<>/Password';\rimport Token from './<>/Token';\r\r/* --------------------------------------------------------------------------------------------- */\r\rconst { Navigation, Carrousel } = ui.components;\rconst { Header, Tabs } = ui.fragments;\rconst screens = [ Name, Email, Password, Token ];\rconst numSteps = screens.length;\r\r/* --------------------------------------------------------------------------------------------- */\r\rexport const SignupControl = store => {\r\r  const language = store.get('language');\r  const currentStep = store.get('signup.currentStep');\r  const currentCheck = _.get({\r    0: store.check('name', store.get('signup.name')),\r    1: store.check('email', store.get('signup.email')),\r    2: store.check('password', store.get('signup.password')),\r    3: { result: store.get('signup.tokenDigits').length === 6 },\r  }, currentStep, {});\r\r  const checkResult = _.get(currentCheck, 'result', false);\r  const alert = store.alerts.find(item => item.isVisible);\r\r  return {\r    state: {\r      currentStep,\r      leftEnabled: currentStep > 0,\r      rightEnabled: checkResult,\r      checkText: _.get(currentCheck, `message.${language}`, ''),\r      alertText: _.get(alert, `message.${language}`, ''),\r    },\r\r    actions: {\r      onClickLeft: () => {\r        // const currentStep = store.get('signup.currentStep');\r        if (currentStep > 0) store.set({ 'signup.currentStep': currentStep - 1 });\r      },\r      onClickRight: () => {\r        // const currentStep = store.get('signup.currentStep');\r        if (currentStep === 0) store.set({ 'signup.currentStep': 1 });\r        if (currentStep === 1) store.call('signupEmail');\r        if (currentStep === 2) store.call('signupPassword');\r        if (currentStep === 3) store.call('signupToken');\r      },\r    },\r\r  };\r\r};\r\r/* --------------------------------------------------------------------------------------------- */\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return SignupControl(store).state;\r  },\r\r  actions(props, store) {\r    return SignupControl(store).actions;\r  },\r\r\r  classes: {\r    container: `\r      display: flex;\r      flex-flow: column;\r      justify-content: space-around;\r      height: 100%;\r      position: relative;\r    `,\r  },\r\r  render({ state, actions, classes }) {\r\r    const { currentStep, leftEnabled, rightEnabled, checkText, alertText } = state;\r    const { onClickLeft, onClickRight } = actions;\r\r    return ui.html`\r      <div id='sign-up' class=${classes.container}>\r        ${Header({ numSteps, currentStep })}\r        ${Carrousel({ currentStep, screens })}\r        ${Navigation({\r          currentPage: 'signup',\r          onClickLeft,\r          onClickRight,\r          leftEnabled,\r          rightEnabled,\r          text: alertText || checkText,\r          color: alertText ? ui.lib.Colors.RED_WARNING : '',\r        })}\r        ${Tabs()}\r      </div>\r    `;\r\r  }\r\r});\r","\r\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\r\r/* --------------------------------------------------------------------------------------------- */\r\rconst { Button } = ui.components;\rconst { Header } = ui.fragments;\r\r/* --------------------------------------------------------------------------------------------- */\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-between;\r      align-items: center;\r      padding-bottom: 20%;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 22px;\r      padding: 10px 20px 20px 20px;\r      color: hsl(0, 0%, 35%);\r    `,\r    button: `\r      padding: 60px;\r      width: 100%;\r      font-size: 20px;\r    `,\r  },\r\r  render({ state, styles }) {\r\r    const { language } = state;\r\r    return ui.html`\r      <div id='welcome' style=${styles.wrapper}>\r        ${Header()}\r        <div style=${styles.title}>\r          ${\r            _.get({\r              en: 'Welcome!',\r              es: 'Bienvenid@!',\r            }, language)\r          }\r        </div>\r        <div style=${styles.subtitle}>\r          ${\r            _.get({\r              en: 'You successfully registered your account',\r              es: 'Has registrado exitosamente tu cuenta',\r            }, language)\r          }\r        </div>\r        <div style=${styles.button}>\r          ${\r            Button({\r              text: _.get({\r                en: 'Go to my Dashboard',\r                es: 'Ir a mi Dashboard',\r              }, language),\r              color: 'white',\r              bgColor: 'mediumseagreen',\r              height: 44,\r              href: 'https://www.google.com',\r            })\r          }\r        </div>\r      </div>\r    `;\r\r  }\r\r});\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport { ForgotControl } from '../Forgot';\r\rconst { Input } = ui.components;\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      email: store.get('forgot.email'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onInput: e => {\r        const email = e.target.value;\r        store.set({ 'signin.email': email, 'forgot.email': email });\r      },\r      onClickRight: () => {\r        const { state, actions } = ForgotControl(store);\r        const enabled = state.rightEnabled;\r        if (enabled) actions.onClickRight();\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r  },\r\r  render({ actions, state, styles }) {\r\r    const { language } = state;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: 'Password recovery',\r              es: 'Recuperacin de contrasea',\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'Enter your email',\r              es: 'Ingresa tu email',\r            }, language)}\r          </div>\r        </div>\r        ${Input({\r          type: 'text',\r          placeholder: _.get({ en: 'Your email', es: 'Tu email' }, language),\r          value: state.email,\r          onInput: actions.onInput,\r          onClickRight: actions.onClickRight,\r        })}\r      </div>\r    `;\r\r  }\r\r});\r\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport { ForgotControl } from '../Forgot';\r\rconst { Input } = ui.components;\rconst { PasswordOptions } = ui.fragments;\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      name: store.get('forgot.name').split(' ')[0],\r      password: store.get('forgot.password'),\r      isPasswordVisible: store.get('forgot.password.isVisible'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onInput: e => {\r        store.set({ 'forgot.password': e.target.value });\r      },\r      onClickRight: () => {\r        const { state, actions } = ForgotControl(store);\r        const enabled = state.rightEnabled;\r        if (enabled) actions.onClickRight();\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r    'input-wrapper': `\r      display: flex;\r      flex-flow: column;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, name, password } = state;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: `Don't worry ${name}!`,\r              es: `No te preocupes ${name}!`,\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'Just type a new password',\r              es: 'Slo ingresa una nueva contrasea',\r            }, language)}\r          </div>\r        </div>\r        <div style=${styles['input-wrapper']}>\r          ${Input({\r            type: state.isPasswordVisible ? 'text' : 'password',\r            placeholder: '********',\r            value: password,\r            onInput: actions.onInput,\r            onClickRight: actions.onClickRight,\r          })}\r          ${PasswordOptions({ page: 'forgot' })}\r        </div>\r      </div>\r    `;\r\r  }\r\r});\r\r","\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\r\rconst { Token, NumKeyboard } = ui.components;\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      language: store.get('language'),\r      tokenDigits: store.get('forgot.tokenDigits'),\r    };\r  },\r\r  actions(props, store) {\r    return {\r      onPressNum: digit => {\r        if (store.get('forgot.tokenDigits').length < 6) {\r          store.set({ 'forgot.tokenDigits': value => value.concat(String(digit)) });\r        }\r      },\r      onPressDel: () => {\r        if (store.get('forgot.tokenDigits').length > 0) {\r          store.set({ 'forgot.tokenDigits': value => value.slice(0, -1) });\r        }\r      },\r    };\r  },\r\r  styles: {\r    wrapper: `\r      display: flex;\r      flex-flow: column;\r      height: 100%;\r      justify-content: space-around;\r    `,\r    title: `\r      font-size: 28px;\r      padding: 20px 20px 10px 20px;\r    `,\r    subtitle: `\r      font-size: 24px;\r      padding: 10px 20px 20px 20px;\r    `,\r  },\r\r  render({ state, styles, actions }) {\r\r    const { language, tokenDigits } = state;\r    const { onPressNum, onPressDel } = actions;\r\r    return ui.html`\r      <div style=${styles.wrapper}>\r        <div>\r          <div style=${styles.title}>\r            ${_.get({\r              en: 'Let\\'s change your password:',\r              es: 'Vamos a cambiar tu contrasea:',\r            }, language)}\r          </div>\r          <div style=${styles.subtitle}>\r            ${_.get({\r              en: 'Enter the code received by email',\r              es: 'Ingresa el cdigo recibido por email',\r            }, language)}\r          </div>\r        </div>\r        ${Token({ tokenDigits })}\r        ${NumKeyboard({ onPressNum, onPressDel })}\r      </div>\r    `;\r\r  }\r\r});\r\r","/* ------------------------------------------------------------------------------------------------\r\r===== FORGOT WORFLOW =====\r\r0: EMAIL (prepopulate with signin.email)\r    isRegistered ?\r    - false: error\r    - true: continue\r1: PASSWORD (new)\r    sendEmail (forgotToken)\r3: TOKEN\r    - ko: error\r    - ok: setPassword => Dashboard!\r\r-------------------------------------------------------------------------------------------------*/\r\rimport _ from '@jmaguirrei/belt';\rimport { ui } from '/module/context';\rimport Email from './<>/Email';\rimport Password from './<>/Password';\rimport Token from './<>/Token';\r\r/* --------------------------------------------------------------------------------------------- */\r\rconst { Carrousel, Navigation } = ui.components;\rconst { Header, Tabs } = ui.fragments;\rconst screens = [ Email, Password, Token ];\rconst numSteps = screens.length;\r\r/* --------------------------------------------------------------------------------------------- */\r\rexport const ForgotControl = store => {\r\r  const language = store.get('language');\r  const currentStep = store.get('forgot.currentStep');\r  const currentCheck = _.get({\r    0: store.check('email', store.get('signin.email')),\r    1: store.check('password', store.get('forgot.password')),\r    2: { result: store.get('forgot.tokenDigits').length === 6 },\r  }, currentStep, {});\r\r  const checkResult = _.get(currentCheck, 'result', false);\r  const alert = store.alerts.find(item => item.isVisible);\r\r  return {\r    state: {\r      currentStep,\r      leftEnabled: currentStep > 0,\r      rightEnabled: checkResult,\r      checkText: _.get(currentCheck, `message.${language}`, ''),\r      alertText: _.get(alert, `message.${language}`, ''),\r    },\r\r    actions: {\r      onClickLeft: () => {\r        // const currentStep = store.get('forgot.currentStep');\r        if (currentStep > 0) store.set({ 'forgot.currentStep': currentStep - 1 });\r      },\r      onClickRight: () => {\r        // const currentStep = store.get('forgot.currentStep');\r        if (currentStep === 0) store.call('forgotEmail');\r        if (currentStep === 1) store.call('forgotPassword');\r        if (currentStep === 2) store.call('forgotToken');\r      },\r    },\r\r  };\r\r};\r\r/* --------------------------------------------------------------------------------------------- */\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return ForgotControl(store).state;\r  },\r\r  actions(props, store) {\r    return ForgotControl(store).actions;\r  },\r\r  classes: {\r    container: `\r      display: flex;\r      flex-flow: column;\r      justify-content: space-around;\r      height: 100%;\r      position: relative;\r    `,\r  },\r\r  render({ state, actions, classes }) {\r\r    const { currentStep, leftEnabled, rightEnabled, checkText, alertText } = state;\r    const { onClickLeft, onClickRight } = actions;\r\r    return ui.html`\r      <div id='sign-in' class=${classes.container}>\r        ${Header({ numSteps, currentStep })}\r        ${Carrousel({ currentStep, screens })}\r        ${Navigation({\r          currentPage: 'forgot',\r          onClickLeft,\r          onClickRight,\r          leftEnabled,\r          rightEnabled,\r          text: alertText || checkText,\r          color: alertText ? ui.lib.Colors.RED_WARNING : '',\r        })}\r        ${Tabs()}\r      </div>\r    `;\r\r  }\r\r});\r\r","\r\rimport { ui } from '/module/context';\rimport SignIn from './pages/<SignIn>/SignIn';\rimport SignUp from './pages/<SignUp>/SignUp';\rimport Welcome from './pages/<Welcome>/Welcome';\rimport Forgot from './pages/<Forgot>/Forgot';\r\r/* --------------------------------------------------------------------------------------------- */\r\rconst { Modal, NotFound } = ui.components;\r\rexport default ui.hoc({\r\r  state(props, store) {\r    return {\r      currentPage: store.get('currentPage') || props.router.currentPage,\r    };\r  },\r\r  render({ props, state }) {\r\r    const { pages } = props.router;\r    const { currentPage } = state;\r\r    const findRoute = pages.includes(currentPage);\r    if (!findRoute) return ui.html`${NotFound()}`;\r\r\r    return ui.html`\r      <div id='page-wrapper'>\r        ${\r          Modal({\r            currentPage,\r            pages: {\r              signin: SignIn,\r              signup: SignUp,\r              welcome: Welcome,\r              forgot: Forgot,\r            }\r          })\r        }\r      </div>\r    `;\r\r  }\r\r});\r\r","\rexport const routes = {\r\r  _root_: props => require('./ui/Container').default(props),\r  signin: props => require('./ui/pages/<SignIn>/SignIn').default(props),\r  signup: props => require('./ui/pages/<SignUp>/SignUp').default(props),\r  welcome: props => require('./ui/pages/<Welcome>/Welcome').default(props),\r  forgot: props => require('./ui/pages/<Forgot>/Forgot').default(props),\r\r};\r","\rconst isBrowser = process.browser;\rconst isProduction = process.env.NODE_ENV === 'production';\r\r// Framework\rimport startUI from '@jmaguirrei/ui';\rimport createStore from '@jmaguirrei/store';\r\r// Definitions\rimport StoreDefinition from './store';\rimport componentsMaker from './ui/components';\rimport fragmentsMaker from './ui/fragments';\rimport * as uiLib from './ui/lib';\rimport { routes } from './routes';\r\r// Initialization\rconst uiFramework = startUI(isBrowser);\r\r// Store is created and used to create hoc afterwards\rexport const Store = createStore(StoreDefinition, uiFramework.render);\rif (isBrowser && !isProduction) window.Store = Store;\r\r/*\r  ui is an object that has:\r  hoc, framework (html, repeat...) and lib for all kind of components\r  + (standard) components for fragments components\r  + (also) fragments components for pages components\r*/\rconst hoc = uiFramework.createHoc(Store);\rconst components = componentsMaker({ hoc, ...uiFramework, lib: uiLib });\rconst fragments = fragmentsMaker({ hoc, ...uiFramework, lib: uiLib, components });\r\r// Main (pages) hierarchy\rexport const ui = {\r  hoc,\r  html: uiFramework.html, // for convenience can be accessed directly\r  framework: uiFramework,\r  lib: uiLib,\r  components,\r  fragments,\r};\r\r// Start application: ConnectToServer, First Render, Service workers, ...\rexport default {\r\r  start() {\r    window.onload = () => {\r      Store.methods.startApp({\r        appData: window.__APP_DATA__,\r        routes,\r      });\r    };\r  },\r\r};\r\r","\nimport app from '/module/context';\n\napp.start();\n\n"]}